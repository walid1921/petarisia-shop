const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BziGdwzm.js","assets/index-CU9ICRvn.css","assets/index-82QMdBWK.js","assets/swag-paypal-settings.constant-B6JYmAcc.js","assets/index-DA-yjtIY.css","assets/index-DVkGKjlB.js","assets/index-BmAyTjXj.css","assets/index-DxLTd4xV.js","assets/index-Byf0Bk_y.css","assets/index-R7pIpB7B.js","assets/index-DBZ497D4.css","assets/index-BsFzNe0C.js","assets/index-VgY7miCV.css","assets/index-NSbpapJx.js","assets/index-DxjX7zqQ.css","assets/index-DnLidD0f.js","assets/index-Br_Ysh01.css","assets/index-DW5rY_2a.js","assets/index-NbytPWh9.css","assets/index-D8Q_Oavj.js","assets/index-CLP-xInC.css","assets/index-BJtQKoRZ.js","assets/index-D0qcIadp.css","assets/index-COETuq5G.js","assets/index-CN4ZE8zI.css","assets/index-CsBAAWMw.js","assets/index-C7Fc4ciV.css","assets/index-BCZeh6ai.js","assets/index-CiLDMmBW.css","assets/index-CjRcIrtF.js","assets/index-BVeiQxSF.css","assets/index-CzUkyfh1.js","assets/index-BG2n8H6c.css","assets/index-CTAXISfe.js","assets/index-DRXG5W6G.css","assets/index-B6HE4bLc.js","assets/index-c5j1S4M2.css","assets/index-B_pWpqqy.js"])))=>i.map(i=>d[i]);
var ES=Object.defineProperty;var TS=(n,i,r)=>i in n?ES(n,i,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[i]=r;var Qp=(n,i,r)=>TS(n,typeof i!="symbol"?i+"":i,r);const xS="modulepreload",RS=function(n){return window.__sw__.assetPath+"/bundles/swagpaypal/administration/"+n},ed={},Re=function(i,r,o){let c=Promise.resolve();if(r&&r.length>0){let _=function(b){return Promise.all(b.map(y=>Promise.resolve(y).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const g=document.querySelector("meta[property=csp-nonce]"),w=(g==null?void 0:g.nonce)||(g==null?void 0:g.getAttribute("nonce"));c=_(r.map(b=>{if(b=RS(b),b in ed)return;ed[b]=!0;const y=b.endsWith(".css"),v=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${b}"]${v}`))return;const T=document.createElement("link");if(T.rel=y?"stylesheet":xS,y||(T.as="script"),T.crossOrigin="",T.href=b,w&&T.setAttribute("nonce",w),document.head.appendChild(T),y)return new Promise((B,K)=>{T.addEventListener("load",B),T.addEventListener("error",()=>K(new Error(`Unable to preload CSS for ${b}`)))})}))}function h(_){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=_,window.dispatchEvent(g),!g.defaultPrevented)throw _}return c.then(_=>{for(const g of _||[])g.status==="rejected"&&h(g.reason);return i().catch(h)})};Shopware.Service("privileges").addPrivilegeMappingEntry({category:"permissions",parent:"swag_paypal",key:"swag_paypal",roles:{viewer:{privileges:["sales_channel:read","sales_channel_payment_method:read","system_config:read"],dependencies:[]},editor:{privileges:["sales_channel:update","sales_channel_payment_method:create","sales_channel_payment_method:update","system_config:update","system_config:create","system_config:delete"],dependencies:["swag_paypal.viewer"]}}});Shopware.Service("privileges").addPrivilegeMappingEntry({category:"permissions",parent:null,key:"sales_channel",roles:{viewer:{privileges:["swag_paypal_pos_sales_channel:read","swag_paypal_pos_sales_channel_run:read","swag_paypal_pos_sales_channel_run:update","swag_paypal_pos_sales_channel_run:create","swag_paypal_pos_sales_channel_run_log:read","sales_channel_payment_method:read"]},editor:{privileges:["swag_paypal_pos_sales_channel:update","swag_paypal_pos_sales_channel_run:delete","payment_method:update"]},creator:{privileges:["swag_paypal_pos_sales_channel:create","payment_method:create","shipping_method:create","delivery_time:create"]},deleter:{privileges:["swag_paypal_pos_sales_channel:delete"]}}});Shopware.Store.register({id:"swagPayPalMerchantInformation",state:()=>({salesChannel:null,allMerchantInformations:{}}),actions:{set(n,i){this.allMerchantInformations[String(n)]=i},has(n){return this.allMerchantInformations.hasOwnProperty(String(n))},delete(n){delete this.allMerchantInformations[String(n)]}},getters:{isLoading(){return!this.allMerchantInformations.hasOwnProperty(String(this.salesChannel))},actual(){return this.allMerchantInformations[String(this.salesChannel)]??{merchantIntegrations:null,capabilities:{}}},products(){var n;return((n=this.actual.merchantIntegrations)==null?void 0:n.products)??[]},capabilities(){return this.actual.capabilities},merchantCapabilities(){var n;return((n=this.actual.merchantIntegrations)==null?void 0:n.capabilities)??[]},canVault(){return this.merchantCapabilities.some(n=>n.name==="PAYPAL_WALLET_VAULTING_ADVANCED"&&n.status==="ACTIVE")},canPPCP(){return this.merchantCapabilities.some(n=>n.name==="PAYPAL_CHECKOUT"&&n.status==="ACTIVE")}}});Shopware.Store.register({id:"swagPayPalSettings",state:()=>({salesChannel:null,allConfigs:{}}),actions:{setConfig(n,i){this.allConfigs[String(n)]=i},hasConfig(n){return this.allConfigs.hasOwnProperty(String(n))},set(n,i){this.allConfigs[String(this.salesChannel)][n]=i},get(n){return this.actual[n]??this.root[n]},getRoot(n){return this.root[n]},getActual(n){return this.actual[n]}},getters:{isLoading(){return!this.allConfigs.hasOwnProperty(String(this.salesChannel))},isSandbox(){return this.actual["SwagPayPal.settings.sandbox"]??this.root["SwagPayPal.settings.sandbox"]??!1},root(){return this.allConfigs.null??{}},actual(){return this.allConfigs[String(this.salesChannel)]??{}}}});Shopware.Component.register("swag-paypal-onboarding-button",()=>Re(()=>import("./index-BziGdwzm.js"),__vite__mapDeps([0,1])));Shopware.Component.register("swag-paypal-setting",()=>Re(()=>import("./index-82QMdBWK.js"),__vite__mapDeps([2,3,4])));Shopware.Vue.watch(()=>Shopware.Store.get("swagPayPalSettings").salesChannel,n=>{Shopware.Store.get("swagPayPalMerchantInformation").salesChannel=n});Shopware.Vue.watch(()=>Shopware.Store.get("swagPayPalMerchantInformation").salesChannel,n=>{Shopware.Store.get("swagPayPalSettings").salesChannel=n});Shopware.Mixin.register("swag-paypal-notification",Shopware.Component.wrapComponentConfig({mixins:[Shopware.Mixin.getByName("notification")],methods:{createMessageFromError(n){var o,c;return(n.errors??((c=(o=n==null?void 0:n.response)==null?void 0:o.data)==null?void 0:c.errors)??[]).map(h=>{var b,y;const _=typeof((y=(b=h.meta)==null?void 0:b.parameters)==null?void 0:y.message)=="string"&&h.meta.parameters.message||h.detail,g=`swag-paypal.errors.${h.code}`,w=this.$t(g,{message:_});return g!==w?w:_}).join("<br>")}}}));Shopware.Mixin.register("swag-paypal-pos-catch-error",Shopware.Component.wrapComponentConfig({mixins:[Shopware.Mixin.getByName("swag-paypal-notification")],methods:{catchError(n,i){var c,h;const o=(((h=(c=i==null?void 0:i.response)==null?void 0:c.data)==null?void 0:h.errors)??[]).map(_=>{var b;let g="";const w=(b=_.meta)==null?void 0:b.parameters;return w&&(w.salesChannelIds?g+=`<br>${w.salesChannelIds}`:w.message&&(g+=`${w.message} (${w.name??""})`),w.name&&(g&&(g+=": "),g+=`${w.name}`)),g||(g=this.createMessageFromError({errors:[_]})),g}).join("<br>");this.createNotificationError({title:this.$t("swag-paypal.notifications.posError.title"),message:(n?this.$t(n)+": ":"")+o})}}}));Shopware.Mixin.register("swag-paypal-pos-log-label",Shopware.Component.wrapComponentConfig({methods:{getLabelVariant(n){return n>=400?"danger":n>=300?"warning":n>200?"info":"success"},getLabel(n){return n>=300?"swag-paypal-pos.detail.logs.states.failed":"swag-paypal-pos.detail.logs.states.success"}}}));Shopware.Mixin.register("swag-paypal-settings",Shopware.Component.wrapComponentConfig({inject:["systemConfigApiService","SwagPayPalSettingsService"],mixins:[Shopware.Mixin.getByName("swag-paypal-notification")],data(){return{savingSettings:"none"}},computed:{settingsStore(){return Shopware.Store.get("swagPayPalSettings")}},watch:{"settingsStore.salesChannel":{immediate:!0,handler(n){this.fetchSettings(n)}}},beforeCreate(){Shopware.Store.get("swagPayPalSettings").$reset()},methods:{async fetchSettings(n){if(this.settingsStore.hasConfig(n))return;const i=await this.systemConfigApiService.getValues("SwagPayPal.settings",n);this.settingsStore.setConfig(n,i||{})},async saveSettings(){return this.savingSettings="loading",this.SwagPayPalSettingsService.save(this.settingsStore.allConfigs).then(n=>(Object.entries(n).forEach(([i,r])=>{this.handleSettingsSaveInformation(i,r)}),this.savingSettings="success",setTimeout(()=>{this.savingSettings="none"},5e3),n)).catch(n=>{this.createNotificationError({title:this.$t("swag-paypal.notifications.save.title"),message:this.$t("swag-paypal.notifications.save.errorMessage",{message:this.createMessageFromError(n)})}),this.savingSettings="none"})},handleSettingsSaveInformation(n,i){(i.sandboxCredentialsChanged||i.liveCredentialsChanged)&&Shopware.Store.get("swagPayPalMerchantInformation").delete(n),i.webhookErrors.forEach(r=>{this.createNotificationWarning({title:this.$t("swag-paypal.notifications.save.title"),message:this.$t("swag-paypal.notifications.save.webhookMessage",{message:r})})})}}}));Shopware.Mixin.register("swag-paypal-merchant-information",Shopware.Component.wrapComponentConfig({inject:["SwagPayPalSettingsService"],mixins:[Shopware.Mixin.getByName("swag-paypal-notification")],computed:{merchantInformationStore(){return Shopware.Store.get("swagPayPalMerchantInformation")}},watch:{"merchantInformationStore.salesChannel":{immediate:!0,handler(n){this.fetchMerchantInformation(n)}},savingSettings(n){n==="success"&&this.fetchMerchantInformation(this.merchantInformationStore.salesChannel)}},beforeCreate(){Shopware.Store.get("swagPayPalMerchantInformation").$reset()},methods:{async fetchMerchantInformation(n){if(this.merchantInformationStore.has(n))return;const i=await this.SwagPayPalSettingsService.getMerchantInformation(n).catch(r=>(this.createNotificationError({title:this.$t("swag-paypal.notifications.merchantInformation.title"),message:this.$t("swag-paypal.notifications.merchantInformation.errorMessage",{message:this.createMessageFromError(r)})}),null));i&&this.merchantInformationStore.set(n,i)}}}));Shopware.Component.override("sw-first-run-wizard-paypal-credentials",()=>Re(()=>import("./index-DVkGKjlB.js"),__vite__mapDeps([5,6])));Shopware.Component.override("sw-sales-channel-modal-detail",()=>Re(()=>import("./index-DxLTd4xV.js"),__vite__mapDeps([7,8])));Shopware.Component.override("sw-sales-channel-modal-grid",()=>Re(()=>import("./index-R7pIpB7B.js"),__vite__mapDeps([9,10])));Shopware.Component.override("sw-settings-shipping-detail",()=>Re(()=>import("./index-BsFzNe0C.js"),__vite__mapDeps([11,12])));Shopware.Component.override("sw-extension-card-base",()=>Re(()=>import("./index-DT6hpUCH.js"),[]));Shopware.Service("privileges").addPrivilegeMappingEntry({category:"permissions",parent:"swag_paypal",key:"swag_paypal_disputes",roles:{viewer:{privileges:["sales_channel:read"],dependencies:[]}}});const LS=`{% block swag_paypal_disputes_list %} <sw-page class="swag-paypal-disputes-list"> {% block swag_paypal_disputes_list_smart_bar_header %} <template #smart-bar-header> {% block swag_paypal_disputes_list_smart_bar_header_title %} <h2> {% block swag_paypal_disputes_list_smart_bar_header_title_text %} {{ $t('swag-paypal-disputes.list.title') }} {% endblock %} {% block swag_paypal_disputes_list_smart_bar_header_amount %} <template v-if="!isLoading"> ({{ total }}) </template> {% endblock %} </h2> {% endblock %} </template> {% endblock %} {% block swag_paypal_disputes_list_content %} <template #content> <sw-loader v-if="isLoading" /> <template v-else> {% block swag_paypal_disputes_list_content_grid %} <sw-data-grid v-if="disputes.length > 0" :dataSource="visibleDisputes" :columns="disputesColumns" :showActions="false" :showSelection="false" > {% block swag_paypal_disputes_list_content_grid_column_update_time %} <template #column-update_time="{ item }"> <div> <div>{{ formatUpdateDate(item.update_time) }}</div> <div>{{ formatUpdateTime(item.update_time) }}</div> </div> </template> {% endblock %} {% block swag_paypal_disputes_list_content_grid_column_seller_response_due_date %} <template #column-response_due_date="{ item }"> <template v-if="item.seller_response_due_date"> <strong>{{ $t('swag-paypal-disputes.common.response_due_date.seller') }}</strong>: {{ formatDate(item.seller_response_due_date) }} </template> <template v-else-if="item.buyer_response_due_date"> <strong>{{ $t('swag-paypal-disputes.common.response_due_date.buyer') }}</strong>: {{ formatDate(item.buyer_response_due_date) }} </template> </template> {% endblock %} {% block swag_paypal_disputes_list_content_grid_column_status %} <template #column-status="{ item }"> <div> <div> {{ formatTechnicalText(item.dispute_state) }} <template v-if="item.dispute_state !== item.status"> ({{ formatTechnicalText(item.status) }}) </template> </div> <div class="swag-paypal-disputes-list__reason"> {{ formatTechnicalText(item.reason) }} </div> </div> </template> {% endblock %} {% block swag_paypal_disputes_list_content_grid_column_dispute_id %} <template #column-dispute_id="{ item }"> <router-link :to="{ name: 'swag.paypal.disputes.detail', params: { disputeId: item.dispute_id , salesChannelId} }" > {{ item.dispute_id }} </router-link> </template> {% endblock %} {% block swag_paypal_disputes_list_content_grid_column_dispute_life_cycle_stage %} <template #column-dispute_life_cycle_stage="{ item }"> <div v-if="item.dispute_life_cycle_stage === 'INQUIRY'" class="swag-paypal-disputes-list__stage-inquiry" > {{ formatTechnicalText(item.dispute_life_cycle_stage) }} </div> <div v-else class="swag-paypal-disputes-list__stage-other" > {{ formatTechnicalText(item.dispute_life_cycle_stage) }} </div> </template> {% endblock %} {% block swag_paypal_disputes_list_content_grid_column_dispute_amount %} <template #column-dispute_amount="{ item }"> {{ item.dispute_amount.value }} {{ item.dispute_amount.currency_code }} </template> {% endblock %} {% block swag_paypal_disputes_list_content_grid_pagination %} <template #pagination> <sw-pagination :page="page" :limit="limit" :total="total" @page-change="onPageChange" /> </template> {% endblock %} </sw-data-grid> {% endblock %} {% block swag_paypal_disputes_list_content_empty_state %} <sw-empty-state v-if="notAuthorized" :title="$t('swag-paypal-disputes.list.emptyStateNotAuthorized.title')" icon="regular-exclamation-triangle" color="#F88962" > <i18n-t tag="p" keypath="swag-paypal-disputes.list.emptyStateNotAuthorized.subline" > <template #link> <sw-internal-link :routerLink="{ name: 'sw.settings.payment.overview' }" :inline="true" :hideIcon="true" > {{ $t('swag-paypal-disputes.list.emptyStateNotAuthorized.link') }} </sw-internal-link> </template> </i18n-t> </sw-empty-state> <sw-empty-state v-else-if="showEmptyStateWithNoDisputes" :title="$t('swag-paypal-disputes.list.emptyState.title')" :subline="$t('swag-paypal-disputes.list.emptyState.subline')" icon="regular-comments" color="#F88962" /> {% endblock %} </template> </template> {% endblock %} {% block swag_paypal_disputes_list_sidebar %} <template #sidebar> <sw-sidebar class="swag-paypal-disputes-list__sidebar"> {% block swag_paypal_disputes_list_sidebar_refresh %} <sw-sidebar-item icon="regular-sync" :title="$t('swag-paypal-disputes.list.titleSidebarItemRefresh')" @click="onRefresh" /> {% endblock %} {% block swag_paypal_disputes_list_sidebar_filter %} <sw-sidebar-item icon="regular-filter" :title="$t('swag-paypal-disputes.list.titleSidebarItemFilter')" > {% block swag_paypal_disputes_list_sidebar_filter_items %} {% block swag_paypal_disputes_list_sidebar_filter_sales_channel %} <sw-sales-channel-switch :label="$t('sw-settings.system-config.labelSalesChannelSelect')" @change-sales-channel-id="onSalesChannelChanged" /> {% endblock %} {% block swag_paypal_disputes_list_sidebar_filter_dispute_state %} <sw-multi-select :label="$t('swag-paypal-disputes.common.status')" :options="disputeStates" :value="disputeStateFilter" @update:value="onChangeDisputeStateFilter" /> {% endblock %} {% endblock %} </sw-sidebar-item> {% endblock %} </sw-sidebar> </template> {% endblock %} </sw-page> {% endblock %}`,td="REQUIRED_ACTION",nd="REQUIRED_OTHER_PARTY_ACTION",ad="UNDER_PAYPAL_REVIEW",rd="RESOLVED",id="OPEN_INQUIRIES",sd="APPEALABLE",DS="SWAG_PAYPAL__NOT_AUTHORIZED",{Filter:$S}=Shopware,{debounce:OS}=Shopware.Utils,{capitalizeString:zS}=Shopware.Utils.string,NS=Shopware.Component.wrapComponentConfig({template:LS,inject:["SwagPayPalDisputeApiService","systemConfigApiService"],emits:["page-change"],mixins:[Shopware.Mixin.getByName("swag-paypal-notification")],data(){return{isLoading:!1,notAuthorized:!1,disputes:[],disputeStates:[{value:td,label:this.formatTechnicalText(td)},{value:nd,label:this.formatTechnicalText(nd)},{value:ad,label:this.formatTechnicalText(ad)},{value:rd,label:this.formatTechnicalText(rd)},{value:id,label:this.formatTechnicalText(id)},{value:sd,label:this.formatTechnicalText(sd)}],disputeStateFilter:[],salesChannelId:null,total:0,limit:10,page:1,resolutionCenterUrl:"https://www.paypal.com/resolutioncenter"}},computed:{dateFilter(){return $S.getByName("date")},showEmptyStateWithNoDisputes(){return!this.notAuthorized&&this.disputes.length===0},disputesColumns(){return[{property:"dispute_id",label:this.$t("swag-paypal-disputes.common.dispute_id")},{property:"update_time",label:this.$t("swag-paypal-disputes.common.update_time")},{property:"response_due_date",label:this.$t("swag-paypal-disputes.common.response_due_date.label")},{property:"status",label:this.$t("swag-paypal-disputes.common.status")},{property:"dispute_life_cycle_stage",label:this.$t("swag-paypal-disputes.common.dispute_life_cycle_stage")},{property:"dispute_amount",label:this.$t("swag-paypal-disputes.common.dispute_amount")}]},visibleDisputes(){return this.disputes.slice((this.page-1)*this.limit,(this.page-1)*this.limit+this.limit)}},created(){this.createdComponent()},methods:{async createdComponent(){this.isLoading=!0,(await this.systemConfigApiService.getValues("SwagPayPal.settings"))["SwagPayPal.settings.sandbox"]&&(this.resolutionCenterUrl="https://www.sandbox.paypal.com/resolutioncenter"),this.getList()},getList(){this.isLoading=!0,this.disputes=[];const n=this.disputeStateFilter.join(",")||null;this.SwagPayPalDisputeApiService.list(this.salesChannelId,n).then(i=>{i.items!==null&&(this.disputes=this.sortDisputes(i.items)),this.total=this.disputes.length,this.isLoading=!1}).catch(this.handleError.bind(this))},sortDisputes(n){return n.sort((i,r)=>i.status==="RESOLVED"?1:r.status==="RESOLVED"?-1:0)},debouncedGetList:OS(function(){this.getList()},850),handleError(n){var i,r,o;((o=(r=(i=n.response)==null?void 0:i.data.errors)==null?void 0:r[0])==null?void 0:o.code)===DS?this.notAuthorized=!0:this.createNotificationError({title:this.$t("swag-paypal-disputes.list.errorTitle"),message:this.createMessageFromError(n)}),this.isLoading=!1},formatUpdateDate(n){return this.formatDate(n,{})},formatUpdateTime(n){return this.formatDate(n,{day:void 0,month:void 0,year:void 0,hour:"2-digit",minute:"2-digit",second:"2-digit"})},formatTechnicalText(n){return zS(n).replace(/_/g," ")},onPageChange({page:n,limit:i}){this.page=n,this.limit=i,this.$emit("page-change")},onRefresh(){this.getList()},onChangeDisputeStateFilter(n){this.disputeStateFilter=n,this.debouncedGetList()},onSalesChannelChanged(n){this.salesChannelId=n,this.getList()},getExternalDetailPageLink(n){return`${this.resolutionCenterUrl}/${n.dispute_id??""}`},formatDate(n,i={hour:"2-digit",minute:"2-digit",second:"2-digit"}){return this.dateFilter(n,i)}}}),BS=Object.freeze(Object.defineProperty({__proto__:null,default:NS},Symbol.toStringTag,{value:"Module"}));Shopware.Component.register("swag-paypal-disputes-detail",()=>Re(()=>import("./index-NSbpapJx.js"),__vite__mapDeps([13,14])));Shopware.Component.register("swag-paypal-disputes-list",()=>Re(()=>Promise.resolve().then(()=>BS),void 0));Shopware.Module.register("swag-paypal-disputes",{type:"plugin",name:"paypal-disputes",title:"swag-paypal-disputes.general.mainMenuItemGeneral",description:"swag-paypal-disputes.general.descriptionTextModule",version:"1.0.0",targetVersion:"1.0.0",color:"#F88962",icon:"regular-comments",favicon:"icon-module-customers.png",routes:{index:{component:"swag-paypal-disputes-list",path:"index",meta:{privilege:"swag_paypal_disputes.viewer"}},detail:{component:"swag-paypal-disputes-detail",path:"detail/:disputeId/:salesChannelId?",props:{default(n){return{disputeId:n.params.disputeId,salesChannelId:n.params.salesChannelId}}},meta:{privilege:"swag_paypal_disputes.viewer",parentPath:"swag.paypal.disputes.index"}}},navigation:[{id:"swag-paypal-disputes",path:"swag.paypal.disputes.index",label:"swag-paypal-disputes.general.mainMenuItemGeneral",parent:"sw-customer",privilege:"swag_paypal_disputes.viewer"}]});var kt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vf(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Gs,od;function FS(){if(od)return Gs;od=1;var n=Object.prototype,i=n.hasOwnProperty;function r(o,c){return o!=null&&i.call(o,c)}return Gs=r,Gs}var Hs,ld;function qn(){if(ld)return Hs;ld=1;var n=Array.isArray;return Hs=n,Hs}var Vs,cd;function Kf(){if(cd)return Vs;cd=1;var n=typeof kt=="object"&&kt&&kt.Object===Object&&kt;return Vs=n,Vs}var Ks,ud;function qt(){if(ud)return Ks;ud=1;var n=Kf(),i=typeof self=="object"&&self&&self.Object===Object&&self,r=n||i||Function("return this")();return Ks=r,Ks}var Zs,pd;function ri(){if(pd)return Zs;pd=1;var n=qt(),i=n.Symbol;return Zs=i,Zs}var js,dd;function MS(){if(dd)return js;dd=1;var n=ri(),i=Object.prototype,r=i.hasOwnProperty,o=i.toString,c=n?n.toStringTag:void 0;function h(_){var g=r.call(_,c),w=_[c];try{_[c]=void 0;var b=!0}catch{}var y=o.call(_);return b&&(g?_[c]=w:delete _[c]),y}return js=h,js}var Ys,hd;function qS(){if(hd)return Ys;hd=1;var n=Object.prototype,i=n.toString;function r(o){return i.call(o)}return Ys=r,Ys}var Xs,fd;function Ya(){if(fd)return Xs;fd=1;var n=ri(),i=MS(),r=qS(),o="[object Null]",c="[object Undefined]",h=n?n.toStringTag:void 0;function _(g){return g==null?g===void 0?c:o:h&&h in Object(g)?i(g):r(g)}return Xs=_,Xs}var Js,gd;function ua(){if(gd)return Js;gd=1;function n(i){return i!=null&&typeof i=="object"}return Js=n,Js}var Qs,_d;function Rc(){if(_d)return Qs;_d=1;var n=Ya(),i=ua(),r="[object Symbol]";function o(c){return typeof c=="symbol"||i(c)&&n(c)==r}return Qs=o,Qs}var eo,yd;function US(){if(yd)return eo;yd=1;var n=qn(),i=Rc(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;function c(h,_){if(n(h))return!1;var g=typeof h;return g=="number"||g=="symbol"||g=="boolean"||h==null||i(h)?!0:o.test(h)||!r.test(h)||_!=null&&h in Object(_)}return eo=c,eo}var to,md;function Xa(){if(md)return to;md=1;function n(i){var r=typeof i;return i!=null&&(r=="object"||r=="function")}return to=n,to}var no,wd;function Zf(){if(wd)return no;wd=1;var n=Ya(),i=Xa(),r="[object AsyncFunction]",o="[object Function]",c="[object GeneratorFunction]",h="[object Proxy]";function _(g){if(!i(g))return!1;var w=n(g);return w==o||w==c||w==r||w==h}return no=_,no}var ao,bd;function WS(){if(bd)return ao;bd=1;var n=qt(),i=n["__core-js_shared__"];return ao=i,ao}var ro,vd;function GS(){if(vd)return ro;vd=1;var n=WS(),i=(function(){var o=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""})();function r(o){return!!i&&i in o}return ro=r,ro}var io,Sd;function jf(){if(Sd)return io;Sd=1;var n=Function.prototype,i=n.toString;function r(o){if(o!=null){try{return i.call(o)}catch{}try{return o+""}catch{}}return""}return io=r,io}var so,Pd;function HS(){if(Pd)return so;Pd=1;var n=Zf(),i=GS(),r=Xa(),o=jf(),c=/[\\^$.*+?()[\]{}|]/g,h=/^\[object .+?Constructor\]$/,_=Function.prototype,g=Object.prototype,w=_.toString,b=g.hasOwnProperty,y=RegExp("^"+w.call(b).replace(c,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function v(T){if(!r(T)||i(T))return!1;var B=n(T)?y:h;return B.test(o(T))}return so=v,so}var oo,Cd;function VS(){if(Cd)return oo;Cd=1;function n(i,r){return i==null?void 0:i[r]}return oo=n,oo}var lo,kd;function Un(){if(kd)return lo;kd=1;var n=HS(),i=VS();function r(o,c){var h=i(o,c);return n(h)?h:void 0}return lo=r,lo}var co,Ad;function ii(){if(Ad)return co;Ad=1;var n=Un(),i=n(Object,"create");return co=i,co}var uo,Id;function KS(){if(Id)return uo;Id=1;var n=ii();function i(){this.__data__=n?n(null):{},this.size=0}return uo=i,uo}var po,Ed;function ZS(){if(Ed)return po;Ed=1;function n(i){var r=this.has(i)&&delete this.__data__[i];return this.size-=r?1:0,r}return po=n,po}var ho,Td;function jS(){if(Td)return ho;Td=1;var n=ii(),i="__lodash_hash_undefined__",r=Object.prototype,o=r.hasOwnProperty;function c(h){var _=this.__data__;if(n){var g=_[h];return g===i?void 0:g}return o.call(_,h)?_[h]:void 0}return ho=c,ho}var fo,xd;function YS(){if(xd)return fo;xd=1;var n=ii(),i=Object.prototype,r=i.hasOwnProperty;function o(c){var h=this.__data__;return n?h[c]!==void 0:r.call(h,c)}return fo=o,fo}var go,Rd;function XS(){if(Rd)return go;Rd=1;var n=ii(),i="__lodash_hash_undefined__";function r(o,c){var h=this.__data__;return this.size+=this.has(o)?0:1,h[o]=n&&c===void 0?i:c,this}return go=r,go}var _o,Ld;function JS(){if(Ld)return _o;Ld=1;var n=KS(),i=ZS(),r=jS(),o=YS(),c=XS();function h(_){var g=-1,w=_==null?0:_.length;for(this.clear();++g<w;){var b=_[g];this.set(b[0],b[1])}}return h.prototype.clear=n,h.prototype.delete=i,h.prototype.get=r,h.prototype.has=o,h.prototype.set=c,_o=h,_o}var yo,Dd;function QS(){if(Dd)return yo;Dd=1;function n(){this.__data__=[],this.size=0}return yo=n,yo}var mo,$d;function Yf(){if($d)return mo;$d=1;function n(i,r){return i===r||i!==i&&r!==r}return mo=n,mo}var wo,Od;function si(){if(Od)return wo;Od=1;var n=Yf();function i(r,o){for(var c=r.length;c--;)if(n(r[c][0],o))return c;return-1}return wo=i,wo}var bo,zd;function eP(){if(zd)return bo;zd=1;var n=si(),i=Array.prototype,r=i.splice;function o(c){var h=this.__data__,_=n(h,c);if(_<0)return!1;var g=h.length-1;return _==g?h.pop():r.call(h,_,1),--this.size,!0}return bo=o,bo}var vo,Nd;function tP(){if(Nd)return vo;Nd=1;var n=si();function i(r){var o=this.__data__,c=n(o,r);return c<0?void 0:o[c][1]}return vo=i,vo}var So,Bd;function nP(){if(Bd)return So;Bd=1;var n=si();function i(r){return n(this.__data__,r)>-1}return So=i,So}var Po,Fd;function aP(){if(Fd)return Po;Fd=1;var n=si();function i(r,o){var c=this.__data__,h=n(c,r);return h<0?(++this.size,c.push([r,o])):c[h][1]=o,this}return Po=i,Po}var Co,Md;function oi(){if(Md)return Co;Md=1;var n=QS(),i=eP(),r=tP(),o=nP(),c=aP();function h(_){var g=-1,w=_==null?0:_.length;for(this.clear();++g<w;){var b=_[g];this.set(b[0],b[1])}}return h.prototype.clear=n,h.prototype.delete=i,h.prototype.get=r,h.prototype.has=o,h.prototype.set=c,Co=h,Co}var ko,qd;function Lc(){if(qd)return ko;qd=1;var n=Un(),i=qt(),r=n(i,"Map");return ko=r,ko}var Ao,Ud;function rP(){if(Ud)return Ao;Ud=1;var n=JS(),i=oi(),r=Lc();function o(){this.size=0,this.__data__={hash:new n,map:new(r||i),string:new n}}return Ao=o,Ao}var Io,Wd;function iP(){if(Wd)return Io;Wd=1;function n(i){var r=typeof i;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?i!=="__proto__":i===null}return Io=n,Io}var Eo,Gd;function li(){if(Gd)return Eo;Gd=1;var n=iP();function i(r,o){var c=r.__data__;return n(o)?c[typeof o=="string"?"string":"hash"]:c.map}return Eo=i,Eo}var To,Hd;function sP(){if(Hd)return To;Hd=1;var n=li();function i(r){var o=n(this,r).delete(r);return this.size-=o?1:0,o}return To=i,To}var xo,Vd;function oP(){if(Vd)return xo;Vd=1;var n=li();function i(r){return n(this,r).get(r)}return xo=i,xo}var Ro,Kd;function lP(){if(Kd)return Ro;Kd=1;var n=li();function i(r){return n(this,r).has(r)}return Ro=i,Ro}var Lo,Zd;function cP(){if(Zd)return Lo;Zd=1;var n=li();function i(r,o){var c=n(this,r),h=c.size;return c.set(r,o),this.size+=c.size==h?0:1,this}return Lo=i,Lo}var Do,jd;function Xf(){if(jd)return Do;jd=1;var n=rP(),i=sP(),r=oP(),o=lP(),c=cP();function h(_){var g=-1,w=_==null?0:_.length;for(this.clear();++g<w;){var b=_[g];this.set(b[0],b[1])}}return h.prototype.clear=n,h.prototype.delete=i,h.prototype.get=r,h.prototype.has=o,h.prototype.set=c,Do=h,Do}var $o,Yd;function uP(){if(Yd)return $o;Yd=1;var n=Xf(),i="Expected a function";function r(o,c){if(typeof o!="function"||c!=null&&typeof c!="function")throw new TypeError(i);var h=function(){var _=arguments,g=c?c.apply(this,_):_[0],w=h.cache;if(w.has(g))return w.get(g);var b=o.apply(this,_);return h.cache=w.set(g,b)||w,b};return h.cache=new(r.Cache||n),h}return r.Cache=n,$o=r,$o}var Oo,Xd;function pP(){if(Xd)return Oo;Xd=1;var n=uP(),i=500;function r(o){var c=n(o,function(_){return h.size===i&&h.clear(),_}),h=c.cache;return c}return Oo=r,Oo}var zo,Jd;function dP(){if(Jd)return zo;Jd=1;var n=pP(),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,o=n(function(c){var h=[];return c.charCodeAt(0)===46&&h.push(""),c.replace(i,function(_,g,w,b){h.push(w?b.replace(r,"$1"):g||_)}),h});return zo=o,zo}var No,Qd;function hP(){if(Qd)return No;Qd=1;function n(i,r){for(var o=-1,c=i==null?0:i.length,h=Array(c);++o<c;)h[o]=r(i[o],o,i);return h}return No=n,No}var Bo,eh;function fP(){if(eh)return Bo;eh=1;var n=ri(),i=hP(),r=qn(),o=Rc(),c=n?n.prototype:void 0,h=c?c.toString:void 0;function _(g){if(typeof g=="string")return g;if(r(g))return i(g,_)+"";if(o(g))return h?h.call(g):"";var w=g+"";return w=="0"&&1/g==-1/0?"-0":w}return Bo=_,Bo}var Fo,th;function gP(){if(th)return Fo;th=1;var n=fP();function i(r){return r==null?"":n(r)}return Fo=i,Fo}var Mo,nh;function _P(){if(nh)return Mo;nh=1;var n=qn(),i=US(),r=dP(),o=gP();function c(h,_){return n(h)?h:i(h,_)?[h]:r(o(h))}return Mo=c,Mo}var qo,ah;function yP(){if(ah)return qo;ah=1;var n=Ya(),i=ua(),r="[object Arguments]";function o(c){return i(c)&&n(c)==r}return qo=o,qo}var Uo,rh;function Jf(){if(rh)return Uo;rh=1;var n=yP(),i=ua(),r=Object.prototype,o=r.hasOwnProperty,c=r.propertyIsEnumerable,h=n((function(){return arguments})())?n:function(_){return i(_)&&o.call(_,"callee")&&!c.call(_,"callee")};return Uo=h,Uo}var Wo,ih;function Qf(){if(ih)return Wo;ih=1;var n=9007199254740991,i=/^(?:0|[1-9]\d*)$/;function r(o,c){var h=typeof o;return c=c??n,!!c&&(h=="number"||h!="symbol"&&i.test(o))&&o>-1&&o%1==0&&o<c}return Wo=r,Wo}var Go,sh;function Dc(){if(sh)return Go;sh=1;var n=9007199254740991;function i(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=n}return Go=i,Go}var Ho,oh;function mP(){if(oh)return Ho;oh=1;var n=Rc();function i(r){if(typeof r=="string"||n(r))return r;var o=r+"";return o=="0"&&1/r==-1/0?"-0":o}return Ho=i,Ho}var Vo,lh;function wP(){if(lh)return Vo;lh=1;var n=_P(),i=Jf(),r=qn(),o=Qf(),c=Dc(),h=mP();function _(g,w,b){w=n(w,g);for(var y=-1,v=w.length,T=!1;++y<v;){var B=h(w[y]);if(!(T=g!=null&&b(g,B)))break;g=g[B]}return T||++y!=v?T:(v=g==null?0:g.length,!!v&&c(v)&&o(B,v)&&(r(g)||i(g)))}return Vo=_,Vo}var Ko,ch;function bP(){if(ch)return Ko;ch=1;var n=FS(),i=wP();function r(o,c){return o!=null&&i(o,c,n)}return Ko=r,Ko}var vP=bP();const SP=Vf(vP);function eg(){return String(Date.now().toString(36)+Math.random().toString(36).substr(2))}function ci(n){return n!==null&&typeof n=="object"}function PP(){const n=window.location;return new URL(n.pathname,n.origin).toString()}function Ja(n,i){return ci(i)&&i.__type__&&i.__type__===n}function CP(n,i){return SP(n,i)}function $c(n,i,r="root"){for(let o in n){const c=n[o];if(i.apply(this,[n,o,c,r]),ci(c)){let h=r+"."+o;$c(c,i,h)}}}function kP(n){return n!==Object(n)||n===null||n===void 0}function uh(n){return typeof n!="string"?n:n.replace(/^root\./,"")}function tg(n){if(typeof n!="string"||n==="")return;const i=new URL(n);return i.origin===window.location.origin?{baseUrl:i.hostname,permissions:{additional:["*"],create:["*"],read:["*"],update:["*"],delete:["*"]}}:Object.values(window._swsdk.adminExtensions).find(r=>new URL(r.baseUrl).hostname===i.hostname)}class Wn extends Error{constructor(i,r){super(`Your app is missing the privileges ${r.join(", ")} for action "${i}".`),Object.defineProperty(this,"missingPrivileges",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"messageType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.missingPrivileges=r,this.messageType=i,Object.setPrototypeOf(this,Wn.prototype)}toJSON(){return{__type__:"__MissingPrivilegesError__",__messageType__:this.messageType,__data__:this.missingPrivileges}}}var AP=function(n,i,r,o){function c(h){return h instanceof r?h:new r(function(_){_(h)})}return new(r||(r=Promise))(function(h,_){function g(y){try{b(o.next(y))}catch(v){_(v)}}function w(y){try{b(o.throw(y))}catch(v){_(v)}}function b(y){y.done?h(y.value):c(y.value).then(g,w)}b((o=o.apply(n,i||[])).next())})};const IP=({send:n,handle:i})=>{const r={};let o=!1;function c(){o||(o=!0,i("__function__",({args:h,id:_})=>AP(this,void 0,void 0,function*(){return yield Promise.resolve(r[_](...h))})))}return{name:"function",serialize:({value:h})=>{if(typeof h=="function"){const _=eg();return r[_]=h,c(),{__type__:"__function__",id:_,origin:window.origin}}},deserialize:({value:h,event:_})=>{var g;const w=(g=_==null?void 0:_.source)!==null&&g!==void 0?g:window;if(ci(h)&&h.__type__&&h.__type__==="__function__"&&typeof h.id=="string"){const b=h.id,y=h.origin;return(...v)=>n("__function__",{args:v,id:b},w,y)}}}};var Zo,ph;function EP(){if(ph)return Zo;ph=1;var n=oi();function i(){this.__data__=new n,this.size=0}return Zo=i,Zo}var jo,dh;function TP(){if(dh)return jo;dh=1;function n(i){var r=this.__data__,o=r.delete(i);return this.size=r.size,o}return jo=n,jo}var Yo,hh;function xP(){if(hh)return Yo;hh=1;function n(i){return this.__data__.get(i)}return Yo=n,Yo}var Xo,fh;function RP(){if(fh)return Xo;fh=1;function n(i){return this.__data__.has(i)}return Xo=n,Xo}var Jo,gh;function LP(){if(gh)return Jo;gh=1;var n=oi(),i=Lc(),r=Xf(),o=200;function c(h,_){var g=this.__data__;if(g instanceof n){var w=g.__data__;if(!i||w.length<o-1)return w.push([h,_]),this.size=++g.size,this;g=this.__data__=new r(w)}return g.set(h,_),this.size=g.size,this}return Jo=c,Jo}var Qo,_h;function DP(){if(_h)return Qo;_h=1;var n=oi(),i=EP(),r=TP(),o=xP(),c=RP(),h=LP();function _(g){var w=this.__data__=new n(g);this.size=w.size}return _.prototype.clear=i,_.prototype.delete=r,_.prototype.get=o,_.prototype.has=c,_.prototype.set=h,Qo=_,Qo}var el,yh;function $P(){if(yh)return el;yh=1;function n(i,r){for(var o=-1,c=i==null?0:i.length;++o<c&&r(i[o],o,i)!==!1;);return i}return el=n,el}var tl,mh;function OP(){if(mh)return tl;mh=1;var n=Un(),i=(function(){try{var r=n(Object,"defineProperty");return r({},"",{}),r}catch{}})();return tl=i,tl}var nl,wh;function ng(){if(wh)return nl;wh=1;var n=OP();function i(r,o,c){o=="__proto__"&&n?n(r,o,{configurable:!0,enumerable:!0,value:c,writable:!0}):r[o]=c}return nl=i,nl}var al,bh;function ag(){if(bh)return al;bh=1;var n=ng(),i=Yf(),r=Object.prototype,o=r.hasOwnProperty;function c(h,_,g){var w=h[_];(!(o.call(h,_)&&i(w,g))||g===void 0&&!(_ in h))&&n(h,_,g)}return al=c,al}var rl,vh;function ui(){if(vh)return rl;vh=1;var n=ag(),i=ng();function r(o,c,h,_){var g=!h;h||(h={});for(var w=-1,b=c.length;++w<b;){var y=c[w],v=_?_(h[y],o[y],y,h,o):void 0;v===void 0&&(v=o[y]),g?i(h,y,v):n(h,y,v)}return h}return rl=r,rl}var il,Sh;function zP(){if(Sh)return il;Sh=1;function n(i,r){for(var o=-1,c=Array(i);++o<i;)c[o]=r(o);return c}return il=n,il}var Ua={exports:{}},sl,Ph;function NP(){if(Ph)return sl;Ph=1;function n(){return!1}return sl=n,sl}Ua.exports;var Ch;function rg(){return Ch||(Ch=1,(function(n,i){var r=qt(),o=NP(),c=i&&!i.nodeType&&i,h=c&&!0&&n&&!n.nodeType&&n,_=h&&h.exports===c,g=_?r.Buffer:void 0,w=g?g.isBuffer:void 0,b=w||o;n.exports=b})(Ua,Ua.exports)),Ua.exports}var ol,kh;function BP(){if(kh)return ol;kh=1;var n=Ya(),i=Dc(),r=ua(),o="[object Arguments]",c="[object Array]",h="[object Boolean]",_="[object Date]",g="[object Error]",w="[object Function]",b="[object Map]",y="[object Number]",v="[object Object]",T="[object RegExp]",B="[object Set]",K="[object String]",O="[object WeakMap]",H="[object ArrayBuffer]",ne="[object DataView]",Z="[object Float32Array]",we="[object Float64Array]",ve="[object Int8Array]",q="[object Int16Array]",ee="[object Int32Array]",Y="[object Uint8Array]",ue="[object Uint8ClampedArray]",fe="[object Uint16Array]",Oe="[object Uint32Array]",te={};te[Z]=te[we]=te[ve]=te[q]=te[ee]=te[Y]=te[ue]=te[fe]=te[Oe]=!0,te[o]=te[c]=te[H]=te[h]=te[ne]=te[_]=te[g]=te[w]=te[b]=te[y]=te[v]=te[T]=te[B]=te[K]=te[O]=!1;function Te(Ue){return r(Ue)&&i(Ue.length)&&!!te[n(Ue)]}return ol=Te,ol}var ll,Ah;function Oc(){if(Ah)return ll;Ah=1;function n(i){return function(r){return i(r)}}return ll=n,ll}var Wa={exports:{}};Wa.exports;var Ih;function zc(){return Ih||(Ih=1,(function(n,i){var r=Kf(),o=i&&!i.nodeType&&i,c=o&&!0&&n&&!n.nodeType&&n,h=c&&c.exports===o,_=h&&r.process,g=(function(){try{var w=c&&c.require&&c.require("util").types;return w||_&&_.binding&&_.binding("util")}catch{}})();n.exports=g})(Wa,Wa.exports)),Wa.exports}var cl,Eh;function FP(){if(Eh)return cl;Eh=1;var n=BP(),i=Oc(),r=zc(),o=r&&r.isTypedArray,c=o?i(o):n;return cl=c,cl}var ul,Th;function ig(){if(Th)return ul;Th=1;var n=zP(),i=Jf(),r=qn(),o=rg(),c=Qf(),h=FP(),_=Object.prototype,g=_.hasOwnProperty;function w(b,y){var v=r(b),T=!v&&i(b),B=!v&&!T&&o(b),K=!v&&!T&&!B&&h(b),O=v||T||B||K,H=O?n(b.length,String):[],ne=H.length;for(var Z in b)(y||g.call(b,Z))&&!(O&&(Z=="length"||B&&(Z=="offset"||Z=="parent")||K&&(Z=="buffer"||Z=="byteLength"||Z=="byteOffset")||c(Z,ne)))&&H.push(Z);return H}return ul=w,ul}var pl,xh;function Nc(){if(xh)return pl;xh=1;var n=Object.prototype;function i(r){var o=r&&r.constructor,c=typeof o=="function"&&o.prototype||n;return r===c}return pl=i,pl}var dl,Rh;function sg(){if(Rh)return dl;Rh=1;function n(i,r){return function(o){return i(r(o))}}return dl=n,dl}var hl,Lh;function MP(){if(Lh)return hl;Lh=1;var n=sg(),i=n(Object.keys,Object);return hl=i,hl}var fl,Dh;function qP(){if(Dh)return fl;Dh=1;var n=Nc(),i=MP(),r=Object.prototype,o=r.hasOwnProperty;function c(h){if(!n(h))return i(h);var _=[];for(var g in Object(h))o.call(h,g)&&g!="constructor"&&_.push(g);return _}return fl=c,fl}var gl,$h;function og(){if($h)return gl;$h=1;var n=Zf(),i=Dc();function r(o){return o!=null&&i(o.length)&&!n(o)}return gl=r,gl}var _l,Oh;function Bc(){if(Oh)return _l;Oh=1;var n=ig(),i=qP(),r=og();function o(c){return r(c)?n(c):i(c)}return _l=o,_l}var yl,zh;function UP(){if(zh)return yl;zh=1;var n=ui(),i=Bc();function r(o,c){return o&&n(c,i(c),o)}return yl=r,yl}var ml,Nh;function WP(){if(Nh)return ml;Nh=1;function n(i){var r=[];if(i!=null)for(var o in Object(i))r.push(o);return r}return ml=n,ml}var wl,Bh;function GP(){if(Bh)return wl;Bh=1;var n=Xa(),i=Nc(),r=WP(),o=Object.prototype,c=o.hasOwnProperty;function h(_){if(!n(_))return r(_);var g=i(_),w=[];for(var b in _)b=="constructor"&&(g||!c.call(_,b))||w.push(b);return w}return wl=h,wl}var bl,Fh;function Fc(){if(Fh)return bl;Fh=1;var n=ig(),i=GP(),r=og();function o(c){return r(c)?n(c,!0):i(c)}return bl=o,bl}var vl,Mh;function HP(){if(Mh)return vl;Mh=1;var n=ui(),i=Fc();function r(o,c){return o&&n(c,i(c),o)}return vl=r,vl}var Ga={exports:{}};Ga.exports;var qh;function VP(){return qh||(qh=1,(function(n,i){var r=qt(),o=i&&!i.nodeType&&i,c=o&&!0&&n&&!n.nodeType&&n,h=c&&c.exports===o,_=h?r.Buffer:void 0,g=_?_.allocUnsafe:void 0;function w(b,y){if(y)return b.slice();var v=b.length,T=g?g(v):new b.constructor(v);return b.copy(T),T}n.exports=w})(Ga,Ga.exports)),Ga.exports}var Sl,Uh;function KP(){if(Uh)return Sl;Uh=1;function n(i,r){var o=-1,c=i.length;for(r||(r=Array(c));++o<c;)r[o]=i[o];return r}return Sl=n,Sl}var Pl,Wh;function ZP(){if(Wh)return Pl;Wh=1;function n(i,r){for(var o=-1,c=i==null?0:i.length,h=0,_=[];++o<c;){var g=i[o];r(g,o,i)&&(_[h++]=g)}return _}return Pl=n,Pl}var Cl,Gh;function lg(){if(Gh)return Cl;Gh=1;function n(){return[]}return Cl=n,Cl}var kl,Hh;function Mc(){if(Hh)return kl;Hh=1;var n=ZP(),i=lg(),r=Object.prototype,o=r.propertyIsEnumerable,c=Object.getOwnPropertySymbols,h=c?function(_){return _==null?[]:(_=Object(_),n(c(_),function(g){return o.call(_,g)}))}:i;return kl=h,kl}var Al,Vh;function jP(){if(Vh)return Al;Vh=1;var n=ui(),i=Mc();function r(o,c){return n(o,i(o),c)}return Al=r,Al}var Il,Kh;function cg(){if(Kh)return Il;Kh=1;function n(i,r){for(var o=-1,c=r.length,h=i.length;++o<c;)i[h+o]=r[o];return i}return Il=n,Il}var El,Zh;function ug(){if(Zh)return El;Zh=1;var n=sg(),i=n(Object.getPrototypeOf,Object);return El=i,El}var Tl,jh;function pg(){if(jh)return Tl;jh=1;var n=cg(),i=ug(),r=Mc(),o=lg(),c=Object.getOwnPropertySymbols,h=c?function(_){for(var g=[];_;)n(g,r(_)),_=i(_);return g}:o;return Tl=h,Tl}var xl,Yh;function YP(){if(Yh)return xl;Yh=1;var n=ui(),i=pg();function r(o,c){return n(o,i(o),c)}return xl=r,xl}var Rl,Xh;function dg(){if(Xh)return Rl;Xh=1;var n=cg(),i=qn();function r(o,c,h){var _=c(o);return i(o)?_:n(_,h(o))}return Rl=r,Rl}var Ll,Jh;function XP(){if(Jh)return Ll;Jh=1;var n=dg(),i=Mc(),r=Bc();function o(c){return n(c,r,i)}return Ll=o,Ll}var Dl,Qh;function JP(){if(Qh)return Dl;Qh=1;var n=dg(),i=pg(),r=Fc();function o(c){return n(c,r,i)}return Dl=o,Dl}var $l,ef;function QP(){if(ef)return $l;ef=1;var n=Un(),i=qt(),r=n(i,"DataView");return $l=r,$l}var Ol,tf;function eC(){if(tf)return Ol;tf=1;var n=Un(),i=qt(),r=n(i,"Promise");return Ol=r,Ol}var zl,nf;function tC(){if(nf)return zl;nf=1;var n=Un(),i=qt(),r=n(i,"Set");return zl=r,zl}var Nl,af;function nC(){if(af)return Nl;af=1;var n=Un(),i=qt(),r=n(i,"WeakMap");return Nl=r,Nl}var Bl,rf;function qc(){if(rf)return Bl;rf=1;var n=QP(),i=Lc(),r=eC(),o=tC(),c=nC(),h=Ya(),_=jf(),g="[object Map]",w="[object Object]",b="[object Promise]",y="[object Set]",v="[object WeakMap]",T="[object DataView]",B=_(n),K=_(i),O=_(r),H=_(o),ne=_(c),Z=h;return(n&&Z(new n(new ArrayBuffer(1)))!=T||i&&Z(new i)!=g||r&&Z(r.resolve())!=b||o&&Z(new o)!=y||c&&Z(new c)!=v)&&(Z=function(we){var ve=h(we),q=ve==w?we.constructor:void 0,ee=q?_(q):"";if(ee)switch(ee){case B:return T;case K:return g;case O:return b;case H:return y;case ne:return v}return ve}),Bl=Z,Bl}var Fl,sf;function aC(){if(sf)return Fl;sf=1;var n=Object.prototype,i=n.hasOwnProperty;function r(o){var c=o.length,h=new o.constructor(c);return c&&typeof o[0]=="string"&&i.call(o,"index")&&(h.index=o.index,h.input=o.input),h}return Fl=r,Fl}var Ml,of;function rC(){if(of)return Ml;of=1;var n=qt(),i=n.Uint8Array;return Ml=i,Ml}var ql,lf;function Uc(){if(lf)return ql;lf=1;var n=rC();function i(r){var o=new r.constructor(r.byteLength);return new n(o).set(new n(r)),o}return ql=i,ql}var Ul,cf;function iC(){if(cf)return Ul;cf=1;var n=Uc();function i(r,o){var c=o?n(r.buffer):r.buffer;return new r.constructor(c,r.byteOffset,r.byteLength)}return Ul=i,Ul}var Wl,uf;function sC(){if(uf)return Wl;uf=1;var n=/\w*$/;function i(r){var o=new r.constructor(r.source,n.exec(r));return o.lastIndex=r.lastIndex,o}return Wl=i,Wl}var Gl,pf;function oC(){if(pf)return Gl;pf=1;var n=ri(),i=n?n.prototype:void 0,r=i?i.valueOf:void 0;function o(c){return r?Object(r.call(c)):{}}return Gl=o,Gl}var Hl,df;function lC(){if(df)return Hl;df=1;var n=Uc();function i(r,o){var c=o?n(r.buffer):r.buffer;return new r.constructor(c,r.byteOffset,r.length)}return Hl=i,Hl}var Vl,hf;function cC(){if(hf)return Vl;hf=1;var n=Uc(),i=iC(),r=sC(),o=oC(),c=lC(),h="[object Boolean]",_="[object Date]",g="[object Map]",w="[object Number]",b="[object RegExp]",y="[object Set]",v="[object String]",T="[object Symbol]",B="[object ArrayBuffer]",K="[object DataView]",O="[object Float32Array]",H="[object Float64Array]",ne="[object Int8Array]",Z="[object Int16Array]",we="[object Int32Array]",ve="[object Uint8Array]",q="[object Uint8ClampedArray]",ee="[object Uint16Array]",Y="[object Uint32Array]";function ue(fe,Oe,te){var Te=fe.constructor;switch(Oe){case B:return n(fe);case h:case _:return new Te(+fe);case K:return i(fe,te);case O:case H:case ne:case Z:case we:case ve:case q:case ee:case Y:return c(fe,te);case g:return new Te;case w:case v:return new Te(fe);case b:return r(fe);case y:return new Te;case T:return o(fe)}}return Vl=ue,Vl}var Kl,ff;function uC(){if(ff)return Kl;ff=1;var n=Xa(),i=Object.create,r=(function(){function o(){}return function(c){if(!n(c))return{};if(i)return i(c);o.prototype=c;var h=new o;return o.prototype=void 0,h}})();return Kl=r,Kl}var Zl,gf;function pC(){if(gf)return Zl;gf=1;var n=uC(),i=ug(),r=Nc();function o(c){return typeof c.constructor=="function"&&!r(c)?n(i(c)):{}}return Zl=o,Zl}var jl,_f;function dC(){if(_f)return jl;_f=1;var n=qc(),i=ua(),r="[object Map]";function o(c){return i(c)&&n(c)==r}return jl=o,jl}var Yl,yf;function hC(){if(yf)return Yl;yf=1;var n=dC(),i=Oc(),r=zc(),o=r&&r.isMap,c=o?i(o):n;return Yl=c,Yl}var Xl,mf;function fC(){if(mf)return Xl;mf=1;var n=qc(),i=ua(),r="[object Set]";function o(c){return i(c)&&n(c)==r}return Xl=o,Xl}var Jl,wf;function gC(){if(wf)return Jl;wf=1;var n=fC(),i=Oc(),r=zc(),o=r&&r.isSet,c=o?i(o):n;return Jl=c,Jl}var Ql,bf;function _C(){if(bf)return Ql;bf=1;var n=DP(),i=$P(),r=ag(),o=UP(),c=HP(),h=VP(),_=KP(),g=jP(),w=YP(),b=XP(),y=JP(),v=qc(),T=aC(),B=cC(),K=pC(),O=qn(),H=rg(),ne=hC(),Z=Xa(),we=gC(),ve=Bc(),q=Fc(),ee=1,Y=2,ue=4,fe="[object Arguments]",Oe="[object Array]",te="[object Boolean]",Te="[object Date]",Ue="[object Error]",At="[object Function]",on="[object GeneratorFunction]",An="[object Map]",Ve="[object Number]",at="[object Object]",da="[object RegExp]",ln="[object Set]",Le="[object String]",Gn="[object Symbol]",ha="[object WeakMap]",fa="[object ArrayBuffer]",Dt="[object DataView]",cn="[object Float32Array]",ga="[object Float64Array]",Wt="[object Int8Array]",Gt="[object Int16Array]",_a="[object Int32Array]",un="[object Uint8Array]",pn="[object Uint8ClampedArray]",Hn="[object Uint16Array]",Ye="[object Uint32Array]",se={};se[fe]=se[Oe]=se[fa]=se[Dt]=se[te]=se[Te]=se[cn]=se[ga]=se[Wt]=se[Gt]=se[_a]=se[An]=se[Ve]=se[at]=se[da]=se[ln]=se[Le]=se[Gn]=se[un]=se[pn]=se[Hn]=se[Ye]=!0,se[Ue]=se[At]=se[ha]=!1;function dn(ie,rt,_t,It,Be,We){var De,Ht=rt&ee,ct=rt&Y,Vn=rt&ue;if(_t&&(De=Be?_t(ie,It,Be,We):_t(ie)),De!==void 0)return De;if(!Z(ie))return ie;var Et=O(ie);if(Et){if(De=T(ie),!Ht)return _(ie,De)}else{var Ke=v(ie),Vt=Ke==At||Ke==on;if(H(ie))return h(ie,Ht);if(Ke==at||Ke==fe||Vt&&!Be){if(De=ct||Vt?{}:K(ie),!Ht)return ct?w(ie,c(De,ie)):g(ie,o(De,ie))}else{if(!se[Ke])return Be?ie:{};De=B(ie,Ke,Ht)}}We||(We=new n);var Kt=We.get(ie);if(Kt)return Kt;We.set(ie,De),we(ie)?ie.forEach(function(Xe){De.add(dn(Xe,rt,_t,Xe,ie,We))}):ne(ie)&&ie.forEach(function(Xe,Je){De.set(Je,dn(Xe,rt,_t,Je,ie,We))});var hn=Vn?ct?y:b:ct?q:ve,Zt=Et?void 0:hn(ie);return i(Zt||ie,function(Xe,Je){Zt&&(Je=Xe,Xe=ie[Je]),r(De,Je,dn(Xe,rt,_t,Je,ie,We))}),De}return Ql=dn,Ql}var ec,vf;function yC(){if(vf)return ec;vf=1;var n=_C(),i=1,r=4;function o(c){return n(c,i|r)}return ec=o,ec}var mC=yC();const Ac=Vf(mC);let wC=1,bC=null,Ic=class hg{constructor(i=wC,r=bC){Object.defineProperty(this,"title",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"limit",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"term",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"filters",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ids",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"associations",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"postFilter",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sortings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"aggregations",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"grouping",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"groupFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"totalCountMode",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.page=i,this.limit=r,this.term=null,this.title=null,this.filters=[],this.includes=null,this.ids=[],this.queries=[],this.associations=[],this.postFilter=[],this.sortings=[],this.aggregations=[],this.grouping=[],this.groupFields=[],this.fields=[],this.totalCountMode=1}static fromCriteria(i){return Ac(i)}parse(){const i={};return this.ids.length>0&&(i.ids=this.ids.join("|")),this.page!==null&&(i.page=this.page),this.limit!==null&&(i.limit=this.limit),this.term!==null&&(i.term=this.term),this.queries.length>0&&(i.query=this.queries),this.filters.length>0&&(i.filter=this.filters),this.postFilter.length>0&&(i["post-filter"]=this.postFilter),this.sortings.length>0&&(i.sort=this.sortings),this.aggregations.length>0&&(i.aggregations=this.aggregations),this.groupFields.length>0&&(i.groupFields=this.groupFields),this.grouping.length>0&&(i.grouping=this.grouping),this.fields.length>0&&(i.fields=this.fields),this.associations.length>0&&(i.associations={},this.associations.forEach(r=>{i.associations&&(i.associations[r.association]=r.criteria.parse())})),this.includes!==null&&(i.includes=this.includes),this.totalCountMode!==null&&(i["total-count-mode"]=this.totalCountMode),i}setTitle(i){return this.title=i,this}getTitle(){return this.title}setIds(i){return this.ids=i,this}setTotalCountMode(i){return typeof i!="number"&&(this.totalCountMode=null),this.totalCountMode=i<0||i>2?null:i,this}setPage(i){return this.page=i,this}setLimit(i){return this.limit=i,this}setTerm(i){return this.term=i,this}addFilter(i){return this.filters.push(i),this}addIncludes(i){return Object.entries(i).forEach(([r,o])=>{this.includes===null&&(this.includes={}),this.includes[r]||(this.includes[r]=[]),this.includes[r].push(...o)}),this}addPostFilter(i){return this.postFilter.push(i),this}addSorting(i){return this.sortings.push(i),this}addQuery(i,r,o=null){const c={score:r,query:i};return o&&(c.scoreField=o),this.queries.push(c),this}addGroupField(i){return this.groupFields.push(i),this}addGrouping(i){return this.grouping.push(i),this}addFields(...i){return this.fields.push(...i),this}addAggregation(i){return this.aggregations.push(i),this}addAssociation(i){const r=i.split(".");let o=this;return r.forEach(c=>{o=o.getAssociation(c)}),this}getAssociation(i){const r=i.split(".");let o=this;return r.forEach(c=>{o.hasAssociation(c)||o.associations.push({association:c,criteria:new hg(null,null)}),o=o.getAssociationCriteria(c)}),o}getAssociationCriteria(i){let r=null;return this.associations.forEach(o=>{o.association===i&&(r=o.criteria)}),r}getLimit(){var i;return(i=this.limit)!==null&&i!==void 0?i:0}getPage(){var i;return(i=this.page)!==null&&i!==void 0?i:0}getCriteriaData(){return{page:this.page,limit:this.limit,term:this.term,title:this.title,filters:this.filters,ids:this.ids,queries:this.queries,associations:this.associations,postFilter:this.postFilter,sortings:this.sortings,aggregations:this.aggregations,grouping:this.grouping,fields:this.fields,groupFields:this.groupFields,totalCountMode:this.totalCountMode,includes:this.includes}}hasAssociation(i){return this.associations.some(r=>r.association===i)}resetSorting(){this.sortings=[]}static avg(i,r){return{type:"avg",name:i,field:r}}static count(i,r){return{type:"count",name:i,field:r}}static max(i,r){return{type:"max",name:i,field:r}}static min(i,r){return{type:"min",name:i,field:r}}static stats(i,r){return{type:"stats",name:i,field:r}}static sum(i,r){return{type:"sum",name:i,field:r}}static terms(i,r,o=null,c=null,h=null){return{type:"terms",name:i,field:r,limit:o,sort:c,aggregation:h}}static entityAggregation(i,r,o){return{type:"entity",name:i,field:r,definition:o}}static filter(i,r,o){return{type:"filter",name:i,filter:r,aggregation:o}}static histogram(i,r,o,c,h,_){return{type:"histogram",name:i,field:r,interval:o,format:c,aggregation:h,timeZone:_}}static sort(i,r="ASC",o=!1){return{field:i,order:r,naturalSorting:o}}static naturalSorting(i,r="ASC"){return{field:i,order:r,naturalSorting:!0}}static countSorting(i,r="ASC"){return{field:i,order:r,naturalSorting:!1,type:"count"}}static contains(i,r){return{type:"contains",field:i,value:r}}static prefix(i,r){return{type:"prefix",field:i,value:r}}static suffix(i,r){return{type:"suffix",field:i,value:r}}static equalsAny(i,r){return{type:"equalsAny",field:i,value:r.join("|")}}static range(i,r){return{type:"range",field:i,parameters:r}}static equals(i,r){return{type:"equals",field:i,value:r}}static not(i,r=[]){return{type:"not",operator:i,queries:r}}static multi(i,r=[]){return{type:"multi",operator:i,queries:r}}};const vC=()=>({name:"criteria",serialize:({value:n,customizerMethod:i,seen:r,path:o})=>{if(n instanceof Ic)return{__type__:"__Criteria__",data:i(n.getCriteriaData(),r,o)}},deserialize:({value:n,customizerMethod:i})=>{if(Ja("__Criteria__",n)&&typeof n.data=="object"){const r=n.data,o=new Ic;return o.setPage(r.page),o.setLimit(r.limit),o.setTerm(r.term),r.title!==null&&o.setTitle(r.title),r.filters.forEach(c=>{o.addFilter(c)}),o.setIds(r.ids),r.queries.forEach(({query:c,score:h})=>{o.addQuery(c,h)}),r.associations.forEach(c=>{o.associations.push(i(c))}),r.postFilter.forEach(c=>{o.addPostFilter(c)}),r.sortings.forEach(c=>{o.addSorting(c)}),r.aggregations.forEach(c=>{o.addAggregation(c)}),r.grouping.forEach(c=>{o.addGrouping(c)}),r.fields.forEach(c=>{o.addFields(c)}),r.groupFields.forEach(c=>{o.addGroupField(c)}),r.includes&&o.addIncludes(r.includes),o.setTotalCountMode(r.totalCountMode),o}}});let SC=(n,i,r)=>{n[i]=r};class PC{constructor(i,r,o,c={}){var h,_;Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_origin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_entityName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_draft",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isDirty",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isNew",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.id=i,this._origin=c.originData?Ac(c.originData):Ac(o),this._entityName=r,this._draft=o,this._isDirty=(h=c.isDirty)!==null&&h!==void 0?h:!1,this._isNew=(_=c.isNew)!==null&&_!==void 0?_:!1;const g=this;return new Proxy(this._draft,{get(w,b){return b in g._draft?g._draft[b]:g[b]},set(w,b,y){return SC(g._draft,b,y),g._isDirty=!0,!0}})}__identifier__(){return"Entity"}markAsNew(){this._isNew=!0}isNew(){return this._isNew}getIsDirty(){return this._isDirty}getOrigin(){return this._origin}getDraft(){return this._draft}getEntityName(){return this._entityName}}const CC=function(i,r,o,c){return new PC(i,r,o,c)},kC=()=>({name:"entity",serialize:({value:n,customizerMethod:i,seen:r,path:o})=>{if(!(!ci(n)||typeof n.__identifier__!="function"||n.__identifier__()!=="Entity"))return{__type__:"__Entity__",__id__:n.id,__entityName__:n._entityName,__isDirty__:n._isDirty,__isNew__:n._isNew,__origin__:i(n._origin,r,o),__draft__:i(n._draft,r,o)}},deserialize:({value:n,customizerMethod:i})=>{if(Ja("__Entity__",n)&&typeof n.__origin__=="object")return new CC(n.__id__,n.__entityName__,i(n.__draft__),{originData:i(n.__origin__),isDirty:n.__isDirty__,isNew:n.__isNew__})}});let Sf=class Ec extends Array{constructor(i,r,o,c=null,h=[],_=null,g=null){super(),Object.defineProperty(this,"entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"source",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"context",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"criteria",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"aggregations",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"total",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"first",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"last",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"remove",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"has",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"get",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"getAt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"getIds",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"add",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"addAt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"moveItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"__identifier__",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.entity=r,this.source=i,this.context=o,this.criteria=c,this.aggregations=g,this.total=_,this.push(...h),this.__identifier__=()=>"EntityCollection",this.first=function(){return this.length<=0?null:this[0]},this.last=function(){return this.length<=0?null:this[this.length-1]},this.remove=function(b){const y=this.findIndex(v=>v.id===b);return y<0?!1:(this.splice(y,1),!0)},this.has=function(b){return this.some(y=>y.id===b)},this.get=function(b){const y=this.find(v=>v.id===b);return typeof y<"u"?y:null},this.getAt=function(b){const y=this[b];return typeof y<"u"?y:null},this.getIds=function(){return this.map(b=>b.id)},this.add=function(b){this.push(b)},this.addAt=function(b,y){if(typeof y>"u"){this.add(b);return}this.splice(y,0,b)},this.moveItem=function(b,y=null){if(y===null&&(y=this.length),b<0||b>=this.length)return null;if(y===b)return this.getAt(b);const v=this.find((K,O)=>O===b);if(typeof v>"u")return null;const T=this.filter((K,O)=>O!==b),B=[...T.slice(0,y),v,...T.slice(y)];return this.splice(0,this.length,...B),v},this.filter=function(b,y){const v=Object.getPrototypeOf(this).filter.call(this,b,y);return new Ec(this.source,this.entity,this.context,this.criteria,v,this.total,this.aggregations)}}static fromCollection(i){return new Ec(i.source,i.entity,i.context,i.criteria===null?i.criteria:Ic.fromCriteria(i.criteria),i,i.total,i.aggregations)}};const AC=()=>({name:"entity-collection",serialize:({value:n,customizerMethod:i,seen:r,path:o})=>{if(n instanceof Sf||n!=null&&n.__identifier__&&n.__identifier__()==="EntityCollection")return i({__type__:"__EntityCollection__",__source__:n.source,__entityName__:n.entity,__context__:n.context,__criteria__:n.criteria,__entities__:Array.from(n),__total__:n.total,__aggregations__:n.aggregations},r,o)},deserialize:({value:n,customizerMethod:i})=>{if(Ja("__EntityCollection__",n))return new Sf(n.__source__,n.__entityName__,n.__context__,i(n.__criteria__),i(n.__entities__),n.__total__,n.__aggregations__)}});class Ha extends Error{constructor(i,r){super(i),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:500}),r&&(this.code=r)}toJSON(){return{__type__:"__HandleError__",__code__:this.code,__message__:this.message}}}const IC=()=>({name:"handle-error",serialize:()=>{},deserialize:({value:n})=>{if(Ja("__HandleError__",n))return new Ha(n.__message__,n.__code__)}});var Va={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var EC=Va.exports,Pf;function TC(){return Pf||(Pf=1,(function(n,i){(function(){var r,o="4.17.21",c=200,h="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",_="Expected a function",g="Invalid `variable` option passed into `_.template`",w="__lodash_hash_undefined__",b=500,y="__lodash_placeholder__",v=1,T=2,B=4,K=1,O=2,H=1,ne=2,Z=4,we=8,ve=16,q=32,ee=64,Y=128,ue=256,fe=512,Oe=30,te="...",Te=800,Ue=16,At=1,on=2,An=3,Ve=1/0,at=9007199254740991,da=17976931348623157e292,ln=NaN,Le=4294967295,Gn=Le-1,ha=Le>>>1,fa=[["ary",Y],["bind",H],["bindKey",ne],["curry",we],["curryRight",ve],["flip",fe],["partial",q],["partialRight",ee],["rearg",ue]],Dt="[object Arguments]",cn="[object Array]",ga="[object AsyncFunction]",Wt="[object Boolean]",Gt="[object Date]",_a="[object DOMException]",un="[object Error]",pn="[object Function]",Hn="[object GeneratorFunction]",Ye="[object Map]",se="[object Number]",dn="[object Null]",ie="[object Object]",rt="[object Promise]",_t="[object Proxy]",It="[object RegExp]",Be="[object Set]",We="[object String]",De="[object Symbol]",Ht="[object Undefined]",ct="[object WeakMap]",Vn="[object WeakSet]",Et="[object ArrayBuffer]",Ke="[object DataView]",Vt="[object Float32Array]",Kt="[object Float64Array]",hn="[object Int8Array]",Zt="[object Int16Array]",Xe="[object Int32Array]",Je="[object Uint8Array]",ya="[object Uint8ClampedArray]",ma="[object Uint16Array]",In="[object Uint32Array]",Qa=/\b__p \+= '';/g,pi=/\b(__p \+=) '' \+/g,$t=/(__e\(.*?\)|\b__t\)) \+\n'';/g,er=/&(?:amp|lt|gt|quot|#39);/g,tr=/[&<>"']/g,nr=RegExp(er.source),di=RegExp(tr.source),hi=/<%-([\s\S]+?)%>/g,fi=/<%([\s\S]+?)%>/g,ar=/<%=([\s\S]+?)%>/g,gi=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_i=/^\w*$/,yi=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wa=/[\\^$.*+?()[\]{}|]/g,mi=RegExp(wa.source),ba=/^\s+/,rr=/\s/,wi=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,bi=/\{\n\/\* \[wrapped with (.+)\] \*/,vi=/,? & /,Si=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Pi=/[()=,{}\[\]\/\s]/,Ci=/\\(\\)?/g,ki=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ir=/\w*$/,Ai=/^[-+]0x[0-9a-f]+$/i,Ii=/^0b[01]+$/i,Ei=/^\[object .+?Constructor\]$/,Ti=/^0o[0-7]+$/i,xi=/^(?:0|[1-9]\d*)$/,Ri=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Kn=/($^)/,sr=/['\n\r\u2028\u2029\\]/g,Ot="\\ud800-\\udfff",or="\\u0300-\\u036f",fn="\\ufe20-\\ufe2f",Li="\\u20d0-\\u20ff",En=or+fn+Li,Zn="\\u2700-\\u27bf",lr="a-z\\xdf-\\xf6\\xf8-\\xff",Di="\\xac\\xb1\\xd7\\xf7",va="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",$i="\\u2000-\\u206f",Oi=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",p="A-Z\\xc0-\\xd6\\xd8-\\xde",S="\\ufe0e\\ufe0f",f=Di+va+$i+Oi,k="[']",E="["+Ot+"]",C="["+f+"]",L="["+En+"]",N="\\d+",F="["+Zn+"]",M="["+lr+"]",U="[^"+Ot+f+N+Zn+lr+p+"]",V="\\ud83c[\\udffb-\\udfff]",le="(?:"+L+"|"+V+")",_e="[^"+Ot+"]",ye="(?:\\ud83c[\\udde6-\\uddff]){2}",Ie="[\\ud800-\\udbff][\\udc00-\\udfff]",Pe="["+p+"]",Qe="\\u200d",gn="(?:"+M+"|"+U+")",Sa="(?:"+Pe+"|"+U+")",cr="(?:"+k+"(?:d|ll|m|re|s|t|ve))?",jn="(?:"+k+"(?:D|LL|M|RE|S|T|VE))?",zi=le+"?",ur="["+S+"]?",Ni="(?:"+Qe+"(?:"+[_e,ye,Ie].join("|")+")"+ur+zi+")*",pr="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",$g="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Hc=ur+zi+Ni,Og="(?:"+[F,ye,Ie].join("|")+")"+Hc,zg="(?:"+[_e+L+"?",L,ye,Ie,E].join("|")+")",Ng=RegExp(k,"g"),Bg=RegExp(L,"g"),Bi=RegExp(V+"(?="+V+")|"+zg+Hc,"g"),Fg=RegExp([Pe+"?"+M+"+"+cr+"(?="+[C,Pe,"$"].join("|")+")",Sa+"+"+jn+"(?="+[C,Pe+gn,"$"].join("|")+")",Pe+"?"+gn+"+"+cr,Pe+"+"+jn,$g,pr,N,Og].join("|"),"g"),Mg=RegExp("["+Qe+Ot+En+S+"]"),qg=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ug=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Wg=-1,Ae={};Ae[Vt]=Ae[Kt]=Ae[hn]=Ae[Zt]=Ae[Xe]=Ae[Je]=Ae[ya]=Ae[ma]=Ae[In]=!0,Ae[Dt]=Ae[cn]=Ae[Et]=Ae[Wt]=Ae[Ke]=Ae[Gt]=Ae[un]=Ae[pn]=Ae[Ye]=Ae[se]=Ae[ie]=Ae[It]=Ae[Be]=Ae[We]=Ae[ct]=!1;var ke={};ke[Dt]=ke[cn]=ke[Et]=ke[Ke]=ke[Wt]=ke[Gt]=ke[Vt]=ke[Kt]=ke[hn]=ke[Zt]=ke[Xe]=ke[Ye]=ke[se]=ke[ie]=ke[It]=ke[Be]=ke[We]=ke[De]=ke[Je]=ke[ya]=ke[ma]=ke[In]=!0,ke[un]=ke[pn]=ke[ct]=!1;var Gg={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Hg={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Vg={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Kg={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Zg=parseFloat,jg=parseInt,Vc=typeof kt=="object"&&kt&&kt.Object===Object&&kt,Yg=typeof self=="object"&&self&&self.Object===Object&&self,Ge=Vc||Yg||Function("return this")(),Fi=i&&!i.nodeType&&i,Tn=Fi&&!0&&n&&!n.nodeType&&n,Kc=Tn&&Tn.exports===Fi,Mi=Kc&&Vc.process,yt=(function(){try{var A=Tn&&Tn.require&&Tn.require("util").types;return A||Mi&&Mi.binding&&Mi.binding("util")}catch{}})(),Zc=yt&&yt.isArrayBuffer,jc=yt&&yt.isDate,Yc=yt&&yt.isMap,Xc=yt&&yt.isRegExp,Jc=yt&&yt.isSet,Qc=yt&&yt.isTypedArray;function ut(A,R,x){switch(x.length){case 0:return A.call(R);case 1:return A.call(R,x[0]);case 2:return A.call(R,x[0],x[1]);case 3:return A.call(R,x[0],x[1],x[2])}return A.apply(R,x)}function Xg(A,R,x,G){for(var ae=-1,me=A==null?0:A.length;++ae<me;){var Fe=A[ae];R(G,Fe,x(Fe),A)}return G}function mt(A,R){for(var x=-1,G=A==null?0:A.length;++x<G&&R(A[x],x,A)!==!1;);return A}function Jg(A,R){for(var x=A==null?0:A.length;x--&&R(A[x],x,A)!==!1;);return A}function eu(A,R){for(var x=-1,G=A==null?0:A.length;++x<G;)if(!R(A[x],x,A))return!1;return!0}function _n(A,R){for(var x=-1,G=A==null?0:A.length,ae=0,me=[];++x<G;){var Fe=A[x];R(Fe,x,A)&&(me[ae++]=Fe)}return me}function dr(A,R){var x=A==null?0:A.length;return!!x&&Yn(A,R,0)>-1}function qi(A,R,x){for(var G=-1,ae=A==null?0:A.length;++G<ae;)if(x(R,A[G]))return!0;return!1}function Ee(A,R){for(var x=-1,G=A==null?0:A.length,ae=Array(G);++x<G;)ae[x]=R(A[x],x,A);return ae}function yn(A,R){for(var x=-1,G=R.length,ae=A.length;++x<G;)A[ae+x]=R[x];return A}function Ui(A,R,x,G){var ae=-1,me=A==null?0:A.length;for(G&&me&&(x=A[++ae]);++ae<me;)x=R(x,A[ae],ae,A);return x}function Qg(A,R,x,G){var ae=A==null?0:A.length;for(G&&ae&&(x=A[--ae]);ae--;)x=R(x,A[ae],ae,A);return x}function Wi(A,R){for(var x=-1,G=A==null?0:A.length;++x<G;)if(R(A[x],x,A))return!0;return!1}var e_=Gi("length");function t_(A){return A.split("")}function n_(A){return A.match(Si)||[]}function tu(A,R,x){var G;return x(A,function(ae,me,Fe){if(R(ae,me,Fe))return G=me,!1}),G}function hr(A,R,x,G){for(var ae=A.length,me=x+(G?1:-1);G?me--:++me<ae;)if(R(A[me],me,A))return me;return-1}function Yn(A,R,x){return R===R?f_(A,R,x):hr(A,nu,x)}function a_(A,R,x,G){for(var ae=x-1,me=A.length;++ae<me;)if(G(A[ae],R))return ae;return-1}function nu(A){return A!==A}function au(A,R){var x=A==null?0:A.length;return x?Vi(A,R)/x:ln}function Gi(A){return function(R){return R==null?r:R[A]}}function Hi(A){return function(R){return A==null?r:A[R]}}function ru(A,R,x,G,ae){return ae(A,function(me,Fe,Ce){x=G?(G=!1,me):R(x,me,Fe,Ce)}),x}function r_(A,R){var x=A.length;for(A.sort(R);x--;)A[x]=A[x].value;return A}function Vi(A,R){for(var x,G=-1,ae=A.length;++G<ae;){var me=R(A[G]);me!==r&&(x=x===r?me:x+me)}return x}function Ki(A,R){for(var x=-1,G=Array(A);++x<A;)G[x]=R(x);return G}function i_(A,R){return Ee(R,function(x){return[x,A[x]]})}function iu(A){return A&&A.slice(0,cu(A)+1).replace(ba,"")}function pt(A){return function(R){return A(R)}}function Zi(A,R){return Ee(R,function(x){return A[x]})}function Pa(A,R){return A.has(R)}function su(A,R){for(var x=-1,G=A.length;++x<G&&Yn(R,A[x],0)>-1;);return x}function ou(A,R){for(var x=A.length;x--&&Yn(R,A[x],0)>-1;);return x}function s_(A,R){for(var x=A.length,G=0;x--;)A[x]===R&&++G;return G}var o_=Hi(Gg),l_=Hi(Hg);function c_(A){return"\\"+Kg[A]}function u_(A,R){return A==null?r:A[R]}function Xn(A){return Mg.test(A)}function p_(A){return qg.test(A)}function d_(A){for(var R,x=[];!(R=A.next()).done;)x.push(R.value);return x}function ji(A){var R=-1,x=Array(A.size);return A.forEach(function(G,ae){x[++R]=[ae,G]}),x}function lu(A,R){return function(x){return A(R(x))}}function mn(A,R){for(var x=-1,G=A.length,ae=0,me=[];++x<G;){var Fe=A[x];(Fe===R||Fe===y)&&(A[x]=y,me[ae++]=x)}return me}function fr(A){var R=-1,x=Array(A.size);return A.forEach(function(G){x[++R]=G}),x}function h_(A){var R=-1,x=Array(A.size);return A.forEach(function(G){x[++R]=[G,G]}),x}function f_(A,R,x){for(var G=x-1,ae=A.length;++G<ae;)if(A[G]===R)return G;return-1}function g_(A,R,x){for(var G=x+1;G--;)if(A[G]===R)return G;return G}function Jn(A){return Xn(A)?y_(A):e_(A)}function Tt(A){return Xn(A)?m_(A):t_(A)}function cu(A){for(var R=A.length;R--&&rr.test(A.charAt(R)););return R}var __=Hi(Vg);function y_(A){for(var R=Bi.lastIndex=0;Bi.test(A);)++R;return R}function m_(A){return A.match(Bi)||[]}function w_(A){return A.match(Fg)||[]}var b_=(function A(R){R=R==null?Ge:Qn.defaults(Ge.Object(),R,Qn.pick(Ge,Ug));var x=R.Array,G=R.Date,ae=R.Error,me=R.Function,Fe=R.Math,Ce=R.Object,Yi=R.RegExp,v_=R.String,wt=R.TypeError,gr=x.prototype,S_=me.prototype,ea=Ce.prototype,_r=R["__core-js_shared__"],yr=S_.toString,Se=ea.hasOwnProperty,P_=0,uu=(function(){var e=/[^.]+$/.exec(_r&&_r.keys&&_r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})(),mr=ea.toString,C_=yr.call(Ce),k_=Ge._,A_=Yi("^"+yr.call(Se).replace(wa,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),wr=Kc?R.Buffer:r,wn=R.Symbol,br=R.Uint8Array,pu=wr?wr.allocUnsafe:r,vr=lu(Ce.getPrototypeOf,Ce),du=Ce.create,hu=ea.propertyIsEnumerable,Sr=gr.splice,fu=wn?wn.isConcatSpreadable:r,Ca=wn?wn.iterator:r,xn=wn?wn.toStringTag:r,Pr=(function(){try{var e=On(Ce,"defineProperty");return e({},"",{}),e}catch{}})(),I_=R.clearTimeout!==Ge.clearTimeout&&R.clearTimeout,E_=G&&G.now!==Ge.Date.now&&G.now,T_=R.setTimeout!==Ge.setTimeout&&R.setTimeout,Cr=Fe.ceil,kr=Fe.floor,Xi=Ce.getOwnPropertySymbols,x_=wr?wr.isBuffer:r,gu=R.isFinite,R_=gr.join,L_=lu(Ce.keys,Ce),Me=Fe.max,Ze=Fe.min,D_=G.now,$_=R.parseInt,_u=Fe.random,O_=gr.reverse,Ji=On(R,"DataView"),ka=On(R,"Map"),Qi=On(R,"Promise"),ta=On(R,"Set"),Aa=On(R,"WeakMap"),Ia=On(Ce,"create"),Ar=Aa&&new Aa,na={},z_=zn(Ji),N_=zn(ka),B_=zn(Qi),F_=zn(ta),M_=zn(Aa),Ir=wn?wn.prototype:r,Ea=Ir?Ir.valueOf:r,yu=Ir?Ir.toString:r;function u(e){if($e(e)&&!re(e)&&!(e instanceof he)){if(e instanceof bt)return e;if(Se.call(e,"__wrapped__"))return mp(e)}return new bt(e)}var aa=(function(){function e(){}return function(t){if(!xe(t))return{};if(du)return du(t);e.prototype=t;var a=new e;return e.prototype=r,a}})();function Er(){}function bt(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=r}u.templateSettings={escape:hi,evaluate:fi,interpolate:ar,variable:"",imports:{_:u}},u.prototype=Er.prototype,u.prototype.constructor=u,bt.prototype=aa(Er.prototype),bt.prototype.constructor=bt;function he(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Le,this.__views__=[]}function q_(){var e=new he(this.__wrapped__);return e.__actions__=it(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=it(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=it(this.__views__),e}function U_(){if(this.__filtered__){var e=new he(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function W_(){var e=this.__wrapped__.value(),t=this.__dir__,a=re(e),s=t<0,l=a?e.length:0,d=tm(0,l,this.__views__),m=d.start,P=d.end,I=P-m,D=s?P:m-1,$=this.__iteratees__,z=$.length,W=0,j=Ze(I,this.__takeCount__);if(!a||!s&&l==I&&j==I)return qu(e,this.__actions__);var J=[];e:for(;I--&&W<j;){D+=t;for(var ce=-1,Q=e[D];++ce<z;){var de=$[ce],ge=de.iteratee,ft=de.type,nt=ge(Q);if(ft==on)Q=nt;else if(!nt){if(ft==At)continue e;break e}}J[W++]=Q}return J}he.prototype=aa(Er.prototype),he.prototype.constructor=he;function Rn(e){var t=-1,a=e==null?0:e.length;for(this.clear();++t<a;){var s=e[t];this.set(s[0],s[1])}}function G_(){this.__data__=Ia?Ia(null):{},this.size=0}function H_(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function V_(e){var t=this.__data__;if(Ia){var a=t[e];return a===w?r:a}return Se.call(t,e)?t[e]:r}function K_(e){var t=this.__data__;return Ia?t[e]!==r:Se.call(t,e)}function Z_(e,t){var a=this.__data__;return this.size+=this.has(e)?0:1,a[e]=Ia&&t===r?w:t,this}Rn.prototype.clear=G_,Rn.prototype.delete=H_,Rn.prototype.get=V_,Rn.prototype.has=K_,Rn.prototype.set=Z_;function jt(e){var t=-1,a=e==null?0:e.length;for(this.clear();++t<a;){var s=e[t];this.set(s[0],s[1])}}function j_(){this.__data__=[],this.size=0}function Y_(e){var t=this.__data__,a=Tr(t,e);if(a<0)return!1;var s=t.length-1;return a==s?t.pop():Sr.call(t,a,1),--this.size,!0}function X_(e){var t=this.__data__,a=Tr(t,e);return a<0?r:t[a][1]}function J_(e){return Tr(this.__data__,e)>-1}function Q_(e,t){var a=this.__data__,s=Tr(a,e);return s<0?(++this.size,a.push([e,t])):a[s][1]=t,this}jt.prototype.clear=j_,jt.prototype.delete=Y_,jt.prototype.get=X_,jt.prototype.has=J_,jt.prototype.set=Q_;function Yt(e){var t=-1,a=e==null?0:e.length;for(this.clear();++t<a;){var s=e[t];this.set(s[0],s[1])}}function ey(){this.size=0,this.__data__={hash:new Rn,map:new(ka||jt),string:new Rn}}function ty(e){var t=qr(this,e).delete(e);return this.size-=t?1:0,t}function ny(e){return qr(this,e).get(e)}function ay(e){return qr(this,e).has(e)}function ry(e,t){var a=qr(this,e),s=a.size;return a.set(e,t),this.size+=a.size==s?0:1,this}Yt.prototype.clear=ey,Yt.prototype.delete=ty,Yt.prototype.get=ny,Yt.prototype.has=ay,Yt.prototype.set=ry;function Ln(e){var t=-1,a=e==null?0:e.length;for(this.__data__=new Yt;++t<a;)this.add(e[t])}function iy(e){return this.__data__.set(e,w),this}function sy(e){return this.__data__.has(e)}Ln.prototype.add=Ln.prototype.push=iy,Ln.prototype.has=sy;function xt(e){var t=this.__data__=new jt(e);this.size=t.size}function oy(){this.__data__=new jt,this.size=0}function ly(e){var t=this.__data__,a=t.delete(e);return this.size=t.size,a}function cy(e){return this.__data__.get(e)}function uy(e){return this.__data__.has(e)}function py(e,t){var a=this.__data__;if(a instanceof jt){var s=a.__data__;if(!ka||s.length<c-1)return s.push([e,t]),this.size=++a.size,this;a=this.__data__=new Yt(s)}return a.set(e,t),this.size=a.size,this}xt.prototype.clear=oy,xt.prototype.delete=ly,xt.prototype.get=cy,xt.prototype.has=uy,xt.prototype.set=py;function mu(e,t){var a=re(e),s=!a&&Nn(e),l=!a&&!s&&Cn(e),d=!a&&!s&&!l&&oa(e),m=a||s||l||d,P=m?Ki(e.length,v_):[],I=P.length;for(var D in e)(t||Se.call(e,D))&&!(m&&(D=="length"||l&&(D=="offset"||D=="parent")||d&&(D=="buffer"||D=="byteLength"||D=="byteOffset")||en(D,I)))&&P.push(D);return P}function wu(e){var t=e.length;return t?e[us(0,t-1)]:r}function dy(e,t){return Ur(it(e),Dn(t,0,e.length))}function hy(e){return Ur(it(e))}function es(e,t,a){(a!==r&&!Rt(e[t],a)||a===r&&!(t in e))&&Xt(e,t,a)}function Ta(e,t,a){var s=e[t];(!(Se.call(e,t)&&Rt(s,a))||a===r&&!(t in e))&&Xt(e,t,a)}function Tr(e,t){for(var a=e.length;a--;)if(Rt(e[a][0],t))return a;return-1}function fy(e,t,a,s){return bn(e,function(l,d,m){t(s,l,a(l),m)}),s}function bu(e,t){return e&&Nt(t,qe(t),e)}function gy(e,t){return e&&Nt(t,ot(t),e)}function Xt(e,t,a){t=="__proto__"&&Pr?Pr(e,t,{configurable:!0,enumerable:!0,value:a,writable:!0}):e[t]=a}function ts(e,t){for(var a=-1,s=t.length,l=x(s),d=e==null;++a<s;)l[a]=d?r:Os(e,t[a]);return l}function Dn(e,t,a){return e===e&&(a!==r&&(e=e<=a?e:a),t!==r&&(e=e>=t?e:t)),e}function vt(e,t,a,s,l,d){var m,P=t&v,I=t&T,D=t&B;if(a&&(m=l?a(e,s,l,d):a(e)),m!==r)return m;if(!xe(e))return e;var $=re(e);if($){if(m=am(e),!P)return it(e,m)}else{var z=je(e),W=z==pn||z==Hn;if(Cn(e))return Gu(e,P);if(z==ie||z==Dt||W&&!l){if(m=I||W?{}:cp(e),!P)return I?Vy(e,gy(m,e)):Hy(e,bu(m,e))}else{if(!ke[z])return l?e:{};m=rm(e,z,P)}}d||(d=new xt);var j=d.get(e);if(j)return j;d.set(e,m),Bp(e)?e.forEach(function(Q){m.add(vt(Q,t,a,Q,e,d))}):zp(e)&&e.forEach(function(Q,de){m.set(de,vt(Q,t,a,de,e,d))});var J=D?I?vs:bs:I?ot:qe,ce=$?r:J(e);return mt(ce||e,function(Q,de){ce&&(de=Q,Q=e[de]),Ta(m,de,vt(Q,t,a,de,e,d))}),m}function _y(e){var t=qe(e);return function(a){return vu(a,e,t)}}function vu(e,t,a){var s=a.length;if(e==null)return!s;for(e=Ce(e);s--;){var l=a[s],d=t[l],m=e[l];if(m===r&&!(l in e)||!d(m))return!1}return!0}function Su(e,t,a){if(typeof e!="function")throw new wt(_);return za(function(){e.apply(r,a)},t)}function xa(e,t,a,s){var l=-1,d=dr,m=!0,P=e.length,I=[],D=t.length;if(!P)return I;a&&(t=Ee(t,pt(a))),s?(d=qi,m=!1):t.length>=c&&(d=Pa,m=!1,t=new Ln(t));e:for(;++l<P;){var $=e[l],z=a==null?$:a($);if($=s||$!==0?$:0,m&&z===z){for(var W=D;W--;)if(t[W]===z)continue e;I.push($)}else d(t,z,s)||I.push($)}return I}var bn=ju(zt),Pu=ju(as,!0);function yy(e,t){var a=!0;return bn(e,function(s,l,d){return a=!!t(s,l,d),a}),a}function xr(e,t,a){for(var s=-1,l=e.length;++s<l;){var d=e[s],m=t(d);if(m!=null&&(P===r?m===m&&!ht(m):a(m,P)))var P=m,I=d}return I}function my(e,t,a,s){var l=e.length;for(a=oe(a),a<0&&(a=-a>l?0:l+a),s=s===r||s>l?l:oe(s),s<0&&(s+=l),s=a>s?0:Mp(s);a<s;)e[a++]=t;return e}function Cu(e,t){var a=[];return bn(e,function(s,l,d){t(s,l,d)&&a.push(s)}),a}function He(e,t,a,s,l){var d=-1,m=e.length;for(a||(a=sm),l||(l=[]);++d<m;){var P=e[d];t>0&&a(P)?t>1?He(P,t-1,a,s,l):yn(l,P):s||(l[l.length]=P)}return l}var ns=Yu(),ku=Yu(!0);function zt(e,t){return e&&ns(e,t,qe)}function as(e,t){return e&&ku(e,t,qe)}function Rr(e,t){return _n(t,function(a){return tn(e[a])})}function $n(e,t){t=Sn(t,e);for(var a=0,s=t.length;e!=null&&a<s;)e=e[Bt(t[a++])];return a&&a==s?e:r}function Au(e,t,a){var s=t(e);return re(e)?s:yn(s,a(e))}function et(e){return e==null?e===r?Ht:dn:xn&&xn in Ce(e)?em(e):hm(e)}function rs(e,t){return e>t}function wy(e,t){return e!=null&&Se.call(e,t)}function by(e,t){return e!=null&&t in Ce(e)}function vy(e,t,a){return e>=Ze(t,a)&&e<Me(t,a)}function is(e,t,a){for(var s=a?qi:dr,l=e[0].length,d=e.length,m=d,P=x(d),I=1/0,D=[];m--;){var $=e[m];m&&t&&($=Ee($,pt(t))),I=Ze($.length,I),P[m]=!a&&(t||l>=120&&$.length>=120)?new Ln(m&&$):r}$=e[0];var z=-1,W=P[0];e:for(;++z<l&&D.length<I;){var j=$[z],J=t?t(j):j;if(j=a||j!==0?j:0,!(W?Pa(W,J):s(D,J,a))){for(m=d;--m;){var ce=P[m];if(!(ce?Pa(ce,J):s(e[m],J,a)))continue e}W&&W.push(J),D.push(j)}}return D}function Sy(e,t,a,s){return zt(e,function(l,d,m){t(s,a(l),d,m)}),s}function Ra(e,t,a){t=Sn(t,e),e=hp(e,t);var s=e==null?e:e[Bt(Pt(t))];return s==null?r:ut(s,e,a)}function Iu(e){return $e(e)&&et(e)==Dt}function Py(e){return $e(e)&&et(e)==Et}function Cy(e){return $e(e)&&et(e)==Gt}function La(e,t,a,s,l){return e===t?!0:e==null||t==null||!$e(e)&&!$e(t)?e!==e&&t!==t:ky(e,t,a,s,La,l)}function ky(e,t,a,s,l,d){var m=re(e),P=re(t),I=m?cn:je(e),D=P?cn:je(t);I=I==Dt?ie:I,D=D==Dt?ie:D;var $=I==ie,z=D==ie,W=I==D;if(W&&Cn(e)){if(!Cn(t))return!1;m=!0,$=!1}if(W&&!$)return d||(d=new xt),m||oa(e)?sp(e,t,a,s,l,d):Jy(e,t,I,a,s,l,d);if(!(a&K)){var j=$&&Se.call(e,"__wrapped__"),J=z&&Se.call(t,"__wrapped__");if(j||J){var ce=j?e.value():e,Q=J?t.value():t;return d||(d=new xt),l(ce,Q,a,s,d)}}return W?(d||(d=new xt),Qy(e,t,a,s,l,d)):!1}function Ay(e){return $e(e)&&je(e)==Ye}function ss(e,t,a,s){var l=a.length,d=l,m=!s;if(e==null)return!d;for(e=Ce(e);l--;){var P=a[l];if(m&&P[2]?P[1]!==e[P[0]]:!(P[0]in e))return!1}for(;++l<d;){P=a[l];var I=P[0],D=e[I],$=P[1];if(m&&P[2]){if(D===r&&!(I in e))return!1}else{var z=new xt;if(s)var W=s(D,$,I,e,t,z);if(!(W===r?La($,D,K|O,s,z):W))return!1}}return!0}function Eu(e){if(!xe(e)||lm(e))return!1;var t=tn(e)?A_:Ei;return t.test(zn(e))}function Iy(e){return $e(e)&&et(e)==It}function Ey(e){return $e(e)&&je(e)==Be}function Ty(e){return $e(e)&&Zr(e.length)&&!!Ae[et(e)]}function Tu(e){return typeof e=="function"?e:e==null?lt:typeof e=="object"?re(e)?Lu(e[0],e[1]):Ru(e):Xp(e)}function os(e){if(!Oa(e))return L_(e);var t=[];for(var a in Ce(e))Se.call(e,a)&&a!="constructor"&&t.push(a);return t}function xy(e){if(!xe(e))return dm(e);var t=Oa(e),a=[];for(var s in e)s=="constructor"&&(t||!Se.call(e,s))||a.push(s);return a}function ls(e,t){return e<t}function xu(e,t){var a=-1,s=st(e)?x(e.length):[];return bn(e,function(l,d,m){s[++a]=t(l,d,m)}),s}function Ru(e){var t=Ps(e);return t.length==1&&t[0][2]?pp(t[0][0],t[0][1]):function(a){return a===e||ss(a,e,t)}}function Lu(e,t){return ks(e)&&up(t)?pp(Bt(e),t):function(a){var s=Os(a,e);return s===r&&s===t?zs(a,e):La(t,s,K|O)}}function Lr(e,t,a,s,l){e!==t&&ns(t,function(d,m){if(l||(l=new xt),xe(d))Ry(e,t,m,a,Lr,s,l);else{var P=s?s(Is(e,m),d,m+"",e,t,l):r;P===r&&(P=d),es(e,m,P)}},ot)}function Ry(e,t,a,s,l,d,m){var P=Is(e,a),I=Is(t,a),D=m.get(I);if(D){es(e,a,D);return}var $=d?d(P,I,a+"",e,t,m):r,z=$===r;if(z){var W=re(I),j=!W&&Cn(I),J=!W&&!j&&oa(I);$=I,W||j||J?re(P)?$=P:ze(P)?$=it(P):j?(z=!1,$=Gu(I,!0)):J?(z=!1,$=Hu(I,!0)):$=[]:Na(I)||Nn(I)?($=P,Nn(P)?$=qp(P):(!xe(P)||tn(P))&&($=cp(I))):z=!1}z&&(m.set(I,$),l($,I,s,d,m),m.delete(I)),es(e,a,$)}function Du(e,t){var a=e.length;if(a)return t+=t<0?a:0,en(t,a)?e[t]:r}function $u(e,t,a){t.length?t=Ee(t,function(d){return re(d)?function(m){return $n(m,d.length===1?d[0]:d)}:d}):t=[lt];var s=-1;t=Ee(t,pt(X()));var l=xu(e,function(d,m,P){var I=Ee(t,function(D){return D(d)});return{criteria:I,index:++s,value:d}});return r_(l,function(d,m){return Gy(d,m,a)})}function Ly(e,t){return Ou(e,t,function(a,s){return zs(e,s)})}function Ou(e,t,a){for(var s=-1,l=t.length,d={};++s<l;){var m=t[s],P=$n(e,m);a(P,m)&&Da(d,Sn(m,e),P)}return d}function Dy(e){return function(t){return $n(t,e)}}function cs(e,t,a,s){var l=s?a_:Yn,d=-1,m=t.length,P=e;for(e===t&&(t=it(t)),a&&(P=Ee(e,pt(a)));++d<m;)for(var I=0,D=t[d],$=a?a(D):D;(I=l(P,$,I,s))>-1;)P!==e&&Sr.call(P,I,1),Sr.call(e,I,1);return e}function zu(e,t){for(var a=e?t.length:0,s=a-1;a--;){var l=t[a];if(a==s||l!==d){var d=l;en(l)?Sr.call(e,l,1):hs(e,l)}}return e}function us(e,t){return e+kr(_u()*(t-e+1))}function $y(e,t,a,s){for(var l=-1,d=Me(Cr((t-e)/(a||1)),0),m=x(d);d--;)m[s?d:++l]=e,e+=a;return m}function ps(e,t){var a="";if(!e||t<1||t>at)return a;do t%2&&(a+=e),t=kr(t/2),t&&(e+=e);while(t);return a}function pe(e,t){return Es(dp(e,t,lt),e+"")}function Oy(e){return wu(la(e))}function zy(e,t){var a=la(e);return Ur(a,Dn(t,0,a.length))}function Da(e,t,a,s){if(!xe(e))return e;t=Sn(t,e);for(var l=-1,d=t.length,m=d-1,P=e;P!=null&&++l<d;){var I=Bt(t[l]),D=a;if(I==="__proto__"||I==="constructor"||I==="prototype")return e;if(l!=m){var $=P[I];D=s?s($,I,P):r,D===r&&(D=xe($)?$:en(t[l+1])?[]:{})}Ta(P,I,D),P=P[I]}return e}var Nu=Ar?function(e,t){return Ar.set(e,t),e}:lt,Ny=Pr?function(e,t){return Pr(e,"toString",{configurable:!0,enumerable:!1,value:Bs(t),writable:!0})}:lt;function By(e){return Ur(la(e))}function St(e,t,a){var s=-1,l=e.length;t<0&&(t=-t>l?0:l+t),a=a>l?l:a,a<0&&(a+=l),l=t>a?0:a-t>>>0,t>>>=0;for(var d=x(l);++s<l;)d[s]=e[s+t];return d}function Fy(e,t){var a;return bn(e,function(s,l,d){return a=t(s,l,d),!a}),!!a}function Dr(e,t,a){var s=0,l=e==null?s:e.length;if(typeof t=="number"&&t===t&&l<=ha){for(;s<l;){var d=s+l>>>1,m=e[d];m!==null&&!ht(m)&&(a?m<=t:m<t)?s=d+1:l=d}return l}return ds(e,t,lt,a)}function ds(e,t,a,s){var l=0,d=e==null?0:e.length;if(d===0)return 0;t=a(t);for(var m=t!==t,P=t===null,I=ht(t),D=t===r;l<d;){var $=kr((l+d)/2),z=a(e[$]),W=z!==r,j=z===null,J=z===z,ce=ht(z);if(m)var Q=s||J;else D?Q=J&&(s||W):P?Q=J&&W&&(s||!j):I?Q=J&&W&&!j&&(s||!ce):j||ce?Q=!1:Q=s?z<=t:z<t;Q?l=$+1:d=$}return Ze(d,Gn)}function Bu(e,t){for(var a=-1,s=e.length,l=0,d=[];++a<s;){var m=e[a],P=t?t(m):m;if(!a||!Rt(P,I)){var I=P;d[l++]=m===0?0:m}}return d}function Fu(e){return typeof e=="number"?e:ht(e)?ln:+e}function dt(e){if(typeof e=="string")return e;if(re(e))return Ee(e,dt)+"";if(ht(e))return yu?yu.call(e):"";var t=e+"";return t=="0"&&1/e==-Ve?"-0":t}function vn(e,t,a){var s=-1,l=dr,d=e.length,m=!0,P=[],I=P;if(a)m=!1,l=qi;else if(d>=c){var D=t?null:Yy(e);if(D)return fr(D);m=!1,l=Pa,I=new Ln}else I=t?[]:P;e:for(;++s<d;){var $=e[s],z=t?t($):$;if($=a||$!==0?$:0,m&&z===z){for(var W=I.length;W--;)if(I[W]===z)continue e;t&&I.push(z),P.push($)}else l(I,z,a)||(I!==P&&I.push(z),P.push($))}return P}function hs(e,t){return t=Sn(t,e),e=hp(e,t),e==null||delete e[Bt(Pt(t))]}function Mu(e,t,a,s){return Da(e,t,a($n(e,t)),s)}function $r(e,t,a,s){for(var l=e.length,d=s?l:-1;(s?d--:++d<l)&&t(e[d],d,e););return a?St(e,s?0:d,s?d+1:l):St(e,s?d+1:0,s?l:d)}function qu(e,t){var a=e;return a instanceof he&&(a=a.value()),Ui(t,function(s,l){return l.func.apply(l.thisArg,yn([s],l.args))},a)}function fs(e,t,a){var s=e.length;if(s<2)return s?vn(e[0]):[];for(var l=-1,d=x(s);++l<s;)for(var m=e[l],P=-1;++P<s;)P!=l&&(d[l]=xa(d[l]||m,e[P],t,a));return vn(He(d,1),t,a)}function Uu(e,t,a){for(var s=-1,l=e.length,d=t.length,m={};++s<l;){var P=s<d?t[s]:r;a(m,e[s],P)}return m}function gs(e){return ze(e)?e:[]}function _s(e){return typeof e=="function"?e:lt}function Sn(e,t){return re(e)?e:ks(e,t)?[e]:yp(be(e))}var My=pe;function Pn(e,t,a){var s=e.length;return a=a===r?s:a,!t&&a>=s?e:St(e,t,a)}var Wu=I_||function(e){return Ge.clearTimeout(e)};function Gu(e,t){if(t)return e.slice();var a=e.length,s=pu?pu(a):new e.constructor(a);return e.copy(s),s}function ys(e){var t=new e.constructor(e.byteLength);return new br(t).set(new br(e)),t}function qy(e,t){var a=t?ys(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.byteLength)}function Uy(e){var t=new e.constructor(e.source,ir.exec(e));return t.lastIndex=e.lastIndex,t}function Wy(e){return Ea?Ce(Ea.call(e)):{}}function Hu(e,t){var a=t?ys(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.length)}function Vu(e,t){if(e!==t){var a=e!==r,s=e===null,l=e===e,d=ht(e),m=t!==r,P=t===null,I=t===t,D=ht(t);if(!P&&!D&&!d&&e>t||d&&m&&I&&!P&&!D||s&&m&&I||!a&&I||!l)return 1;if(!s&&!d&&!D&&e<t||D&&a&&l&&!s&&!d||P&&a&&l||!m&&l||!I)return-1}return 0}function Gy(e,t,a){for(var s=-1,l=e.criteria,d=t.criteria,m=l.length,P=a.length;++s<m;){var I=Vu(l[s],d[s]);if(I){if(s>=P)return I;var D=a[s];return I*(D=="desc"?-1:1)}}return e.index-t.index}function Ku(e,t,a,s){for(var l=-1,d=e.length,m=a.length,P=-1,I=t.length,D=Me(d-m,0),$=x(I+D),z=!s;++P<I;)$[P]=t[P];for(;++l<m;)(z||l<d)&&($[a[l]]=e[l]);for(;D--;)$[P++]=e[l++];return $}function Zu(e,t,a,s){for(var l=-1,d=e.length,m=-1,P=a.length,I=-1,D=t.length,$=Me(d-P,0),z=x($+D),W=!s;++l<$;)z[l]=e[l];for(var j=l;++I<D;)z[j+I]=t[I];for(;++m<P;)(W||l<d)&&(z[j+a[m]]=e[l++]);return z}function it(e,t){var a=-1,s=e.length;for(t||(t=x(s));++a<s;)t[a]=e[a];return t}function Nt(e,t,a,s){var l=!a;a||(a={});for(var d=-1,m=t.length;++d<m;){var P=t[d],I=s?s(a[P],e[P],P,a,e):r;I===r&&(I=e[P]),l?Xt(a,P,I):Ta(a,P,I)}return a}function Hy(e,t){return Nt(e,Cs(e),t)}function Vy(e,t){return Nt(e,op(e),t)}function Or(e,t){return function(a,s){var l=re(a)?Xg:fy,d=t?t():{};return l(a,e,X(s,2),d)}}function ra(e){return pe(function(t,a){var s=-1,l=a.length,d=l>1?a[l-1]:r,m=l>2?a[2]:r;for(d=e.length>3&&typeof d=="function"?(l--,d):r,m&&tt(a[0],a[1],m)&&(d=l<3?r:d,l=1),t=Ce(t);++s<l;){var P=a[s];P&&e(t,P,s,d)}return t})}function ju(e,t){return function(a,s){if(a==null)return a;if(!st(a))return e(a,s);for(var l=a.length,d=t?l:-1,m=Ce(a);(t?d--:++d<l)&&s(m[d],d,m)!==!1;);return a}}function Yu(e){return function(t,a,s){for(var l=-1,d=Ce(t),m=s(t),P=m.length;P--;){var I=m[e?P:++l];if(a(d[I],I,d)===!1)break}return t}}function Ky(e,t,a){var s=t&H,l=$a(e);function d(){var m=this&&this!==Ge&&this instanceof d?l:e;return m.apply(s?a:this,arguments)}return d}function Xu(e){return function(t){t=be(t);var a=Xn(t)?Tt(t):r,s=a?a[0]:t.charAt(0),l=a?Pn(a,1).join(""):t.slice(1);return s[e]()+l}}function ia(e){return function(t){return Ui(jp(Zp(t).replace(Ng,"")),e,"")}}function $a(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var a=aa(e.prototype),s=e.apply(a,t);return xe(s)?s:a}}function Zy(e,t,a){var s=$a(e);function l(){for(var d=arguments.length,m=x(d),P=d,I=sa(l);P--;)m[P]=arguments[P];var D=d<3&&m[0]!==I&&m[d-1]!==I?[]:mn(m,I);if(d-=D.length,d<a)return np(e,t,zr,l.placeholder,r,m,D,r,r,a-d);var $=this&&this!==Ge&&this instanceof l?s:e;return ut($,this,m)}return l}function Ju(e){return function(t,a,s){var l=Ce(t);if(!st(t)){var d=X(a,3);t=qe(t),a=function(P){return d(l[P],P,l)}}var m=e(t,a,s);return m>-1?l[d?t[m]:m]:r}}function Qu(e){return Qt(function(t){var a=t.length,s=a,l=bt.prototype.thru;for(e&&t.reverse();s--;){var d=t[s];if(typeof d!="function")throw new wt(_);if(l&&!m&&Mr(d)=="wrapper")var m=new bt([],!0)}for(s=m?s:a;++s<a;){d=t[s];var P=Mr(d),I=P=="wrapper"?Ss(d):r;I&&As(I[0])&&I[1]==(Y|we|q|ue)&&!I[4].length&&I[9]==1?m=m[Mr(I[0])].apply(m,I[3]):m=d.length==1&&As(d)?m[P]():m.thru(d)}return function(){var D=arguments,$=D[0];if(m&&D.length==1&&re($))return m.plant($).value();for(var z=0,W=a?t[z].apply(this,D):$;++z<a;)W=t[z].call(this,W);return W}})}function zr(e,t,a,s,l,d,m,P,I,D){var $=t&Y,z=t&H,W=t&ne,j=t&(we|ve),J=t&fe,ce=W?r:$a(e);function Q(){for(var de=arguments.length,ge=x(de),ft=de;ft--;)ge[ft]=arguments[ft];if(j)var nt=sa(Q),gt=s_(ge,nt);if(s&&(ge=Ku(ge,s,l,j)),d&&(ge=Zu(ge,d,m,j)),de-=gt,j&&de<D){var Ne=mn(ge,nt);return np(e,t,zr,Q.placeholder,a,ge,Ne,P,I,D-de)}var Lt=z?a:this,an=W?Lt[e]:e;return de=ge.length,P?ge=fm(ge,P):J&&de>1&&ge.reverse(),$&&I<de&&(ge.length=I),this&&this!==Ge&&this instanceof Q&&(an=ce||$a(an)),an.apply(Lt,ge)}return Q}function ep(e,t){return function(a,s){return Sy(a,e,t(s),{})}}function Nr(e,t){return function(a,s){var l;if(a===r&&s===r)return t;if(a!==r&&(l=a),s!==r){if(l===r)return s;typeof a=="string"||typeof s=="string"?(a=dt(a),s=dt(s)):(a=Fu(a),s=Fu(s)),l=e(a,s)}return l}}function ms(e){return Qt(function(t){return t=Ee(t,pt(X())),pe(function(a){var s=this;return e(t,function(l){return ut(l,s,a)})})})}function Br(e,t){t=t===r?" ":dt(t);var a=t.length;if(a<2)return a?ps(t,e):t;var s=ps(t,Cr(e/Jn(t)));return Xn(t)?Pn(Tt(s),0,e).join(""):s.slice(0,e)}function jy(e,t,a,s){var l=t&H,d=$a(e);function m(){for(var P=-1,I=arguments.length,D=-1,$=s.length,z=x($+I),W=this&&this!==Ge&&this instanceof m?d:e;++D<$;)z[D]=s[D];for(;I--;)z[D++]=arguments[++P];return ut(W,l?a:this,z)}return m}function tp(e){return function(t,a,s){return s&&typeof s!="number"&&tt(t,a,s)&&(a=s=r),t=nn(t),a===r?(a=t,t=0):a=nn(a),s=s===r?t<a?1:-1:nn(s),$y(t,a,s,e)}}function Fr(e){return function(t,a){return typeof t=="string"&&typeof a=="string"||(t=Ct(t),a=Ct(a)),e(t,a)}}function np(e,t,a,s,l,d,m,P,I,D){var $=t&we,z=$?m:r,W=$?r:m,j=$?d:r,J=$?r:d;t|=$?q:ee,t&=~($?ee:q),t&Z||(t&=-4);var ce=[e,t,l,j,z,J,W,P,I,D],Q=a.apply(r,ce);return As(e)&&fp(Q,ce),Q.placeholder=s,gp(Q,e,t)}function ws(e){var t=Fe[e];return function(a,s){if(a=Ct(a),s=s==null?0:Ze(oe(s),292),s&&gu(a)){var l=(be(a)+"e").split("e"),d=t(l[0]+"e"+(+l[1]+s));return l=(be(d)+"e").split("e"),+(l[0]+"e"+(+l[1]-s))}return t(a)}}var Yy=ta&&1/fr(new ta([,-0]))[1]==Ve?function(e){return new ta(e)}:qs;function ap(e){return function(t){var a=je(t);return a==Ye?ji(t):a==Be?h_(t):i_(t,e(t))}}function Jt(e,t,a,s,l,d,m,P){var I=t&ne;if(!I&&typeof e!="function")throw new wt(_);var D=s?s.length:0;if(D||(t&=-97,s=l=r),m=m===r?m:Me(oe(m),0),P=P===r?P:oe(P),D-=l?l.length:0,t&ee){var $=s,z=l;s=l=r}var W=I?r:Ss(e),j=[e,t,a,s,l,$,z,d,m,P];if(W&&pm(j,W),e=j[0],t=j[1],a=j[2],s=j[3],l=j[4],P=j[9]=j[9]===r?I?0:e.length:Me(j[9]-D,0),!P&&t&(we|ve)&&(t&=-25),!t||t==H)var J=Ky(e,t,a);else t==we||t==ve?J=Zy(e,t,P):(t==q||t==(H|q))&&!l.length?J=jy(e,t,a,s):J=zr.apply(r,j);var ce=W?Nu:fp;return gp(ce(J,j),e,t)}function rp(e,t,a,s){return e===r||Rt(e,ea[a])&&!Se.call(s,a)?t:e}function ip(e,t,a,s,l,d){return xe(e)&&xe(t)&&(d.set(t,e),Lr(e,t,r,ip,d),d.delete(t)),e}function Xy(e){return Na(e)?r:e}function sp(e,t,a,s,l,d){var m=a&K,P=e.length,I=t.length;if(P!=I&&!(m&&I>P))return!1;var D=d.get(e),$=d.get(t);if(D&&$)return D==t&&$==e;var z=-1,W=!0,j=a&O?new Ln:r;for(d.set(e,t),d.set(t,e);++z<P;){var J=e[z],ce=t[z];if(s)var Q=m?s(ce,J,z,t,e,d):s(J,ce,z,e,t,d);if(Q!==r){if(Q)continue;W=!1;break}if(j){if(!Wi(t,function(de,ge){if(!Pa(j,ge)&&(J===de||l(J,de,a,s,d)))return j.push(ge)})){W=!1;break}}else if(!(J===ce||l(J,ce,a,s,d))){W=!1;break}}return d.delete(e),d.delete(t),W}function Jy(e,t,a,s,l,d,m){switch(a){case Ke:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Et:return!(e.byteLength!=t.byteLength||!d(new br(e),new br(t)));case Wt:case Gt:case se:return Rt(+e,+t);case un:return e.name==t.name&&e.message==t.message;case It:case We:return e==t+"";case Ye:var P=ji;case Be:var I=s&K;if(P||(P=fr),e.size!=t.size&&!I)return!1;var D=m.get(e);if(D)return D==t;s|=O,m.set(e,t);var $=sp(P(e),P(t),s,l,d,m);return m.delete(e),$;case De:if(Ea)return Ea.call(e)==Ea.call(t)}return!1}function Qy(e,t,a,s,l,d){var m=a&K,P=bs(e),I=P.length,D=bs(t),$=D.length;if(I!=$&&!m)return!1;for(var z=I;z--;){var W=P[z];if(!(m?W in t:Se.call(t,W)))return!1}var j=d.get(e),J=d.get(t);if(j&&J)return j==t&&J==e;var ce=!0;d.set(e,t),d.set(t,e);for(var Q=m;++z<I;){W=P[z];var de=e[W],ge=t[W];if(s)var ft=m?s(ge,de,W,t,e,d):s(de,ge,W,e,t,d);if(!(ft===r?de===ge||l(de,ge,a,s,d):ft)){ce=!1;break}Q||(Q=W=="constructor")}if(ce&&!Q){var nt=e.constructor,gt=t.constructor;nt!=gt&&"constructor"in e&&"constructor"in t&&!(typeof nt=="function"&&nt instanceof nt&&typeof gt=="function"&&gt instanceof gt)&&(ce=!1)}return d.delete(e),d.delete(t),ce}function Qt(e){return Es(dp(e,r,vp),e+"")}function bs(e){return Au(e,qe,Cs)}function vs(e){return Au(e,ot,op)}var Ss=Ar?function(e){return Ar.get(e)}:qs;function Mr(e){for(var t=e.name+"",a=na[t],s=Se.call(na,t)?a.length:0;s--;){var l=a[s],d=l.func;if(d==null||d==e)return l.name}return t}function sa(e){var t=Se.call(u,"placeholder")?u:e;return t.placeholder}function X(){var e=u.iteratee||Fs;return e=e===Fs?Tu:e,arguments.length?e(arguments[0],arguments[1]):e}function qr(e,t){var a=e.__data__;return om(t)?a[typeof t=="string"?"string":"hash"]:a.map}function Ps(e){for(var t=qe(e),a=t.length;a--;){var s=t[a],l=e[s];t[a]=[s,l,up(l)]}return t}function On(e,t){var a=u_(e,t);return Eu(a)?a:r}function em(e){var t=Se.call(e,xn),a=e[xn];try{e[xn]=r;var s=!0}catch{}var l=mr.call(e);return s&&(t?e[xn]=a:delete e[xn]),l}var Cs=Xi?function(e){return e==null?[]:(e=Ce(e),_n(Xi(e),function(t){return hu.call(e,t)}))}:Us,op=Xi?function(e){for(var t=[];e;)yn(t,Cs(e)),e=vr(e);return t}:Us,je=et;(Ji&&je(new Ji(new ArrayBuffer(1)))!=Ke||ka&&je(new ka)!=Ye||Qi&&je(Qi.resolve())!=rt||ta&&je(new ta)!=Be||Aa&&je(new Aa)!=ct)&&(je=function(e){var t=et(e),a=t==ie?e.constructor:r,s=a?zn(a):"";if(s)switch(s){case z_:return Ke;case N_:return Ye;case B_:return rt;case F_:return Be;case M_:return ct}return t});function tm(e,t,a){for(var s=-1,l=a.length;++s<l;){var d=a[s],m=d.size;switch(d.type){case"drop":e+=m;break;case"dropRight":t-=m;break;case"take":t=Ze(t,e+m);break;case"takeRight":e=Me(e,t-m);break}}return{start:e,end:t}}function nm(e){var t=e.match(bi);return t?t[1].split(vi):[]}function lp(e,t,a){t=Sn(t,e);for(var s=-1,l=t.length,d=!1;++s<l;){var m=Bt(t[s]);if(!(d=e!=null&&a(e,m)))break;e=e[m]}return d||++s!=l?d:(l=e==null?0:e.length,!!l&&Zr(l)&&en(m,l)&&(re(e)||Nn(e)))}function am(e){var t=e.length,a=new e.constructor(t);return t&&typeof e[0]=="string"&&Se.call(e,"index")&&(a.index=e.index,a.input=e.input),a}function cp(e){return typeof e.constructor=="function"&&!Oa(e)?aa(vr(e)):{}}function rm(e,t,a){var s=e.constructor;switch(t){case Et:return ys(e);case Wt:case Gt:return new s(+e);case Ke:return qy(e,a);case Vt:case Kt:case hn:case Zt:case Xe:case Je:case ya:case ma:case In:return Hu(e,a);case Ye:return new s;case se:case We:return new s(e);case It:return Uy(e);case Be:return new s;case De:return Wy(e)}}function im(e,t){var a=t.length;if(!a)return e;var s=a-1;return t[s]=(a>1?"& ":"")+t[s],t=t.join(a>2?", ":" "),e.replace(wi,`{
/* [wrapped with `+t+`] */
`)}function sm(e){return re(e)||Nn(e)||!!(fu&&e&&e[fu])}function en(e,t){var a=typeof e;return t=t??at,!!t&&(a=="number"||a!="symbol"&&xi.test(e))&&e>-1&&e%1==0&&e<t}function tt(e,t,a){if(!xe(a))return!1;var s=typeof t;return(s=="number"?st(a)&&en(t,a.length):s=="string"&&t in a)?Rt(a[t],e):!1}function ks(e,t){if(re(e))return!1;var a=typeof e;return a=="number"||a=="symbol"||a=="boolean"||e==null||ht(e)?!0:_i.test(e)||!gi.test(e)||t!=null&&e in Ce(t)}function om(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function As(e){var t=Mr(e),a=u[t];if(typeof a!="function"||!(t in he.prototype))return!1;if(e===a)return!0;var s=Ss(a);return!!s&&e===s[0]}function lm(e){return!!uu&&uu in e}var cm=_r?tn:Ws;function Oa(e){var t=e&&e.constructor,a=typeof t=="function"&&t.prototype||ea;return e===a}function up(e){return e===e&&!xe(e)}function pp(e,t){return function(a){return a==null?!1:a[e]===t&&(t!==r||e in Ce(a))}}function um(e){var t=Vr(e,function(s){return a.size===b&&a.clear(),s}),a=t.cache;return t}function pm(e,t){var a=e[1],s=t[1],l=a|s,d=l<(H|ne|Y),m=s==Y&&a==we||s==Y&&a==ue&&e[7].length<=t[8]||s==(Y|ue)&&t[7].length<=t[8]&&a==we;if(!(d||m))return e;s&H&&(e[2]=t[2],l|=a&H?0:Z);var P=t[3];if(P){var I=e[3];e[3]=I?Ku(I,P,t[4]):P,e[4]=I?mn(e[3],y):t[4]}return P=t[5],P&&(I=e[5],e[5]=I?Zu(I,P,t[6]):P,e[6]=I?mn(e[5],y):t[6]),P=t[7],P&&(e[7]=P),s&Y&&(e[8]=e[8]==null?t[8]:Ze(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=l,e}function dm(e){var t=[];if(e!=null)for(var a in Ce(e))t.push(a);return t}function hm(e){return mr.call(e)}function dp(e,t,a){return t=Me(t===r?e.length-1:t,0),function(){for(var s=arguments,l=-1,d=Me(s.length-t,0),m=x(d);++l<d;)m[l]=s[t+l];l=-1;for(var P=x(t+1);++l<t;)P[l]=s[l];return P[t]=a(m),ut(e,this,P)}}function hp(e,t){return t.length<2?e:$n(e,St(t,0,-1))}function fm(e,t){for(var a=e.length,s=Ze(t.length,a),l=it(e);s--;){var d=t[s];e[s]=en(d,a)?l[d]:r}return e}function Is(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var fp=_p(Nu),za=T_||function(e,t){return Ge.setTimeout(e,t)},Es=_p(Ny);function gp(e,t,a){var s=t+"";return Es(e,im(s,gm(nm(s),a)))}function _p(e){var t=0,a=0;return function(){var s=D_(),l=Ue-(s-a);if(a=s,l>0){if(++t>=Te)return arguments[0]}else t=0;return e.apply(r,arguments)}}function Ur(e,t){var a=-1,s=e.length,l=s-1;for(t=t===r?s:t;++a<t;){var d=us(a,l),m=e[d];e[d]=e[a],e[a]=m}return e.length=t,e}var yp=um(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(yi,function(a,s,l,d){t.push(l?d.replace(Ci,"$1"):s||a)}),t});function Bt(e){if(typeof e=="string"||ht(e))return e;var t=e+"";return t=="0"&&1/e==-Ve?"-0":t}function zn(e){if(e!=null){try{return yr.call(e)}catch{}try{return e+""}catch{}}return""}function gm(e,t){return mt(fa,function(a){var s="_."+a[0];t&a[1]&&!dr(e,s)&&e.push(s)}),e.sort()}function mp(e){if(e instanceof he)return e.clone();var t=new bt(e.__wrapped__,e.__chain__);return t.__actions__=it(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function _m(e,t,a){(a?tt(e,t,a):t===r)?t=1:t=Me(oe(t),0);var s=e==null?0:e.length;if(!s||t<1)return[];for(var l=0,d=0,m=x(Cr(s/t));l<s;)m[d++]=St(e,l,l+=t);return m}function ym(e){for(var t=-1,a=e==null?0:e.length,s=0,l=[];++t<a;){var d=e[t];d&&(l[s++]=d)}return l}function mm(){var e=arguments.length;if(!e)return[];for(var t=x(e-1),a=arguments[0],s=e;s--;)t[s-1]=arguments[s];return yn(re(a)?it(a):[a],He(t,1))}var wm=pe(function(e,t){return ze(e)?xa(e,He(t,1,ze,!0)):[]}),bm=pe(function(e,t){var a=Pt(t);return ze(a)&&(a=r),ze(e)?xa(e,He(t,1,ze,!0),X(a,2)):[]}),vm=pe(function(e,t){var a=Pt(t);return ze(a)&&(a=r),ze(e)?xa(e,He(t,1,ze,!0),r,a):[]});function Sm(e,t,a){var s=e==null?0:e.length;return s?(t=a||t===r?1:oe(t),St(e,t<0?0:t,s)):[]}function Pm(e,t,a){var s=e==null?0:e.length;return s?(t=a||t===r?1:oe(t),t=s-t,St(e,0,t<0?0:t)):[]}function Cm(e,t){return e&&e.length?$r(e,X(t,3),!0,!0):[]}function km(e,t){return e&&e.length?$r(e,X(t,3),!0):[]}function Am(e,t,a,s){var l=e==null?0:e.length;return l?(a&&typeof a!="number"&&tt(e,t,a)&&(a=0,s=l),my(e,t,a,s)):[]}function wp(e,t,a){var s=e==null?0:e.length;if(!s)return-1;var l=a==null?0:oe(a);return l<0&&(l=Me(s+l,0)),hr(e,X(t,3),l)}function bp(e,t,a){var s=e==null?0:e.length;if(!s)return-1;var l=s-1;return a!==r&&(l=oe(a),l=a<0?Me(s+l,0):Ze(l,s-1)),hr(e,X(t,3),l,!0)}function vp(e){var t=e==null?0:e.length;return t?He(e,1):[]}function Im(e){var t=e==null?0:e.length;return t?He(e,Ve):[]}function Em(e,t){var a=e==null?0:e.length;return a?(t=t===r?1:oe(t),He(e,t)):[]}function Tm(e){for(var t=-1,a=e==null?0:e.length,s={};++t<a;){var l=e[t];s[l[0]]=l[1]}return s}function Sp(e){return e&&e.length?e[0]:r}function xm(e,t,a){var s=e==null?0:e.length;if(!s)return-1;var l=a==null?0:oe(a);return l<0&&(l=Me(s+l,0)),Yn(e,t,l)}function Rm(e){var t=e==null?0:e.length;return t?St(e,0,-1):[]}var Lm=pe(function(e){var t=Ee(e,gs);return t.length&&t[0]===e[0]?is(t):[]}),Dm=pe(function(e){var t=Pt(e),a=Ee(e,gs);return t===Pt(a)?t=r:a.pop(),a.length&&a[0]===e[0]?is(a,X(t,2)):[]}),$m=pe(function(e){var t=Pt(e),a=Ee(e,gs);return t=typeof t=="function"?t:r,t&&a.pop(),a.length&&a[0]===e[0]?is(a,r,t):[]});function Om(e,t){return e==null?"":R_.call(e,t)}function Pt(e){var t=e==null?0:e.length;return t?e[t-1]:r}function zm(e,t,a){var s=e==null?0:e.length;if(!s)return-1;var l=s;return a!==r&&(l=oe(a),l=l<0?Me(s+l,0):Ze(l,s-1)),t===t?g_(e,t,l):hr(e,nu,l,!0)}function Nm(e,t){return e&&e.length?Du(e,oe(t)):r}var Bm=pe(Pp);function Pp(e,t){return e&&e.length&&t&&t.length?cs(e,t):e}function Fm(e,t,a){return e&&e.length&&t&&t.length?cs(e,t,X(a,2)):e}function Mm(e,t,a){return e&&e.length&&t&&t.length?cs(e,t,r,a):e}var qm=Qt(function(e,t){var a=e==null?0:e.length,s=ts(e,t);return zu(e,Ee(t,function(l){return en(l,a)?+l:l}).sort(Vu)),s});function Um(e,t){var a=[];if(!(e&&e.length))return a;var s=-1,l=[],d=e.length;for(t=X(t,3);++s<d;){var m=e[s];t(m,s,e)&&(a.push(m),l.push(s))}return zu(e,l),a}function Ts(e){return e==null?e:O_.call(e)}function Wm(e,t,a){var s=e==null?0:e.length;return s?(a&&typeof a!="number"&&tt(e,t,a)?(t=0,a=s):(t=t==null?0:oe(t),a=a===r?s:oe(a)),St(e,t,a)):[]}function Gm(e,t){return Dr(e,t)}function Hm(e,t,a){return ds(e,t,X(a,2))}function Vm(e,t){var a=e==null?0:e.length;if(a){var s=Dr(e,t);if(s<a&&Rt(e[s],t))return s}return-1}function Km(e,t){return Dr(e,t,!0)}function Zm(e,t,a){return ds(e,t,X(a,2),!0)}function jm(e,t){var a=e==null?0:e.length;if(a){var s=Dr(e,t,!0)-1;if(Rt(e[s],t))return s}return-1}function Ym(e){return e&&e.length?Bu(e):[]}function Xm(e,t){return e&&e.length?Bu(e,X(t,2)):[]}function Jm(e){var t=e==null?0:e.length;return t?St(e,1,t):[]}function Qm(e,t,a){return e&&e.length?(t=a||t===r?1:oe(t),St(e,0,t<0?0:t)):[]}function ew(e,t,a){var s=e==null?0:e.length;return s?(t=a||t===r?1:oe(t),t=s-t,St(e,t<0?0:t,s)):[]}function tw(e,t){return e&&e.length?$r(e,X(t,3),!1,!0):[]}function nw(e,t){return e&&e.length?$r(e,X(t,3)):[]}var aw=pe(function(e){return vn(He(e,1,ze,!0))}),rw=pe(function(e){var t=Pt(e);return ze(t)&&(t=r),vn(He(e,1,ze,!0),X(t,2))}),iw=pe(function(e){var t=Pt(e);return t=typeof t=="function"?t:r,vn(He(e,1,ze,!0),r,t)});function sw(e){return e&&e.length?vn(e):[]}function ow(e,t){return e&&e.length?vn(e,X(t,2)):[]}function lw(e,t){return t=typeof t=="function"?t:r,e&&e.length?vn(e,r,t):[]}function xs(e){if(!(e&&e.length))return[];var t=0;return e=_n(e,function(a){if(ze(a))return t=Me(a.length,t),!0}),Ki(t,function(a){return Ee(e,Gi(a))})}function Cp(e,t){if(!(e&&e.length))return[];var a=xs(e);return t==null?a:Ee(a,function(s){return ut(t,r,s)})}var cw=pe(function(e,t){return ze(e)?xa(e,t):[]}),uw=pe(function(e){return fs(_n(e,ze))}),pw=pe(function(e){var t=Pt(e);return ze(t)&&(t=r),fs(_n(e,ze),X(t,2))}),dw=pe(function(e){var t=Pt(e);return t=typeof t=="function"?t:r,fs(_n(e,ze),r,t)}),hw=pe(xs);function fw(e,t){return Uu(e||[],t||[],Ta)}function gw(e,t){return Uu(e||[],t||[],Da)}var _w=pe(function(e){var t=e.length,a=t>1?e[t-1]:r;return a=typeof a=="function"?(e.pop(),a):r,Cp(e,a)});function kp(e){var t=u(e);return t.__chain__=!0,t}function yw(e,t){return t(e),e}function Wr(e,t){return t(e)}var mw=Qt(function(e){var t=e.length,a=t?e[0]:0,s=this.__wrapped__,l=function(d){return ts(d,e)};return t>1||this.__actions__.length||!(s instanceof he)||!en(a)?this.thru(l):(s=s.slice(a,+a+(t?1:0)),s.__actions__.push({func:Wr,args:[l],thisArg:r}),new bt(s,this.__chain__).thru(function(d){return t&&!d.length&&d.push(r),d}))});function ww(){return kp(this)}function bw(){return new bt(this.value(),this.__chain__)}function vw(){this.__values__===r&&(this.__values__=Fp(this.value()));var e=this.__index__>=this.__values__.length,t=e?r:this.__values__[this.__index__++];return{done:e,value:t}}function Sw(){return this}function Pw(e){for(var t,a=this;a instanceof Er;){var s=mp(a);s.__index__=0,s.__values__=r,t?l.__wrapped__=s:t=s;var l=s;a=a.__wrapped__}return l.__wrapped__=e,t}function Cw(){var e=this.__wrapped__;if(e instanceof he){var t=e;return this.__actions__.length&&(t=new he(this)),t=t.reverse(),t.__actions__.push({func:Wr,args:[Ts],thisArg:r}),new bt(t,this.__chain__)}return this.thru(Ts)}function kw(){return qu(this.__wrapped__,this.__actions__)}var Aw=Or(function(e,t,a){Se.call(e,a)?++e[a]:Xt(e,a,1)});function Iw(e,t,a){var s=re(e)?eu:yy;return a&&tt(e,t,a)&&(t=r),s(e,X(t,3))}function Ew(e,t){var a=re(e)?_n:Cu;return a(e,X(t,3))}var Tw=Ju(wp),xw=Ju(bp);function Rw(e,t){return He(Gr(e,t),1)}function Lw(e,t){return He(Gr(e,t),Ve)}function Dw(e,t,a){return a=a===r?1:oe(a),He(Gr(e,t),a)}function Ap(e,t){var a=re(e)?mt:bn;return a(e,X(t,3))}function Ip(e,t){var a=re(e)?Jg:Pu;return a(e,X(t,3))}var $w=Or(function(e,t,a){Se.call(e,a)?e[a].push(t):Xt(e,a,[t])});function Ow(e,t,a,s){e=st(e)?e:la(e),a=a&&!s?oe(a):0;var l=e.length;return a<0&&(a=Me(l+a,0)),jr(e)?a<=l&&e.indexOf(t,a)>-1:!!l&&Yn(e,t,a)>-1}var zw=pe(function(e,t,a){var s=-1,l=typeof t=="function",d=st(e)?x(e.length):[];return bn(e,function(m){d[++s]=l?ut(t,m,a):Ra(m,t,a)}),d}),Nw=Or(function(e,t,a){Xt(e,a,t)});function Gr(e,t){var a=re(e)?Ee:xu;return a(e,X(t,3))}function Bw(e,t,a,s){return e==null?[]:(re(t)||(t=t==null?[]:[t]),a=s?r:a,re(a)||(a=a==null?[]:[a]),$u(e,t,a))}var Fw=Or(function(e,t,a){e[a?0:1].push(t)},function(){return[[],[]]});function Mw(e,t,a){var s=re(e)?Ui:ru,l=arguments.length<3;return s(e,X(t,4),a,l,bn)}function qw(e,t,a){var s=re(e)?Qg:ru,l=arguments.length<3;return s(e,X(t,4),a,l,Pu)}function Uw(e,t){var a=re(e)?_n:Cu;return a(e,Kr(X(t,3)))}function Ww(e){var t=re(e)?wu:Oy;return t(e)}function Gw(e,t,a){(a?tt(e,t,a):t===r)?t=1:t=oe(t);var s=re(e)?dy:zy;return s(e,t)}function Hw(e){var t=re(e)?hy:By;return t(e)}function Vw(e){if(e==null)return 0;if(st(e))return jr(e)?Jn(e):e.length;var t=je(e);return t==Ye||t==Be?e.size:os(e).length}function Kw(e,t,a){var s=re(e)?Wi:Fy;return a&&tt(e,t,a)&&(t=r),s(e,X(t,3))}var Zw=pe(function(e,t){if(e==null)return[];var a=t.length;return a>1&&tt(e,t[0],t[1])?t=[]:a>2&&tt(t[0],t[1],t[2])&&(t=[t[0]]),$u(e,He(t,1),[])}),Hr=E_||function(){return Ge.Date.now()};function jw(e,t){if(typeof t!="function")throw new wt(_);return e=oe(e),function(){if(--e<1)return t.apply(this,arguments)}}function Ep(e,t,a){return t=a?r:t,t=e&&t==null?e.length:t,Jt(e,Y,r,r,r,r,t)}function Tp(e,t){var a;if(typeof t!="function")throw new wt(_);return e=oe(e),function(){return--e>0&&(a=t.apply(this,arguments)),e<=1&&(t=r),a}}var Rs=pe(function(e,t,a){var s=H;if(a.length){var l=mn(a,sa(Rs));s|=q}return Jt(e,s,t,a,l)}),xp=pe(function(e,t,a){var s=H|ne;if(a.length){var l=mn(a,sa(xp));s|=q}return Jt(t,s,e,a,l)});function Rp(e,t,a){t=a?r:t;var s=Jt(e,we,r,r,r,r,r,t);return s.placeholder=Rp.placeholder,s}function Lp(e,t,a){t=a?r:t;var s=Jt(e,ve,r,r,r,r,r,t);return s.placeholder=Lp.placeholder,s}function Dp(e,t,a){var s,l,d,m,P,I,D=0,$=!1,z=!1,W=!0;if(typeof e!="function")throw new wt(_);t=Ct(t)||0,xe(a)&&($=!!a.leading,z="maxWait"in a,d=z?Me(Ct(a.maxWait)||0,t):d,W="trailing"in a?!!a.trailing:W);function j(Ne){var Lt=s,an=l;return s=l=r,D=Ne,m=e.apply(an,Lt),m}function J(Ne){return D=Ne,P=za(de,t),$?j(Ne):m}function ce(Ne){var Lt=Ne-I,an=Ne-D,Jp=t-Lt;return z?Ze(Jp,d-an):Jp}function Q(Ne){var Lt=Ne-I,an=Ne-D;return I===r||Lt>=t||Lt<0||z&&an>=d}function de(){var Ne=Hr();if(Q(Ne))return ge(Ne);P=za(de,ce(Ne))}function ge(Ne){return P=r,W&&s?j(Ne):(s=l=r,m)}function ft(){P!==r&&Wu(P),D=0,s=I=l=P=r}function nt(){return P===r?m:ge(Hr())}function gt(){var Ne=Hr(),Lt=Q(Ne);if(s=arguments,l=this,I=Ne,Lt){if(P===r)return J(I);if(z)return Wu(P),P=za(de,t),j(I)}return P===r&&(P=za(de,t)),m}return gt.cancel=ft,gt.flush=nt,gt}var Yw=pe(function(e,t){return Su(e,1,t)}),Xw=pe(function(e,t,a){return Su(e,Ct(t)||0,a)});function Jw(e){return Jt(e,fe)}function Vr(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new wt(_);var a=function(){var s=arguments,l=t?t.apply(this,s):s[0],d=a.cache;if(d.has(l))return d.get(l);var m=e.apply(this,s);return a.cache=d.set(l,m)||d,m};return a.cache=new(Vr.Cache||Yt),a}Vr.Cache=Yt;function Kr(e){if(typeof e!="function")throw new wt(_);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Qw(e){return Tp(2,e)}var eb=My(function(e,t){t=t.length==1&&re(t[0])?Ee(t[0],pt(X())):Ee(He(t,1),pt(X()));var a=t.length;return pe(function(s){for(var l=-1,d=Ze(s.length,a);++l<d;)s[l]=t[l].call(this,s[l]);return ut(e,this,s)})}),Ls=pe(function(e,t){var a=mn(t,sa(Ls));return Jt(e,q,r,t,a)}),$p=pe(function(e,t){var a=mn(t,sa($p));return Jt(e,ee,r,t,a)}),tb=Qt(function(e,t){return Jt(e,ue,r,r,r,t)});function nb(e,t){if(typeof e!="function")throw new wt(_);return t=t===r?t:oe(t),pe(e,t)}function ab(e,t){if(typeof e!="function")throw new wt(_);return t=t==null?0:Me(oe(t),0),pe(function(a){var s=a[t],l=Pn(a,0,t);return s&&yn(l,s),ut(e,this,l)})}function rb(e,t,a){var s=!0,l=!0;if(typeof e!="function")throw new wt(_);return xe(a)&&(s="leading"in a?!!a.leading:s,l="trailing"in a?!!a.trailing:l),Dp(e,t,{leading:s,maxWait:t,trailing:l})}function ib(e){return Ep(e,1)}function sb(e,t){return Ls(_s(t),e)}function ob(){if(!arguments.length)return[];var e=arguments[0];return re(e)?e:[e]}function lb(e){return vt(e,B)}function cb(e,t){return t=typeof t=="function"?t:r,vt(e,B,t)}function ub(e){return vt(e,v|B)}function pb(e,t){return t=typeof t=="function"?t:r,vt(e,v|B,t)}function db(e,t){return t==null||vu(e,t,qe(t))}function Rt(e,t){return e===t||e!==e&&t!==t}var hb=Fr(rs),fb=Fr(function(e,t){return e>=t}),Nn=Iu((function(){return arguments})())?Iu:function(e){return $e(e)&&Se.call(e,"callee")&&!hu.call(e,"callee")},re=x.isArray,gb=Zc?pt(Zc):Py;function st(e){return e!=null&&Zr(e.length)&&!tn(e)}function ze(e){return $e(e)&&st(e)}function _b(e){return e===!0||e===!1||$e(e)&&et(e)==Wt}var Cn=x_||Ws,yb=jc?pt(jc):Cy;function mb(e){return $e(e)&&e.nodeType===1&&!Na(e)}function wb(e){if(e==null)return!0;if(st(e)&&(re(e)||typeof e=="string"||typeof e.splice=="function"||Cn(e)||oa(e)||Nn(e)))return!e.length;var t=je(e);if(t==Ye||t==Be)return!e.size;if(Oa(e))return!os(e).length;for(var a in e)if(Se.call(e,a))return!1;return!0}function bb(e,t){return La(e,t)}function vb(e,t,a){a=typeof a=="function"?a:r;var s=a?a(e,t):r;return s===r?La(e,t,r,a):!!s}function Ds(e){if(!$e(e))return!1;var t=et(e);return t==un||t==_a||typeof e.message=="string"&&typeof e.name=="string"&&!Na(e)}function Sb(e){return typeof e=="number"&&gu(e)}function tn(e){if(!xe(e))return!1;var t=et(e);return t==pn||t==Hn||t==ga||t==_t}function Op(e){return typeof e=="number"&&e==oe(e)}function Zr(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=at}function xe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function $e(e){return e!=null&&typeof e=="object"}var zp=Yc?pt(Yc):Ay;function Pb(e,t){return e===t||ss(e,t,Ps(t))}function Cb(e,t,a){return a=typeof a=="function"?a:r,ss(e,t,Ps(t),a)}function kb(e){return Np(e)&&e!=+e}function Ab(e){if(cm(e))throw new ae(h);return Eu(e)}function Ib(e){return e===null}function Eb(e){return e==null}function Np(e){return typeof e=="number"||$e(e)&&et(e)==se}function Na(e){if(!$e(e)||et(e)!=ie)return!1;var t=vr(e);if(t===null)return!0;var a=Se.call(t,"constructor")&&t.constructor;return typeof a=="function"&&a instanceof a&&yr.call(a)==C_}var $s=Xc?pt(Xc):Iy;function Tb(e){return Op(e)&&e>=-at&&e<=at}var Bp=Jc?pt(Jc):Ey;function jr(e){return typeof e=="string"||!re(e)&&$e(e)&&et(e)==We}function ht(e){return typeof e=="symbol"||$e(e)&&et(e)==De}var oa=Qc?pt(Qc):Ty;function xb(e){return e===r}function Rb(e){return $e(e)&&je(e)==ct}function Lb(e){return $e(e)&&et(e)==Vn}var Db=Fr(ls),$b=Fr(function(e,t){return e<=t});function Fp(e){if(!e)return[];if(st(e))return jr(e)?Tt(e):it(e);if(Ca&&e[Ca])return d_(e[Ca]());var t=je(e),a=t==Ye?ji:t==Be?fr:la;return a(e)}function nn(e){if(!e)return e===0?e:0;if(e=Ct(e),e===Ve||e===-Ve){var t=e<0?-1:1;return t*da}return e===e?e:0}function oe(e){var t=nn(e),a=t%1;return t===t?a?t-a:t:0}function Mp(e){return e?Dn(oe(e),0,Le):0}function Ct(e){if(typeof e=="number")return e;if(ht(e))return ln;if(xe(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=xe(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=iu(e);var a=Ii.test(e);return a||Ti.test(e)?jg(e.slice(2),a?2:8):Ai.test(e)?ln:+e}function qp(e){return Nt(e,ot(e))}function Ob(e){return e?Dn(oe(e),-at,at):e===0?e:0}function be(e){return e==null?"":dt(e)}var zb=ra(function(e,t){if(Oa(t)||st(t)){Nt(t,qe(t),e);return}for(var a in t)Se.call(t,a)&&Ta(e,a,t[a])}),Up=ra(function(e,t){Nt(t,ot(t),e)}),Yr=ra(function(e,t,a,s){Nt(t,ot(t),e,s)}),Nb=ra(function(e,t,a,s){Nt(t,qe(t),e,s)}),Bb=Qt(ts);function Fb(e,t){var a=aa(e);return t==null?a:bu(a,t)}var Mb=pe(function(e,t){e=Ce(e);var a=-1,s=t.length,l=s>2?t[2]:r;for(l&&tt(t[0],t[1],l)&&(s=1);++a<s;)for(var d=t[a],m=ot(d),P=-1,I=m.length;++P<I;){var D=m[P],$=e[D];($===r||Rt($,ea[D])&&!Se.call(e,D))&&(e[D]=d[D])}return e}),qb=pe(function(e){return e.push(r,ip),ut(Wp,r,e)});function Ub(e,t){return tu(e,X(t,3),zt)}function Wb(e,t){return tu(e,X(t,3),as)}function Gb(e,t){return e==null?e:ns(e,X(t,3),ot)}function Hb(e,t){return e==null?e:ku(e,X(t,3),ot)}function Vb(e,t){return e&&zt(e,X(t,3))}function Kb(e,t){return e&&as(e,X(t,3))}function Zb(e){return e==null?[]:Rr(e,qe(e))}function jb(e){return e==null?[]:Rr(e,ot(e))}function Os(e,t,a){var s=e==null?r:$n(e,t);return s===r?a:s}function Yb(e,t){return e!=null&&lp(e,t,wy)}function zs(e,t){return e!=null&&lp(e,t,by)}var Xb=ep(function(e,t,a){t!=null&&typeof t.toString!="function"&&(t=mr.call(t)),e[t]=a},Bs(lt)),Jb=ep(function(e,t,a){t!=null&&typeof t.toString!="function"&&(t=mr.call(t)),Se.call(e,t)?e[t].push(a):e[t]=[a]},X),Qb=pe(Ra);function qe(e){return st(e)?mu(e):os(e)}function ot(e){return st(e)?mu(e,!0):xy(e)}function ev(e,t){var a={};return t=X(t,3),zt(e,function(s,l,d){Xt(a,t(s,l,d),s)}),a}function tv(e,t){var a={};return t=X(t,3),zt(e,function(s,l,d){Xt(a,l,t(s,l,d))}),a}var nv=ra(function(e,t,a){Lr(e,t,a)}),Wp=ra(function(e,t,a,s){Lr(e,t,a,s)}),av=Qt(function(e,t){var a={};if(e==null)return a;var s=!1;t=Ee(t,function(d){return d=Sn(d,e),s||(s=d.length>1),d}),Nt(e,vs(e),a),s&&(a=vt(a,v|T|B,Xy));for(var l=t.length;l--;)hs(a,t[l]);return a});function rv(e,t){return Gp(e,Kr(X(t)))}var iv=Qt(function(e,t){return e==null?{}:Ly(e,t)});function Gp(e,t){if(e==null)return{};var a=Ee(vs(e),function(s){return[s]});return t=X(t),Ou(e,a,function(s,l){return t(s,l[0])})}function sv(e,t,a){t=Sn(t,e);var s=-1,l=t.length;for(l||(l=1,e=r);++s<l;){var d=e==null?r:e[Bt(t[s])];d===r&&(s=l,d=a),e=tn(d)?d.call(e):d}return e}function ov(e,t,a){return e==null?e:Da(e,t,a)}function lv(e,t,a,s){return s=typeof s=="function"?s:r,e==null?e:Da(e,t,a,s)}var Hp=ap(qe),Vp=ap(ot);function cv(e,t,a){var s=re(e),l=s||Cn(e)||oa(e);if(t=X(t,4),a==null){var d=e&&e.constructor;l?a=s?new d:[]:xe(e)?a=tn(d)?aa(vr(e)):{}:a={}}return(l?mt:zt)(e,function(m,P,I){return t(a,m,P,I)}),a}function uv(e,t){return e==null?!0:hs(e,t)}function pv(e,t,a){return e==null?e:Mu(e,t,_s(a))}function dv(e,t,a,s){return s=typeof s=="function"?s:r,e==null?e:Mu(e,t,_s(a),s)}function la(e){return e==null?[]:Zi(e,qe(e))}function hv(e){return e==null?[]:Zi(e,ot(e))}function fv(e,t,a){return a===r&&(a=t,t=r),a!==r&&(a=Ct(a),a=a===a?a:0),t!==r&&(t=Ct(t),t=t===t?t:0),Dn(Ct(e),t,a)}function gv(e,t,a){return t=nn(t),a===r?(a=t,t=0):a=nn(a),e=Ct(e),vy(e,t,a)}function _v(e,t,a){if(a&&typeof a!="boolean"&&tt(e,t,a)&&(t=a=r),a===r&&(typeof t=="boolean"?(a=t,t=r):typeof e=="boolean"&&(a=e,e=r)),e===r&&t===r?(e=0,t=1):(e=nn(e),t===r?(t=e,e=0):t=nn(t)),e>t){var s=e;e=t,t=s}if(a||e%1||t%1){var l=_u();return Ze(e+l*(t-e+Zg("1e-"+((l+"").length-1))),t)}return us(e,t)}var yv=ia(function(e,t,a){return t=t.toLowerCase(),e+(a?Kp(t):t)});function Kp(e){return Ns(be(e).toLowerCase())}function Zp(e){return e=be(e),e&&e.replace(Ri,o_).replace(Bg,"")}function mv(e,t,a){e=be(e),t=dt(t);var s=e.length;a=a===r?s:Dn(oe(a),0,s);var l=a;return a-=t.length,a>=0&&e.slice(a,l)==t}function wv(e){return e=be(e),e&&di.test(e)?e.replace(tr,l_):e}function bv(e){return e=be(e),e&&mi.test(e)?e.replace(wa,"\\$&"):e}var vv=ia(function(e,t,a){return e+(a?"-":"")+t.toLowerCase()}),Sv=ia(function(e,t,a){return e+(a?" ":"")+t.toLowerCase()}),Pv=Xu("toLowerCase");function Cv(e,t,a){e=be(e),t=oe(t);var s=t?Jn(e):0;if(!t||s>=t)return e;var l=(t-s)/2;return Br(kr(l),a)+e+Br(Cr(l),a)}function kv(e,t,a){e=be(e),t=oe(t);var s=t?Jn(e):0;return t&&s<t?e+Br(t-s,a):e}function Av(e,t,a){e=be(e),t=oe(t);var s=t?Jn(e):0;return t&&s<t?Br(t-s,a)+e:e}function Iv(e,t,a){return a||t==null?t=0:t&&(t=+t),$_(be(e).replace(ba,""),t||0)}function Ev(e,t,a){return(a?tt(e,t,a):t===r)?t=1:t=oe(t),ps(be(e),t)}function Tv(){var e=arguments,t=be(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var xv=ia(function(e,t,a){return e+(a?"_":"")+t.toLowerCase()});function Rv(e,t,a){return a&&typeof a!="number"&&tt(e,t,a)&&(t=a=r),a=a===r?Le:a>>>0,a?(e=be(e),e&&(typeof t=="string"||t!=null&&!$s(t))&&(t=dt(t),!t&&Xn(e))?Pn(Tt(e),0,a):e.split(t,a)):[]}var Lv=ia(function(e,t,a){return e+(a?" ":"")+Ns(t)});function Dv(e,t,a){return e=be(e),a=a==null?0:Dn(oe(a),0,e.length),t=dt(t),e.slice(a,a+t.length)==t}function $v(e,t,a){var s=u.templateSettings;a&&tt(e,t,a)&&(t=r),e=be(e),t=Yr({},t,s,rp);var l=Yr({},t.imports,s.imports,rp),d=qe(l),m=Zi(l,d),P,I,D=0,$=t.interpolate||Kn,z="__p += '",W=Yi((t.escape||Kn).source+"|"+$.source+"|"+($===ar?ki:Kn).source+"|"+(t.evaluate||Kn).source+"|$","g"),j="//# sourceURL="+(Se.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Wg+"]")+`
`;e.replace(W,function(Q,de,ge,ft,nt,gt){return ge||(ge=ft),z+=e.slice(D,gt).replace(sr,c_),de&&(P=!0,z+=`' +
__e(`+de+`) +
'`),nt&&(I=!0,z+=`';
`+nt+`;
__p += '`),ge&&(z+=`' +
((__t = (`+ge+`)) == null ? '' : __t) +
'`),D=gt+Q.length,Q}),z+=`';
`;var J=Se.call(t,"variable")&&t.variable;if(!J)z=`with (obj) {
`+z+`
}
`;else if(Pi.test(J))throw new ae(g);z=(I?z.replace(Qa,""):z).replace(pi,"$1").replace($t,"$1;"),z="function("+(J||"obj")+`) {
`+(J?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(P?", __e = _.escape":"")+(I?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+z+`return __p
}`;var ce=Yp(function(){return me(d,j+"return "+z).apply(r,m)});if(ce.source=z,Ds(ce))throw ce;return ce}function Ov(e){return be(e).toLowerCase()}function zv(e){return be(e).toUpperCase()}function Nv(e,t,a){if(e=be(e),e&&(a||t===r))return iu(e);if(!e||!(t=dt(t)))return e;var s=Tt(e),l=Tt(t),d=su(s,l),m=ou(s,l)+1;return Pn(s,d,m).join("")}function Bv(e,t,a){if(e=be(e),e&&(a||t===r))return e.slice(0,cu(e)+1);if(!e||!(t=dt(t)))return e;var s=Tt(e),l=ou(s,Tt(t))+1;return Pn(s,0,l).join("")}function Fv(e,t,a){if(e=be(e),e&&(a||t===r))return e.replace(ba,"");if(!e||!(t=dt(t)))return e;var s=Tt(e),l=su(s,Tt(t));return Pn(s,l).join("")}function Mv(e,t){var a=Oe,s=te;if(xe(t)){var l="separator"in t?t.separator:l;a="length"in t?oe(t.length):a,s="omission"in t?dt(t.omission):s}e=be(e);var d=e.length;if(Xn(e)){var m=Tt(e);d=m.length}if(a>=d)return e;var P=a-Jn(s);if(P<1)return s;var I=m?Pn(m,0,P).join(""):e.slice(0,P);if(l===r)return I+s;if(m&&(P+=I.length-P),$s(l)){if(e.slice(P).search(l)){var D,$=I;for(l.global||(l=Yi(l.source,be(ir.exec(l))+"g")),l.lastIndex=0;D=l.exec($);)var z=D.index;I=I.slice(0,z===r?P:z)}}else if(e.indexOf(dt(l),P)!=P){var W=I.lastIndexOf(l);W>-1&&(I=I.slice(0,W))}return I+s}function qv(e){return e=be(e),e&&nr.test(e)?e.replace(er,__):e}var Uv=ia(function(e,t,a){return e+(a?" ":"")+t.toUpperCase()}),Ns=Xu("toUpperCase");function jp(e,t,a){return e=be(e),t=a?r:t,t===r?p_(e)?w_(e):n_(e):e.match(t)||[]}var Yp=pe(function(e,t){try{return ut(e,r,t)}catch(a){return Ds(a)?a:new ae(a)}}),Wv=Qt(function(e,t){return mt(t,function(a){a=Bt(a),Xt(e,a,Rs(e[a],e))}),e});function Gv(e){var t=e==null?0:e.length,a=X();return e=t?Ee(e,function(s){if(typeof s[1]!="function")throw new wt(_);return[a(s[0]),s[1]]}):[],pe(function(s){for(var l=-1;++l<t;){var d=e[l];if(ut(d[0],this,s))return ut(d[1],this,s)}})}function Hv(e){return _y(vt(e,v))}function Bs(e){return function(){return e}}function Vv(e,t){return e==null||e!==e?t:e}var Kv=Qu(),Zv=Qu(!0);function lt(e){return e}function Fs(e){return Tu(typeof e=="function"?e:vt(e,v))}function jv(e){return Ru(vt(e,v))}function Yv(e,t){return Lu(e,vt(t,v))}var Xv=pe(function(e,t){return function(a){return Ra(a,e,t)}}),Jv=pe(function(e,t){return function(a){return Ra(e,a,t)}});function Ms(e,t,a){var s=qe(t),l=Rr(t,s);a==null&&!(xe(t)&&(l.length||!s.length))&&(a=t,t=e,e=this,l=Rr(t,qe(t)));var d=!(xe(a)&&"chain"in a)||!!a.chain,m=tn(e);return mt(l,function(P){var I=t[P];e[P]=I,m&&(e.prototype[P]=function(){var D=this.__chain__;if(d||D){var $=e(this.__wrapped__),z=$.__actions__=it(this.__actions__);return z.push({func:I,args:arguments,thisArg:e}),$.__chain__=D,$}return I.apply(e,yn([this.value()],arguments))})}),e}function Qv(){return Ge._===this&&(Ge._=k_),this}function qs(){}function eS(e){return e=oe(e),pe(function(t){return Du(t,e)})}var tS=ms(Ee),nS=ms(eu),aS=ms(Wi);function Xp(e){return ks(e)?Gi(Bt(e)):Dy(e)}function rS(e){return function(t){return e==null?r:$n(e,t)}}var iS=tp(),sS=tp(!0);function Us(){return[]}function Ws(){return!1}function oS(){return{}}function lS(){return""}function cS(){return!0}function uS(e,t){if(e=oe(e),e<1||e>at)return[];var a=Le,s=Ze(e,Le);t=X(t),e-=Le;for(var l=Ki(s,t);++a<e;)t(a);return l}function pS(e){return re(e)?Ee(e,Bt):ht(e)?[e]:it(yp(be(e)))}function dS(e){var t=++P_;return be(e)+t}var hS=Nr(function(e,t){return e+t},0),fS=ws("ceil"),gS=Nr(function(e,t){return e/t},1),_S=ws("floor");function yS(e){return e&&e.length?xr(e,lt,rs):r}function mS(e,t){return e&&e.length?xr(e,X(t,2),rs):r}function wS(e){return au(e,lt)}function bS(e,t){return au(e,X(t,2))}function vS(e){return e&&e.length?xr(e,lt,ls):r}function SS(e,t){return e&&e.length?xr(e,X(t,2),ls):r}var PS=Nr(function(e,t){return e*t},1),CS=ws("round"),kS=Nr(function(e,t){return e-t},0);function AS(e){return e&&e.length?Vi(e,lt):0}function IS(e,t){return e&&e.length?Vi(e,X(t,2)):0}return u.after=jw,u.ary=Ep,u.assign=zb,u.assignIn=Up,u.assignInWith=Yr,u.assignWith=Nb,u.at=Bb,u.before=Tp,u.bind=Rs,u.bindAll=Wv,u.bindKey=xp,u.castArray=ob,u.chain=kp,u.chunk=_m,u.compact=ym,u.concat=mm,u.cond=Gv,u.conforms=Hv,u.constant=Bs,u.countBy=Aw,u.create=Fb,u.curry=Rp,u.curryRight=Lp,u.debounce=Dp,u.defaults=Mb,u.defaultsDeep=qb,u.defer=Yw,u.delay=Xw,u.difference=wm,u.differenceBy=bm,u.differenceWith=vm,u.drop=Sm,u.dropRight=Pm,u.dropRightWhile=Cm,u.dropWhile=km,u.fill=Am,u.filter=Ew,u.flatMap=Rw,u.flatMapDeep=Lw,u.flatMapDepth=Dw,u.flatten=vp,u.flattenDeep=Im,u.flattenDepth=Em,u.flip=Jw,u.flow=Kv,u.flowRight=Zv,u.fromPairs=Tm,u.functions=Zb,u.functionsIn=jb,u.groupBy=$w,u.initial=Rm,u.intersection=Lm,u.intersectionBy=Dm,u.intersectionWith=$m,u.invert=Xb,u.invertBy=Jb,u.invokeMap=zw,u.iteratee=Fs,u.keyBy=Nw,u.keys=qe,u.keysIn=ot,u.map=Gr,u.mapKeys=ev,u.mapValues=tv,u.matches=jv,u.matchesProperty=Yv,u.memoize=Vr,u.merge=nv,u.mergeWith=Wp,u.method=Xv,u.methodOf=Jv,u.mixin=Ms,u.negate=Kr,u.nthArg=eS,u.omit=av,u.omitBy=rv,u.once=Qw,u.orderBy=Bw,u.over=tS,u.overArgs=eb,u.overEvery=nS,u.overSome=aS,u.partial=Ls,u.partialRight=$p,u.partition=Fw,u.pick=iv,u.pickBy=Gp,u.property=Xp,u.propertyOf=rS,u.pull=Bm,u.pullAll=Pp,u.pullAllBy=Fm,u.pullAllWith=Mm,u.pullAt=qm,u.range=iS,u.rangeRight=sS,u.rearg=tb,u.reject=Uw,u.remove=Um,u.rest=nb,u.reverse=Ts,u.sampleSize=Gw,u.set=ov,u.setWith=lv,u.shuffle=Hw,u.slice=Wm,u.sortBy=Zw,u.sortedUniq=Ym,u.sortedUniqBy=Xm,u.split=Rv,u.spread=ab,u.tail=Jm,u.take=Qm,u.takeRight=ew,u.takeRightWhile=tw,u.takeWhile=nw,u.tap=yw,u.throttle=rb,u.thru=Wr,u.toArray=Fp,u.toPairs=Hp,u.toPairsIn=Vp,u.toPath=pS,u.toPlainObject=qp,u.transform=cv,u.unary=ib,u.union=aw,u.unionBy=rw,u.unionWith=iw,u.uniq=sw,u.uniqBy=ow,u.uniqWith=lw,u.unset=uv,u.unzip=xs,u.unzipWith=Cp,u.update=pv,u.updateWith=dv,u.values=la,u.valuesIn=hv,u.without=cw,u.words=jp,u.wrap=sb,u.xor=uw,u.xorBy=pw,u.xorWith=dw,u.zip=hw,u.zipObject=fw,u.zipObjectDeep=gw,u.zipWith=_w,u.entries=Hp,u.entriesIn=Vp,u.extend=Up,u.extendWith=Yr,Ms(u,u),u.add=hS,u.attempt=Yp,u.camelCase=yv,u.capitalize=Kp,u.ceil=fS,u.clamp=fv,u.clone=lb,u.cloneDeep=ub,u.cloneDeepWith=pb,u.cloneWith=cb,u.conformsTo=db,u.deburr=Zp,u.defaultTo=Vv,u.divide=gS,u.endsWith=mv,u.eq=Rt,u.escape=wv,u.escapeRegExp=bv,u.every=Iw,u.find=Tw,u.findIndex=wp,u.findKey=Ub,u.findLast=xw,u.findLastIndex=bp,u.findLastKey=Wb,u.floor=_S,u.forEach=Ap,u.forEachRight=Ip,u.forIn=Gb,u.forInRight=Hb,u.forOwn=Vb,u.forOwnRight=Kb,u.get=Os,u.gt=hb,u.gte=fb,u.has=Yb,u.hasIn=zs,u.head=Sp,u.identity=lt,u.includes=Ow,u.indexOf=xm,u.inRange=gv,u.invoke=Qb,u.isArguments=Nn,u.isArray=re,u.isArrayBuffer=gb,u.isArrayLike=st,u.isArrayLikeObject=ze,u.isBoolean=_b,u.isBuffer=Cn,u.isDate=yb,u.isElement=mb,u.isEmpty=wb,u.isEqual=bb,u.isEqualWith=vb,u.isError=Ds,u.isFinite=Sb,u.isFunction=tn,u.isInteger=Op,u.isLength=Zr,u.isMap=zp,u.isMatch=Pb,u.isMatchWith=Cb,u.isNaN=kb,u.isNative=Ab,u.isNil=Eb,u.isNull=Ib,u.isNumber=Np,u.isObject=xe,u.isObjectLike=$e,u.isPlainObject=Na,u.isRegExp=$s,u.isSafeInteger=Tb,u.isSet=Bp,u.isString=jr,u.isSymbol=ht,u.isTypedArray=oa,u.isUndefined=xb,u.isWeakMap=Rb,u.isWeakSet=Lb,u.join=Om,u.kebabCase=vv,u.last=Pt,u.lastIndexOf=zm,u.lowerCase=Sv,u.lowerFirst=Pv,u.lt=Db,u.lte=$b,u.max=yS,u.maxBy=mS,u.mean=wS,u.meanBy=bS,u.min=vS,u.minBy=SS,u.stubArray=Us,u.stubFalse=Ws,u.stubObject=oS,u.stubString=lS,u.stubTrue=cS,u.multiply=PS,u.nth=Nm,u.noConflict=Qv,u.noop=qs,u.now=Hr,u.pad=Cv,u.padEnd=kv,u.padStart=Av,u.parseInt=Iv,u.random=_v,u.reduce=Mw,u.reduceRight=qw,u.repeat=Ev,u.replace=Tv,u.result=sv,u.round=CS,u.runInContext=A,u.sample=Ww,u.size=Vw,u.snakeCase=xv,u.some=Kw,u.sortedIndex=Gm,u.sortedIndexBy=Hm,u.sortedIndexOf=Vm,u.sortedLastIndex=Km,u.sortedLastIndexBy=Zm,u.sortedLastIndexOf=jm,u.startCase=Lv,u.startsWith=Dv,u.subtract=kS,u.sum=AS,u.sumBy=IS,u.template=$v,u.times=uS,u.toFinite=nn,u.toInteger=oe,u.toLength=Mp,u.toLower=Ov,u.toNumber=Ct,u.toSafeInteger=Ob,u.toString=be,u.toUpper=zv,u.trim=Nv,u.trimEnd=Bv,u.trimStart=Fv,u.truncate=Mv,u.unescape=qv,u.uniqueId=dS,u.upperCase=Uv,u.upperFirst=Ns,u.each=Ap,u.eachRight=Ip,u.first=Sp,Ms(u,(function(){var e={};return zt(u,function(t,a){Se.call(u.prototype,a)||(e[a]=t)}),e})(),{chain:!1}),u.VERSION=o,mt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){u[e].placeholder=u}),mt(["drop","take"],function(e,t){he.prototype[e]=function(a){a=a===r?1:Me(oe(a),0);var s=this.__filtered__&&!t?new he(this):this.clone();return s.__filtered__?s.__takeCount__=Ze(a,s.__takeCount__):s.__views__.push({size:Ze(a,Le),type:e+(s.__dir__<0?"Right":"")}),s},he.prototype[e+"Right"]=function(a){return this.reverse()[e](a).reverse()}}),mt(["filter","map","takeWhile"],function(e,t){var a=t+1,s=a==At||a==An;he.prototype[e]=function(l){var d=this.clone();return d.__iteratees__.push({iteratee:X(l,3),type:a}),d.__filtered__=d.__filtered__||s,d}}),mt(["head","last"],function(e,t){var a="take"+(t?"Right":"");he.prototype[e]=function(){return this[a](1).value()[0]}}),mt(["initial","tail"],function(e,t){var a="drop"+(t?"":"Right");he.prototype[e]=function(){return this.__filtered__?new he(this):this[a](1)}}),he.prototype.compact=function(){return this.filter(lt)},he.prototype.find=function(e){return this.filter(e).head()},he.prototype.findLast=function(e){return this.reverse().find(e)},he.prototype.invokeMap=pe(function(e,t){return typeof e=="function"?new he(this):this.map(function(a){return Ra(a,e,t)})}),he.prototype.reject=function(e){return this.filter(Kr(X(e)))},he.prototype.slice=function(e,t){e=oe(e);var a=this;return a.__filtered__&&(e>0||t<0)?new he(a):(e<0?a=a.takeRight(-e):e&&(a=a.drop(e)),t!==r&&(t=oe(t),a=t<0?a.dropRight(-t):a.take(t-e)),a)},he.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},he.prototype.toArray=function(){return this.take(Le)},zt(he.prototype,function(e,t){var a=/^(?:filter|find|map|reject)|While$/.test(t),s=/^(?:head|last)$/.test(t),l=u[s?"take"+(t=="last"?"Right":""):t],d=s||/^find/.test(t);l&&(u.prototype[t]=function(){var m=this.__wrapped__,P=s?[1]:arguments,I=m instanceof he,D=P[0],$=I||re(m),z=function(de){var ge=l.apply(u,yn([de],P));return s&&W?ge[0]:ge};$&&a&&typeof D=="function"&&D.length!=1&&(I=$=!1);var W=this.__chain__,j=!!this.__actions__.length,J=d&&!W,ce=I&&!j;if(!d&&$){m=ce?m:new he(this);var Q=e.apply(m,P);return Q.__actions__.push({func:Wr,args:[z],thisArg:r}),new bt(Q,W)}return J&&ce?e.apply(this,P):(Q=this.thru(z),J?s?Q.value()[0]:Q.value():Q)})}),mt(["pop","push","shift","sort","splice","unshift"],function(e){var t=gr[e],a=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",s=/^(?:pop|shift)$/.test(e);u.prototype[e]=function(){var l=arguments;if(s&&!this.__chain__){var d=this.value();return t.apply(re(d)?d:[],l)}return this[a](function(m){return t.apply(re(m)?m:[],l)})}}),zt(he.prototype,function(e,t){var a=u[t];if(a){var s=a.name+"";Se.call(na,s)||(na[s]=[]),na[s].push({name:t,func:a})}}),na[zr(r,ne).name]=[{name:"wrapper",func:r}],he.prototype.clone=q_,he.prototype.reverse=U_,he.prototype.value=W_,u.prototype.at=mw,u.prototype.chain=ww,u.prototype.commit=bw,u.prototype.next=vw,u.prototype.plant=Pw,u.prototype.reverse=Cw,u.prototype.toJSON=u.prototype.valueOf=u.prototype.value=kw,u.prototype.first=u.prototype.head,Ca&&(u.prototype[Ca]=Sw),u}),Qn=b_();Tn?((Tn.exports=Qn)._=Qn,Fi._=Qn):Ge._=Qn}).call(EC)})(Va,Va.exports)),Va.exports}var Xr=TC();const xC=()=>({name:"handle-error",serialize:()=>{},deserialize:({value:n})=>{if(Ja("__MissingPrivilegesError__",n))return new Wn(n.__messageType__,n.__data__)}}),RC=[vC,AC,kC,IP,IC,xC];function fg(n){const i=RC.map(g=>g(n));function r(){return i}function o(g){var w;return(w=i.find(b=>b.name===g))!==null&&w!==void 0?w:null}function c(g,w=new Map,b="root"){return Xr.cloneDeepWith(g,(y,v,T,B)=>{let K=b+"."+v;if(kP(y))return y;if(w.has(y))return{__$CR__:w.get(y)};w.set(y,K);for(const O of i){const H=O.serialize({value:y,key:v,object:T,stack:B,customizerMethod:c,seen:w,path:K});if(H)return H}})}function h(g,w){const b=_(g,w);return $c(b,(y,v,T,B)=>{if(v!=="__$CR__")return;const K=uh(T),O=uh(B);Xr.set(b,O,Xr.get(b,K))}),b}function _(g,w){return Xr.cloneDeepWith(g,(b,y,v,T)=>{for(const B of i){const K=B.deserialize({value:b,key:y,object:v,stack:T,event:w,customizerMethod:_});if(K)return K}})}return{getSerializers:r,getSerializerByName:o,serialize:c,deserialize:h}}function LC(n,i){if(typeof i=="string")return new Ha(i);if(!(i instanceof Error))return new Ha("An unknown error occurred.");if(CP(i,"response.data.errors.0.code")&&i.response.data.errors.length){const r=i.response.data.errors.filter(c=>c.code==="FRAMEWORK__MISSING_PRIVILEGE_ERROR"),o=[];return r.forEach(c=>{const h=JSON.parse(c.detail);o.push(...h.missingPrivileges)}),o.length?new Wn(n,o):new Ha(i.response.data.errors[0].code,i.response.data.errors[0].status)}return new Ha(i.message)}function Tc({serializedData:n,origin:i,type:r,privilegesToCheck:o=[]}){if(i===void 0)return null;const c=tg(i);if(!c)return console.warn(`No extension found for origin "${i}"`),null;const h=[];return $c(n,(_,g,w)=>{if(g==="__type__"&&["__EntityCollection__","__Entity__"].includes(w)){const b=_.__entityName__;if(!b)return;[...o].sort().forEach(y=>{const v=c.permissions[y];(!v||!v.includes(b))&&!h.includes(`${y}:${b}`)&&!(v!=null&&v.includes("*"))&&h.push(`${y}:${b}`)})}}),h.length>0?new Wn(r,h):null}function DC(n,i,r="datasetSubscribe",o=""){if(!i)return n;const c={},h=tg(o??""),_=[];return i.forEach(g=>{xc(n,g,h,_,o,r,c)}),h?_.length?new Wn(r,_):c:(console.warn(`No extension found for origin "${o}"`),c)}function xc(n,i,r,o,c,h,_={}){var g,w,b;const y=i.split(".");let v=_,T=n;for(let B=0;B<y.length;B++){const K=/\[\d*\]/,O=y[B],H=y[B+1];if(H&&(H==="*"||H.match(K))){if(!y[B+2]){Jr(T,r,o),Jr(T==null?void 0:T[O],r,o),v[O]=T==null?void 0:T[O];break}v[O]=(g=v[O])!==null&&g!==void 0?g:[],T=T==null?void 0:T[O],v=v[O];continue}if(Array.isArray(T)&&H){const ne=y.slice(B+1).join(".");if(O==="*"){for(let Z=0;Z<T.length;Z++)xc(T[Z],ne,r,o,c,h,(w=v[Z])!==null&&w!==void 0?w:v);break}if(O.match(K)){const Z=$C(O);xc(T[Z],ne,r,o,c,h,(b=v[Z])!==null&&b!==void 0?b:v);break}}if(B===y.length-1){if(Jr(T,r,o),Jr(T==null?void 0:T[O],r,o),Array.isArray(v)){v.push({[O]:T==null?void 0:T[O]});break}v[O]=T==null?void 0:T[O];break}v[O]={},T=T==null?void 0:T[O],v=v[O]}return _}function Jr(n,i,r){if(!n)return;const o=["read"];let c="";n.__identifier__&&n.__identifier__()==="Entity"&&(c=n.getEntityName()),n.__identifier__&&n.__identifier__()==="EntityCollection"&&(c=n.entity),c&&o.forEach(h=>{var _;const g=(_=i==null?void 0:i.permissions)===null||_===void 0?void 0:_[h];(!g||!g.includes(c))&&!r.includes(`${h}:${c}`)&&!(g!=null&&g.includes("*"))&&r.push(`${h}:${c}`)})}function $C(n){return Number.parseInt(n.replace("[","").replace("]",""))}const OC="6.4.0",zC={version:OC},NC=zC.version;var gg=function(n,i,r,o){function c(h){return h instanceof r?h:new r(function(_){_(h)})}return new(r||(r=Promise))(function(h,_){function g(y){try{b(o.next(y))}catch(v){_(v)}}function w(y){try{b(o.throw(y))}catch(v){_(v)}}function b(y){y.done?h(y.value):c(y.value).then(g,w)}b((o=o.apply(n,i||[])).next())})};const BC=NC,{serialize:Ka,deserialize:_g}=fg({handle:ai,send:Za}),FC={},yg=new Set,mg=new Set;function Za(n,i,r,o){const c=eg();let g=Ka({_type:n,_data:i??{},_callbackId:c});if(o){const v=Tc({serializedData:g,origin:o,privilegesToCheck:["read"],type:n});v&&(["datasetSubscribe","datasetUpdate","datasetRegistration","datasetGet"].includes(g._type)?g=Ka({_type:g._type,_callbackId:g._callbackId,_data:{id:g._data.id,data:v}}):g=Ka({_type:g._type,_callbackId:g._callbackId,_data:v}))}const w=JSON.stringify(g);let b=!1;const y=7e3;return new Promise((v,T)=>{const B=function(H){if(typeof H.data!="string"||H.data.indexOf(`"_callbackId":"${c}"`)===-1)return;let ne;try{ne=JSON.parse(H.data)}catch{return}if(!qC(ne)||!ne.hasOwnProperty("_response"))return;const Z=_g(ne,H);if(window.removeEventListener("message",B),!b){b=!0;const we=Z._response;if(we instanceof Error){T(we);return}v(we)}};window.addEventListener("message",B);let K=!0;try{K=!window.parent.origin}catch{}let O=K?document.referrer:window.parent.origin;o&&(O=o),r?r.postMessage(w,O):window.parent.postMessage(w,O),setTimeout(()=>{b||T("Send timeout expired. It could be possible that no handler for the postMessage request exists or that the handler freezed.")},y)})}function ai(n,i){const r=function(o){var c;return gg(this,void 0,void 0,function*(){if(typeof o.data!="string"||o.data.indexOf(`"_type":"${n}"`)===-1)return;let h;try{h=JSON.parse(o.data)}catch{return}if(!MC(h))return;const _=_g(h,o),g=yield Promise.resolve((()=>{if(!["datasetSubscribe","datasetGet","datasetUpdate","_collectionTest"].includes(n))return i(_._data,{_event_:o});const T=Tc({serializedData:h,origin:o.origin,type:n,privilegesToCheck:["create","delete","update","read"]});return T||i(_._data,{_event_:o})})()).catch(v=>LC(n,v)),w={_callbackId:_._callbackId,_type:_._type,_response:g??null},b=(()=>{let v=Ka(w);if(!["datasetSubscribe","datasetGet","_collectionTest"].includes(n))return v;const B=Tc({serializedData:v,origin:o.origin,privilegesToCheck:["read"],type:n});return B&&(v._response=B,v=Ka(v)),v})(),y=JSON.stringify(b);o.source?o.source.postMessage(y,{targetOrigin:(c=o.origin)!==null&&c!==void 0?c:"*"}):window.postMessage(y,window.origin)})};return window.addEventListener("message",r),()=>window.removeEventListener("message",r)}function wg(n,i){return r=>Za(n,Object.assign(Object.assign({},i),r))}const bg=new Map;gg(void 0,void 0,void 0,function*(){ai("__registerWindow__",({sdkVersion:n},i)=>{let r,o;i._event_.source?(r=i._event_.source,o=i._event_.origin):(r=window,o=window.origin),yg.add({source:r,origin:o,sdkVersion:n})}),ai("datasetSubscribeRegistration",(n,{_event_:i})=>{let r,o;i.source?(r=i.source,o=i.origin):(r=window,o=window.origin),mg.add({id:n.id,source:r,origin:o,selectors:n.selectors});const c=bg.get(n.id);if(c){const h=DC(c,n.selectors,"datasetSubscribe",o);if(h instanceof Wn){console.error(h);return}Za("datasetSubscribe",{id:n.id,data:h,selectors:n.selectors},r,o)}}),yield Za("__registerWindow__",{sdkVersion:BC})}).catch(n=>console.error(n));window._swsdk={sourceRegistry:yg,subscriberRegistry:mg,datasets:bg,adminExtensions:FC};function MC(n){const i=n;return!!i._type&&!!i._data&&!!i._callbackId}function qC(n){const i=n;return!!i._type&&!!i.hasOwnProperty("_response")&&!!i._callbackId}var tc,Cf;function vg(){if(Cf)return tc;Cf=1;var n={};return tc=typeof process=="object"&&n&&n.NODE_DEBUG&&/\bsemver\b/i.test(n.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{},tc}var nc,kf;function Sg(){if(kf)return nc;kf=1;const n="2.0.0",i=256,r=Number.MAX_SAFE_INTEGER||9007199254740991,o=16,c=i-6;return nc={MAX_LENGTH:i,MAX_SAFE_COMPONENT_LENGTH:o,MAX_SAFE_BUILD_LENGTH:c,MAX_SAFE_INTEGER:r,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:n,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},nc}var Qr={exports:{}},Af;function UC(){return Af||(Af=1,(function(n,i){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:o,MAX_LENGTH:c}=Sg(),h=vg();i=n.exports={};const _=i.re=[],g=i.safeRe=[],w=i.src=[],b=i.safeSrc=[],y=i.t={};let v=0;const T="[a-zA-Z0-9-]",B=[["\\s",1],["\\d",c],[T,o]],K=H=>{for(const[ne,Z]of B)H=H.split(`${ne}*`).join(`${ne}{0,${Z}}`).split(`${ne}+`).join(`${ne}{1,${Z}}`);return H},O=(H,ne,Z)=>{const we=K(ne),ve=v++;h(H,ve,ne),y[H]=ve,w[ve]=ne,b[ve]=we,_[ve]=new RegExp(ne,Z?"g":void 0),g[ve]=new RegExp(we,Z?"g":void 0)};O("NUMERICIDENTIFIER","0|[1-9]\\d*"),O("NUMERICIDENTIFIERLOOSE","\\d+"),O("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${T}*`),O("MAINVERSION",`(${w[y.NUMERICIDENTIFIER]})\\.(${w[y.NUMERICIDENTIFIER]})\\.(${w[y.NUMERICIDENTIFIER]})`),O("MAINVERSIONLOOSE",`(${w[y.NUMERICIDENTIFIERLOOSE]})\\.(${w[y.NUMERICIDENTIFIERLOOSE]})\\.(${w[y.NUMERICIDENTIFIERLOOSE]})`),O("PRERELEASEIDENTIFIER",`(?:${w[y.NONNUMERICIDENTIFIER]}|${w[y.NUMERICIDENTIFIER]})`),O("PRERELEASEIDENTIFIERLOOSE",`(?:${w[y.NONNUMERICIDENTIFIER]}|${w[y.NUMERICIDENTIFIERLOOSE]})`),O("PRERELEASE",`(?:-(${w[y.PRERELEASEIDENTIFIER]}(?:\\.${w[y.PRERELEASEIDENTIFIER]})*))`),O("PRERELEASELOOSE",`(?:-?(${w[y.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${w[y.PRERELEASEIDENTIFIERLOOSE]})*))`),O("BUILDIDENTIFIER",`${T}+`),O("BUILD",`(?:\\+(${w[y.BUILDIDENTIFIER]}(?:\\.${w[y.BUILDIDENTIFIER]})*))`),O("FULLPLAIN",`v?${w[y.MAINVERSION]}${w[y.PRERELEASE]}?${w[y.BUILD]}?`),O("FULL",`^${w[y.FULLPLAIN]}$`),O("LOOSEPLAIN",`[v=\\s]*${w[y.MAINVERSIONLOOSE]}${w[y.PRERELEASELOOSE]}?${w[y.BUILD]}?`),O("LOOSE",`^${w[y.LOOSEPLAIN]}$`),O("GTLT","((?:<|>)?=?)"),O("XRANGEIDENTIFIERLOOSE",`${w[y.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),O("XRANGEIDENTIFIER",`${w[y.NUMERICIDENTIFIER]}|x|X|\\*`),O("XRANGEPLAIN",`[v=\\s]*(${w[y.XRANGEIDENTIFIER]})(?:\\.(${w[y.XRANGEIDENTIFIER]})(?:\\.(${w[y.XRANGEIDENTIFIER]})(?:${w[y.PRERELEASE]})?${w[y.BUILD]}?)?)?`),O("XRANGEPLAINLOOSE",`[v=\\s]*(${w[y.XRANGEIDENTIFIERLOOSE]})(?:\\.(${w[y.XRANGEIDENTIFIERLOOSE]})(?:\\.(${w[y.XRANGEIDENTIFIERLOOSE]})(?:${w[y.PRERELEASELOOSE]})?${w[y.BUILD]}?)?)?`),O("XRANGE",`^${w[y.GTLT]}\\s*${w[y.XRANGEPLAIN]}$`),O("XRANGELOOSE",`^${w[y.GTLT]}\\s*${w[y.XRANGEPLAINLOOSE]}$`),O("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),O("COERCE",`${w[y.COERCEPLAIN]}(?:$|[^\\d])`),O("COERCEFULL",w[y.COERCEPLAIN]+`(?:${w[y.PRERELEASE]})?(?:${w[y.BUILD]})?(?:$|[^\\d])`),O("COERCERTL",w[y.COERCE],!0),O("COERCERTLFULL",w[y.COERCEFULL],!0),O("LONETILDE","(?:~>?)"),O("TILDETRIM",`(\\s*)${w[y.LONETILDE]}\\s+`,!0),i.tildeTrimReplace="$1~",O("TILDE",`^${w[y.LONETILDE]}${w[y.XRANGEPLAIN]}$`),O("TILDELOOSE",`^${w[y.LONETILDE]}${w[y.XRANGEPLAINLOOSE]}$`),O("LONECARET","(?:\\^)"),O("CARETTRIM",`(\\s*)${w[y.LONECARET]}\\s+`,!0),i.caretTrimReplace="$1^",O("CARET",`^${w[y.LONECARET]}${w[y.XRANGEPLAIN]}$`),O("CARETLOOSE",`^${w[y.LONECARET]}${w[y.XRANGEPLAINLOOSE]}$`),O("COMPARATORLOOSE",`^${w[y.GTLT]}\\s*(${w[y.LOOSEPLAIN]})$|^$`),O("COMPARATOR",`^${w[y.GTLT]}\\s*(${w[y.FULLPLAIN]})$|^$`),O("COMPARATORTRIM",`(\\s*)${w[y.GTLT]}\\s*(${w[y.LOOSEPLAIN]}|${w[y.XRANGEPLAIN]})`,!0),i.comparatorTrimReplace="$1$2$3",O("HYPHENRANGE",`^\\s*(${w[y.XRANGEPLAIN]})\\s+-\\s+(${w[y.XRANGEPLAIN]})\\s*$`),O("HYPHENRANGELOOSE",`^\\s*(${w[y.XRANGEPLAINLOOSE]})\\s+-\\s+(${w[y.XRANGEPLAINLOOSE]})\\s*$`),O("STAR","(<|>)?=?\\s*\\*"),O("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),O("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Qr,Qr.exports)),Qr.exports}var ac,If;function WC(){if(If)return ac;If=1;const n=Object.freeze({loose:!0}),i=Object.freeze({});return ac=o=>o?typeof o!="object"?n:o:i,ac}var rc,Ef;function GC(){if(Ef)return rc;Ef=1;const n=/^[0-9]+$/,i=(o,c)=>{const h=n.test(o),_=n.test(c);return h&&_&&(o=+o,c=+c),o===c?0:h&&!_?-1:_&&!h?1:o<c?-1:1};return rc={compareIdentifiers:i,rcompareIdentifiers:(o,c)=>i(c,o)},rc}var ic,Tf;function Pg(){if(Tf)return ic;Tf=1;const n=vg(),{MAX_LENGTH:i,MAX_SAFE_INTEGER:r}=Sg(),{safeRe:o,t:c}=UC(),h=WC(),{compareIdentifiers:_}=GC();class g{constructor(b,y){if(y=h(y),b instanceof g){if(b.loose===!!y.loose&&b.includePrerelease===!!y.includePrerelease)return b;b=b.version}else if(typeof b!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof b}".`);if(b.length>i)throw new TypeError(`version is longer than ${i} characters`);n("SemVer",b,y),this.options=y,this.loose=!!y.loose,this.includePrerelease=!!y.includePrerelease;const v=b.trim().match(y.loose?o[c.LOOSE]:o[c.FULL]);if(!v)throw new TypeError(`Invalid Version: ${b}`);if(this.raw=b,this.major=+v[1],this.minor=+v[2],this.patch=+v[3],this.major>r||this.major<0)throw new TypeError("Invalid major version");if(this.minor>r||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>r||this.patch<0)throw new TypeError("Invalid patch version");v[4]?this.prerelease=v[4].split(".").map(T=>{if(/^[0-9]+$/.test(T)){const B=+T;if(B>=0&&B<r)return B}return T}):this.prerelease=[],this.build=v[5]?v[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(b){if(n("SemVer.compare",this.version,this.options,b),!(b instanceof g)){if(typeof b=="string"&&b===this.version)return 0;b=new g(b,this.options)}return b.version===this.version?0:this.compareMain(b)||this.comparePre(b)}compareMain(b){return b instanceof g||(b=new g(b,this.options)),_(this.major,b.major)||_(this.minor,b.minor)||_(this.patch,b.patch)}comparePre(b){if(b instanceof g||(b=new g(b,this.options)),this.prerelease.length&&!b.prerelease.length)return-1;if(!this.prerelease.length&&b.prerelease.length)return 1;if(!this.prerelease.length&&!b.prerelease.length)return 0;let y=0;do{const v=this.prerelease[y],T=b.prerelease[y];if(n("prerelease compare",y,v,T),v===void 0&&T===void 0)return 0;if(T===void 0)return 1;if(v===void 0)return-1;if(v===T)continue;return _(v,T)}while(++y)}compareBuild(b){b instanceof g||(b=new g(b,this.options));let y=0;do{const v=this.build[y],T=b.build[y];if(n("build compare",y,v,T),v===void 0&&T===void 0)return 0;if(T===void 0)return 1;if(v===void 0)return-1;if(v===T)continue;return _(v,T)}while(++y)}inc(b,y,v){if(b.startsWith("pre")){if(!y&&v===!1)throw new Error("invalid increment argument: identifier is empty");if(y){const T=`-${y}`.match(this.options.loose?o[c.PRERELEASELOOSE]:o[c.PRERELEASE]);if(!T||T[1]!==y)throw new Error(`invalid identifier: ${y}`)}}switch(b){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",y,v);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",y,v);break;case"prepatch":this.prerelease.length=0,this.inc("patch",y,v),this.inc("pre",y,v);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",y,v),this.inc("pre",y,v);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const T=Number(v)?1:0;if(this.prerelease.length===0)this.prerelease=[T];else{let B=this.prerelease.length;for(;--B>=0;)typeof this.prerelease[B]=="number"&&(this.prerelease[B]++,B=-2);if(B===-1){if(y===this.prerelease.join(".")&&v===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(T)}}if(y){let B=[y,T];v===!1&&(B=[y]),_(this.prerelease[0],y)===0?isNaN(this.prerelease[1])&&(this.prerelease=B):this.prerelease=B}break}default:throw new Error(`invalid increment argument: ${b}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return ic=g,ic}var sc,xf;function pa(){if(xf)return sc;xf=1;const n=Pg();return sc=(r,o,c)=>new n(r,c).compare(new n(o,c)),sc}var oc,Rf;function HC(){if(Rf)return oc;Rf=1;const n=pa();return oc=(r,o,c)=>n(r,o,c)===0,oc}var lc,Lf;function VC(){if(Lf)return lc;Lf=1;const n=pa();return lc=(r,o,c)=>n(r,o,c)!==0,lc}var cc,Df;function KC(){if(Df)return cc;Df=1;const n=pa();return cc=(r,o,c)=>n(r,o,c)>0,cc}var uc,$f;function ZC(){if($f)return uc;$f=1;const n=pa();return uc=(r,o,c)=>n(r,o,c)>=0,uc}var pc,Of;function jC(){if(Of)return pc;Of=1;const n=pa();return pc=(r,o,c)=>n(r,o,c)<0,pc}var dc,zf;function YC(){if(zf)return dc;zf=1;const n=pa();return dc=(r,o,c)=>n(r,o,c)<=0,dc}var hc,Nf;function XC(){if(Nf)return hc;Nf=1;const n=HC(),i=VC(),r=KC(),o=ZC(),c=jC(),h=YC();return hc=(g,w,b,y)=>{switch(w){case"===":return typeof g=="object"&&(g=g.version),typeof b=="object"&&(b=b.version),g===b;case"!==":return typeof g=="object"&&(g=g.version),typeof b=="object"&&(b=b.version),g!==b;case"":case"=":case"==":return n(g,b,y);case"!=":return i(g,b,y);case">":return r(g,b,y);case">=":return o(g,b,y);case"<":return c(g,b,y);case"<=":return h(g,b,y);default:throw new TypeError(`Invalid operator: ${w}`)}},hc}XC();var fc,Bf;function JC(){if(Bf)return fc;Bf=1;const n=Pg();return fc=(r,o,c=!1)=>{if(r instanceof n)return r;try{return new n(r,o)}catch(h){if(!c)return null;throw h}},fc}var gc,Ff;function QC(){if(Ff)return gc;Ff=1;const n=JC();return gc=(r,o)=>{const c=n(r,o);return c?c.version:null},gc}QC();var _c;wg("uiComponentSectionRenderer",{src:(_c=PP())!==null&&_c!==void 0?_c:void 0});const ek=wg("uiModulePaymentOverviewCard"),tk=Object.freeze(Object.defineProperty({__proto__:null,add:ek},Symbol.toStringTag,{value:"Module"})),nk=Object.freeze(Object.defineProperty({__proto__:null,overviewCard:tk},Symbol.toStringTag,{value:"Module"})),ak=Object.freeze(Object.defineProperty({__proto__:null,payment:nk},Symbol.toStringTag,{value:"Module"}));function ei(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var yc={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/var Mf;function rk(){return Mf||(Mf=1,(function(n,i){(function(r){n.exports=r()})(function(){return(function r(o,c,h){function _(b,y){if(!c[b]){if(!o[b]){var v=typeof ei=="function"&&ei;if(!y&&v)return v(b,!0);if(g)return g(b,!0);var T=new Error("Cannot find module '"+b+"'");throw T.code="MODULE_NOT_FOUND",T}var B=c[b]={exports:{}};o[b][0].call(B.exports,function(K){var O=o[b][1][K];return _(O||K)},B,B.exports,r,o,c,h)}return c[b].exports}for(var g=typeof ei=="function"&&ei,w=0;w<h.length;w++)_(h[w]);return _})({1:[function(r,o,c){(function(h){var _=h.MutationObserver||h.WebKitMutationObserver,g;if(_){var w=0,b=new _(K),y=h.document.createTextNode("");b.observe(y,{characterData:!0}),g=function(){y.data=w=++w%2}}else if(!h.setImmediate&&typeof h.MessageChannel<"u"){var v=new h.MessageChannel;v.port1.onmessage=K,g=function(){v.port2.postMessage(0)}}else"document"in h&&"onreadystatechange"in h.document.createElement("script")?g=function(){var H=h.document.createElement("script");H.onreadystatechange=function(){K(),H.onreadystatechange=null,H.parentNode.removeChild(H),H=null},h.document.documentElement.appendChild(H)}:g=function(){setTimeout(K,0)};var T,B=[];function K(){T=!0;for(var H,ne,Z=B.length;Z;){for(ne=B,B=[],H=-1;++H<Z;)ne[H]();Z=B.length}T=!1}o.exports=O;function O(H){B.push(H)===1&&!T&&g()}}).call(this,typeof kt<"u"?kt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(r,o,c){var h=r(1);function _(){}var g={},w=["REJECTED"],b=["FULFILLED"],y=["PENDING"];o.exports=v;function v(q){if(typeof q!="function")throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,q!==_&&O(this,q)}v.prototype.catch=function(q){return this.then(null,q)},v.prototype.then=function(q,ee){if(typeof q!="function"&&this.state===b||typeof ee!="function"&&this.state===w)return this;var Y=new this.constructor(_);if(this.state!==y){var ue=this.state===b?q:ee;B(Y,ue,this.outcome)}else this.queue.push(new T(Y,q,ee));return Y};function T(q,ee,Y){this.promise=q,typeof ee=="function"&&(this.onFulfilled=ee,this.callFulfilled=this.otherCallFulfilled),typeof Y=="function"&&(this.onRejected=Y,this.callRejected=this.otherCallRejected)}T.prototype.callFulfilled=function(q){g.resolve(this.promise,q)},T.prototype.otherCallFulfilled=function(q){B(this.promise,this.onFulfilled,q)},T.prototype.callRejected=function(q){g.reject(this.promise,q)},T.prototype.otherCallRejected=function(q){B(this.promise,this.onRejected,q)};function B(q,ee,Y){h(function(){var ue;try{ue=ee(Y)}catch(fe){return g.reject(q,fe)}ue===q?g.reject(q,new TypeError("Cannot resolve promise with itself")):g.resolve(q,ue)})}g.resolve=function(q,ee){var Y=H(K,ee);if(Y.status==="error")return g.reject(q,Y.value);var ue=Y.value;if(ue)O(q,ue);else{q.state=b,q.outcome=ee;for(var fe=-1,Oe=q.queue.length;++fe<Oe;)q.queue[fe].callFulfilled(ee)}return q},g.reject=function(q,ee){q.state=w,q.outcome=ee;for(var Y=-1,ue=q.queue.length;++Y<ue;)q.queue[Y].callRejected(ee);return q};function K(q){var ee=q&&q.then;if(q&&(typeof q=="object"||typeof q=="function")&&typeof ee=="function")return function(){ee.apply(q,arguments)}}function O(q,ee){var Y=!1;function ue(Te){Y||(Y=!0,g.reject(q,Te))}function fe(Te){Y||(Y=!0,g.resolve(q,Te))}function Oe(){ee(fe,ue)}var te=H(Oe);te.status==="error"&&ue(te.value)}function H(q,ee){var Y={};try{Y.value=q(ee),Y.status="success"}catch(ue){Y.status="error",Y.value=ue}return Y}v.resolve=ne;function ne(q){return q instanceof this?q:g.resolve(new this(_),q)}v.reject=Z;function Z(q){var ee=new this(_);return g.reject(ee,q)}v.all=we;function we(q){var ee=this;if(Object.prototype.toString.call(q)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Y=q.length,ue=!1;if(!Y)return this.resolve([]);for(var fe=new Array(Y),Oe=0,te=-1,Te=new this(_);++te<Y;)Ue(q[te],te);return Te;function Ue(At,on){ee.resolve(At).then(An,function(Ve){ue||(ue=!0,g.reject(Te,Ve))});function An(Ve){fe[on]=Ve,++Oe===Y&&!ue&&(ue=!0,g.resolve(Te,fe))}}}v.race=ve;function ve(q){var ee=this;if(Object.prototype.toString.call(q)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Y=q.length,ue=!1;if(!Y)return this.resolve([]);for(var fe=-1,Oe=new this(_);++fe<Y;)te(q[fe]);return Oe;function te(Te){ee.resolve(Te).then(function(Ue){ue||(ue=!0,g.resolve(Oe,Ue))},function(Ue){ue||(ue=!0,g.reject(Oe,Ue))})}}},{1:1}],3:[function(r,o,c){(function(h){typeof h.Promise!="function"&&(h.Promise=r(2))}).call(this,typeof kt<"u"?kt:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(r,o,c){var h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p};function _(p,S){if(!(p instanceof S))throw new TypeError("Cannot call a class as a function")}function g(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var w=g();function b(){try{if(!w||!w.open)return!1;var p=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),S=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!p||S)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function y(p,S){p=p||[],S=S||{};try{return new Blob(p,S)}catch(C){if(C.name!=="TypeError")throw C;for(var f=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,k=new f,E=0;E<p.length;E+=1)k.append(p[E]);return k.getBlob(S.type)}}typeof Promise>"u"&&r(3);var v=Promise;function T(p,S){S&&p.then(function(f){S(null,f)},function(f){S(f)})}function B(p,S,f){typeof S=="function"&&p.then(S),typeof f=="function"&&p.catch(f)}function K(p){return typeof p!="string"&&(console.warn(p+" used as a key, but it is not a string."),p=String(p)),p}function O(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var H="local-forage-detect-blob-support",ne=void 0,Z={},we=Object.prototype.toString,ve="readonly",q="readwrite";function ee(p){for(var S=p.length,f=new ArrayBuffer(S),k=new Uint8Array(f),E=0;E<S;E++)k[E]=p.charCodeAt(E);return f}function Y(p){return new v(function(S){var f=p.transaction(H,q),k=y([""]);f.objectStore(H).put(k,"key"),f.onabort=function(E){E.preventDefault(),E.stopPropagation(),S(!1)},f.oncomplete=function(){var E=navigator.userAgent.match(/Chrome\/(\d+)/),C=navigator.userAgent.match(/Edge\//);S(C||!E||parseInt(E[1],10)>=43)}}).catch(function(){return!1})}function ue(p){return typeof ne=="boolean"?v.resolve(ne):Y(p).then(function(S){return ne=S,ne})}function fe(p){var S=Z[p.name],f={};f.promise=new v(function(k,E){f.resolve=k,f.reject=E}),S.deferredOperations.push(f),S.dbReady?S.dbReady=S.dbReady.then(function(){return f.promise}):S.dbReady=f.promise}function Oe(p){var S=Z[p.name],f=S.deferredOperations.pop();if(f)return f.resolve(),f.promise}function te(p,S){var f=Z[p.name],k=f.deferredOperations.pop();if(k)return k.reject(S),k.promise}function Te(p,S){return new v(function(f,k){if(Z[p.name]=Z[p.name]||Gn(),p.db)if(S)fe(p),p.db.close();else return f(p.db);var E=[p.name];S&&E.push(p.version);var C=w.open.apply(w,E);S&&(C.onupgradeneeded=function(L){var N=C.result;try{N.createObjectStore(p.storeName),L.oldVersion<=1&&N.createObjectStore(H)}catch(F){if(F.name==="ConstraintError")console.warn('The database "'+p.name+'" has been upgraded from version '+L.oldVersion+" to version "+L.newVersion+', but the storage "'+p.storeName+'" already exists.');else throw F}}),C.onerror=function(L){L.preventDefault(),k(C.error)},C.onsuccess=function(){var L=C.result;L.onversionchange=function(N){N.target.close()},f(L),Oe(p)}})}function Ue(p){return Te(p,!1)}function At(p){return Te(p,!0)}function on(p,S){if(!p.db)return!0;var f=!p.db.objectStoreNames.contains(p.storeName),k=p.version<p.db.version,E=p.version>p.db.version;if(k&&(p.version!==S&&console.warn('The database "'+p.name+`" can't be downgraded from version `+p.db.version+" to version "+p.version+"."),p.version=p.db.version),E||f){if(f){var C=p.db.version+1;C>p.version&&(p.version=C)}return!0}return!1}function An(p){return new v(function(S,f){var k=new FileReader;k.onerror=f,k.onloadend=function(E){var C=btoa(E.target.result||"");S({__local_forage_encoded_blob:!0,data:C,type:p.type})},k.readAsBinaryString(p)})}function Ve(p){var S=ee(atob(p.data));return y([S],{type:p.type})}function at(p){return p&&p.__local_forage_encoded_blob}function da(p){var S=this,f=S._initReady().then(function(){var k=Z[S._dbInfo.name];if(k&&k.dbReady)return k.dbReady});return B(f,p,p),f}function ln(p){fe(p);for(var S=Z[p.name],f=S.forages,k=0;k<f.length;k++){var E=f[k];E._dbInfo.db&&(E._dbInfo.db.close(),E._dbInfo.db=null)}return p.db=null,Ue(p).then(function(C){return p.db=C,on(p)?At(p):C}).then(function(C){p.db=S.db=C;for(var L=0;L<f.length;L++)f[L]._dbInfo.db=C}).catch(function(C){throw te(p,C),C})}function Le(p,S,f,k){k===void 0&&(k=1);try{var E=p.db.transaction(p.storeName,S);f(null,E)}catch(C){if(k>0&&(!p.db||C.name==="InvalidStateError"||C.name==="NotFoundError"))return v.resolve().then(function(){if(!p.db||C.name==="NotFoundError"&&!p.db.objectStoreNames.contains(p.storeName)&&p.version<=p.db.version)return p.db&&(p.version=p.db.version+1),At(p)}).then(function(){return ln(p).then(function(){Le(p,S,f,k-1)})}).catch(f);f(C)}}function Gn(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function ha(p){var S=this,f={db:null};if(p)for(var k in p)f[k]=p[k];var E=Z[f.name];E||(E=Gn(),Z[f.name]=E),E.forages.push(S),S._initReady||(S._initReady=S.ready,S.ready=da);var C=[];function L(){return v.resolve()}for(var N=0;N<E.forages.length;N++){var F=E.forages[N];F!==S&&C.push(F._initReady().catch(L))}var M=E.forages.slice(0);return v.all(C).then(function(){return f.db=E.db,Ue(f)}).then(function(U){return f.db=U,on(f,S._defaultConfig.version)?At(f):U}).then(function(U){f.db=E.db=U,S._dbInfo=f;for(var V=0;V<M.length;V++){var le=M[V];le!==S&&(le._dbInfo.db=f.db,le._dbInfo.version=f.version)}})}function fa(p,S){var f=this;p=K(p);var k=new v(function(E,C){f.ready().then(function(){Le(f._dbInfo,ve,function(L,N){if(L)return C(L);try{var F=N.objectStore(f._dbInfo.storeName),M=F.get(p);M.onsuccess=function(){var U=M.result;U===void 0&&(U=null),at(U)&&(U=Ve(U)),E(U)},M.onerror=function(){C(M.error)}}catch(U){C(U)}})}).catch(C)});return T(k,S),k}function Dt(p,S){var f=this,k=new v(function(E,C){f.ready().then(function(){Le(f._dbInfo,ve,function(L,N){if(L)return C(L);try{var F=N.objectStore(f._dbInfo.storeName),M=F.openCursor(),U=1;M.onsuccess=function(){var V=M.result;if(V){var le=V.value;at(le)&&(le=Ve(le));var _e=p(le,V.key,U++);_e!==void 0?E(_e):V.continue()}else E()},M.onerror=function(){C(M.error)}}catch(V){C(V)}})}).catch(C)});return T(k,S),k}function cn(p,S,f){var k=this;p=K(p);var E=new v(function(C,L){var N;k.ready().then(function(){return N=k._dbInfo,we.call(S)==="[object Blob]"?ue(N.db).then(function(F){return F?S:An(S)}):S}).then(function(F){Le(k._dbInfo,q,function(M,U){if(M)return L(M);try{var V=U.objectStore(k._dbInfo.storeName);F===null&&(F=void 0);var le=V.put(F,p);U.oncomplete=function(){F===void 0&&(F=null),C(F)},U.onabort=U.onerror=function(){var _e=le.error?le.error:le.transaction.error;L(_e)}}catch(_e){L(_e)}})}).catch(L)});return T(E,f),E}function ga(p,S){var f=this;p=K(p);var k=new v(function(E,C){f.ready().then(function(){Le(f._dbInfo,q,function(L,N){if(L)return C(L);try{var F=N.objectStore(f._dbInfo.storeName),M=F.delete(p);N.oncomplete=function(){E()},N.onerror=function(){C(M.error)},N.onabort=function(){var U=M.error?M.error:M.transaction.error;C(U)}}catch(U){C(U)}})}).catch(C)});return T(k,S),k}function Wt(p){var S=this,f=new v(function(k,E){S.ready().then(function(){Le(S._dbInfo,q,function(C,L){if(C)return E(C);try{var N=L.objectStore(S._dbInfo.storeName),F=N.clear();L.oncomplete=function(){k()},L.onabort=L.onerror=function(){var M=F.error?F.error:F.transaction.error;E(M)}}catch(M){E(M)}})}).catch(E)});return T(f,p),f}function Gt(p){var S=this,f=new v(function(k,E){S.ready().then(function(){Le(S._dbInfo,ve,function(C,L){if(C)return E(C);try{var N=L.objectStore(S._dbInfo.storeName),F=N.count();F.onsuccess=function(){k(F.result)},F.onerror=function(){E(F.error)}}catch(M){E(M)}})}).catch(E)});return T(f,p),f}function _a(p,S){var f=this,k=new v(function(E,C){if(p<0){E(null);return}f.ready().then(function(){Le(f._dbInfo,ve,function(L,N){if(L)return C(L);try{var F=N.objectStore(f._dbInfo.storeName),M=!1,U=F.openKeyCursor();U.onsuccess=function(){var V=U.result;if(!V){E(null);return}p===0||M?E(V.key):(M=!0,V.advance(p))},U.onerror=function(){C(U.error)}}catch(V){C(V)}})}).catch(C)});return T(k,S),k}function un(p){var S=this,f=new v(function(k,E){S.ready().then(function(){Le(S._dbInfo,ve,function(C,L){if(C)return E(C);try{var N=L.objectStore(S._dbInfo.storeName),F=N.openKeyCursor(),M=[];F.onsuccess=function(){var U=F.result;if(!U){k(M);return}M.push(U.key),U.continue()},F.onerror=function(){E(F.error)}}catch(U){E(U)}})}).catch(E)});return T(f,p),f}function pn(p,S){S=O.apply(this,arguments);var f=this.config();p=typeof p!="function"&&p||{},p.name||(p.name=p.name||f.name,p.storeName=p.storeName||f.storeName);var k=this,E;if(!p.name)E=v.reject("Invalid arguments");else{var C=p.name===f.name&&k._dbInfo.db,L=C?v.resolve(k._dbInfo.db):Ue(p).then(function(N){var F=Z[p.name],M=F.forages;F.db=N;for(var U=0;U<M.length;U++)M[U]._dbInfo.db=N;return N});p.storeName?E=L.then(function(N){if(N.objectStoreNames.contains(p.storeName)){var F=N.version+1;fe(p);var M=Z[p.name],U=M.forages;N.close();for(var V=0;V<U.length;V++){var le=U[V];le._dbInfo.db=null,le._dbInfo.version=F}var _e=new v(function(ye,Ie){var Pe=w.open(p.name,F);Pe.onerror=function(Qe){var gn=Pe.result;gn.close(),Ie(Qe)},Pe.onupgradeneeded=function(){var Qe=Pe.result;Qe.deleteObjectStore(p.storeName)},Pe.onsuccess=function(){var Qe=Pe.result;Qe.close(),ye(Qe)}});return _e.then(function(ye){M.db=ye;for(var Ie=0;Ie<U.length;Ie++){var Pe=U[Ie];Pe._dbInfo.db=ye,Oe(Pe._dbInfo)}}).catch(function(ye){throw(te(p,ye)||v.resolve()).catch(function(){}),ye})}}):E=L.then(function(N){fe(p);var F=Z[p.name],M=F.forages;N.close();for(var U=0;U<M.length;U++){var V=M[U];V._dbInfo.db=null}var le=new v(function(_e,ye){var Ie=w.deleteDatabase(p.name);Ie.onerror=function(){var Pe=Ie.result;Pe&&Pe.close(),ye(Ie.error)},Ie.onblocked=function(){console.warn('dropInstance blocked for database "'+p.name+'" until all open connections are closed')},Ie.onsuccess=function(){var Pe=Ie.result;Pe&&Pe.close(),_e(Pe)}});return le.then(function(_e){F.db=_e;for(var ye=0;ye<M.length;ye++){var Ie=M[ye];Oe(Ie._dbInfo)}}).catch(function(_e){throw(te(p,_e)||v.resolve()).catch(function(){}),_e})})}return T(E,S),E}var Hn={_driver:"asyncStorage",_initStorage:ha,_support:b(),iterate:Dt,getItem:fa,setItem:cn,removeItem:ga,clear:Wt,length:Gt,key:_a,keys:un,dropInstance:pn};function Ye(){return typeof openDatabase=="function"}var se="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",dn="~~local_forage_type~",ie=/^~~local_forage_type~([^~]+)~/,rt="__lfsc__:",_t=rt.length,It="arbf",Be="blob",We="si08",De="ui08",Ht="uic8",ct="si16",Vn="si32",Et="ur16",Ke="ui32",Vt="fl32",Kt="fl64",hn=_t+It.length,Zt=Object.prototype.toString;function Xe(p){var S=p.length*.75,f=p.length,k,E=0,C,L,N,F;p[p.length-1]==="="&&(S--,p[p.length-2]==="="&&S--);var M=new ArrayBuffer(S),U=new Uint8Array(M);for(k=0;k<f;k+=4)C=se.indexOf(p[k]),L=se.indexOf(p[k+1]),N=se.indexOf(p[k+2]),F=se.indexOf(p[k+3]),U[E++]=C<<2|L>>4,U[E++]=(L&15)<<4|N>>2,U[E++]=(N&3)<<6|F&63;return M}function Je(p){var S=new Uint8Array(p),f="",k;for(k=0;k<S.length;k+=3)f+=se[S[k]>>2],f+=se[(S[k]&3)<<4|S[k+1]>>4],f+=se[(S[k+1]&15)<<2|S[k+2]>>6],f+=se[S[k+2]&63];return S.length%3===2?f=f.substring(0,f.length-1)+"=":S.length%3===1&&(f=f.substring(0,f.length-2)+"=="),f}function ya(p,S){var f="";if(p&&(f=Zt.call(p)),p&&(f==="[object ArrayBuffer]"||p.buffer&&Zt.call(p.buffer)==="[object ArrayBuffer]")){var k,E=rt;p instanceof ArrayBuffer?(k=p,E+=It):(k=p.buffer,f==="[object Int8Array]"?E+=We:f==="[object Uint8Array]"?E+=De:f==="[object Uint8ClampedArray]"?E+=Ht:f==="[object Int16Array]"?E+=ct:f==="[object Uint16Array]"?E+=Et:f==="[object Int32Array]"?E+=Vn:f==="[object Uint32Array]"?E+=Ke:f==="[object Float32Array]"?E+=Vt:f==="[object Float64Array]"?E+=Kt:S(new Error("Failed to get type for BinaryArray"))),S(E+Je(k))}else if(f==="[object Blob]"){var C=new FileReader;C.onload=function(){var L=dn+p.type+"~"+Je(this.result);S(rt+Be+L)},C.readAsArrayBuffer(p)}else try{S(JSON.stringify(p))}catch(L){console.error("Couldn't convert value into a JSON string: ",p),S(null,L)}}function ma(p){if(p.substring(0,_t)!==rt)return JSON.parse(p);var S=p.substring(hn),f=p.substring(_t,hn),k;if(f===Be&&ie.test(S)){var E=S.match(ie);k=E[1],S=S.substring(E[0].length)}var C=Xe(S);switch(f){case It:return C;case Be:return y([C],{type:k});case We:return new Int8Array(C);case De:return new Uint8Array(C);case Ht:return new Uint8ClampedArray(C);case ct:return new Int16Array(C);case Et:return new Uint16Array(C);case Vn:return new Int32Array(C);case Ke:return new Uint32Array(C);case Vt:return new Float32Array(C);case Kt:return new Float64Array(C);default:throw new Error("Unkown type: "+f)}}var In={serialize:ya,deserialize:ma,stringToBuffer:Xe,bufferToString:Je};function Qa(p,S,f,k){p.executeSql("CREATE TABLE IF NOT EXISTS "+S.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],f,k)}function pi(p){var S=this,f={db:null};if(p)for(var k in p)f[k]=typeof p[k]!="string"?p[k].toString():p[k];var E=new v(function(C,L){try{f.db=openDatabase(f.name,String(f.version),f.description,f.size)}catch(N){return L(N)}f.db.transaction(function(N){Qa(N,f,function(){S._dbInfo=f,C()},function(F,M){L(M)})},L)});return f.serializer=In,E}function $t(p,S,f,k,E,C){p.executeSql(f,k,E,function(L,N){N.code===N.SYNTAX_ERR?L.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[S.storeName],function(F,M){M.rows.length?C(F,N):Qa(F,S,function(){F.executeSql(f,k,E,C)},C)},C):C(L,N)},C)}function er(p,S){var f=this;p=K(p);var k=new v(function(E,C){f.ready().then(function(){var L=f._dbInfo;L.db.transaction(function(N){$t(N,L,"SELECT * FROM "+L.storeName+" WHERE key = ? LIMIT 1",[p],function(F,M){var U=M.rows.length?M.rows.item(0).value:null;U&&(U=L.serializer.deserialize(U)),E(U)},function(F,M){C(M)})})}).catch(C)});return T(k,S),k}function tr(p,S){var f=this,k=new v(function(E,C){f.ready().then(function(){var L=f._dbInfo;L.db.transaction(function(N){$t(N,L,"SELECT * FROM "+L.storeName,[],function(F,M){for(var U=M.rows,V=U.length,le=0;le<V;le++){var _e=U.item(le),ye=_e.value;if(ye&&(ye=L.serializer.deserialize(ye)),ye=p(ye,_e.key,le+1),ye!==void 0){E(ye);return}}E()},function(F,M){C(M)})})}).catch(C)});return T(k,S),k}function nr(p,S,f,k){var E=this;p=K(p);var C=new v(function(L,N){E.ready().then(function(){S===void 0&&(S=null);var F=S,M=E._dbInfo;M.serializer.serialize(S,function(U,V){V?N(V):M.db.transaction(function(le){$t(le,M,"INSERT OR REPLACE INTO "+M.storeName+" (key, value) VALUES (?, ?)",[p,U],function(){L(F)},function(_e,ye){N(ye)})},function(le){if(le.code===le.QUOTA_ERR){if(k>0){L(nr.apply(E,[p,F,f,k-1]));return}N(le)}})})}).catch(N)});return T(C,f),C}function di(p,S,f){return nr.apply(this,[p,S,f,1])}function hi(p,S){var f=this;p=K(p);var k=new v(function(E,C){f.ready().then(function(){var L=f._dbInfo;L.db.transaction(function(N){$t(N,L,"DELETE FROM "+L.storeName+" WHERE key = ?",[p],function(){E()},function(F,M){C(M)})})}).catch(C)});return T(k,S),k}function fi(p){var S=this,f=new v(function(k,E){S.ready().then(function(){var C=S._dbInfo;C.db.transaction(function(L){$t(L,C,"DELETE FROM "+C.storeName,[],function(){k()},function(N,F){E(F)})})}).catch(E)});return T(f,p),f}function ar(p){var S=this,f=new v(function(k,E){S.ready().then(function(){var C=S._dbInfo;C.db.transaction(function(L){$t(L,C,"SELECT COUNT(key) as c FROM "+C.storeName,[],function(N,F){var M=F.rows.item(0).c;k(M)},function(N,F){E(F)})})}).catch(E)});return T(f,p),f}function gi(p,S){var f=this,k=new v(function(E,C){f.ready().then(function(){var L=f._dbInfo;L.db.transaction(function(N){$t(N,L,"SELECT key FROM "+L.storeName+" WHERE id = ? LIMIT 1",[p+1],function(F,M){var U=M.rows.length?M.rows.item(0).key:null;E(U)},function(F,M){C(M)})})}).catch(C)});return T(k,S),k}function _i(p){var S=this,f=new v(function(k,E){S.ready().then(function(){var C=S._dbInfo;C.db.transaction(function(L){$t(L,C,"SELECT key FROM "+C.storeName,[],function(N,F){for(var M=[],U=0;U<F.rows.length;U++)M.push(F.rows.item(U).key);k(M)},function(N,F){E(F)})})}).catch(E)});return T(f,p),f}function yi(p){return new v(function(S,f){p.transaction(function(k){k.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(E,C){for(var L=[],N=0;N<C.rows.length;N++)L.push(C.rows.item(N).name);S({db:p,storeNames:L})},function(E,C){f(C)})},function(k){f(k)})})}function wa(p,S){S=O.apply(this,arguments);var f=this.config();p=typeof p!="function"&&p||{},p.name||(p.name=p.name||f.name,p.storeName=p.storeName||f.storeName);var k=this,E;return p.name?E=new v(function(C){var L;p.name===f.name?L=k._dbInfo.db:L=openDatabase(p.name,"","",0),p.storeName?C({db:L,storeNames:[p.storeName]}):C(yi(L))}).then(function(C){return new v(function(L,N){C.db.transaction(function(F){function M(_e){return new v(function(ye,Ie){F.executeSql("DROP TABLE IF EXISTS "+_e,[],function(){ye()},function(Pe,Qe){Ie(Qe)})})}for(var U=[],V=0,le=C.storeNames.length;V<le;V++)U.push(M(C.storeNames[V]));v.all(U).then(function(){L()}).catch(function(_e){N(_e)})},function(F){N(F)})})}):E=v.reject("Invalid arguments"),T(E,S),E}var mi={_driver:"webSQLStorage",_initStorage:pi,_support:Ye(),iterate:tr,getItem:er,setItem:di,removeItem:hi,clear:fi,length:ar,key:gi,keys:_i,dropInstance:wa};function ba(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function rr(p,S){var f=p.name+"/";return p.storeName!==S.storeName&&(f+=p.storeName+"/"),f}function wi(){var p="_localforage_support_test";try{return localStorage.setItem(p,!0),localStorage.removeItem(p),!1}catch{return!0}}function bi(){return!wi()||localStorage.length>0}function vi(p){var S=this,f={};if(p)for(var k in p)f[k]=p[k];return f.keyPrefix=rr(p,S._defaultConfig),bi()?(S._dbInfo=f,f.serializer=In,v.resolve()):v.reject()}function Si(p){var S=this,f=S.ready().then(function(){for(var k=S._dbInfo.keyPrefix,E=localStorage.length-1;E>=0;E--){var C=localStorage.key(E);C.indexOf(k)===0&&localStorage.removeItem(C)}});return T(f,p),f}function Pi(p,S){var f=this;p=K(p);var k=f.ready().then(function(){var E=f._dbInfo,C=localStorage.getItem(E.keyPrefix+p);return C&&(C=E.serializer.deserialize(C)),C});return T(k,S),k}function Ci(p,S){var f=this,k=f.ready().then(function(){for(var E=f._dbInfo,C=E.keyPrefix,L=C.length,N=localStorage.length,F=1,M=0;M<N;M++){var U=localStorage.key(M);if(U.indexOf(C)===0){var V=localStorage.getItem(U);if(V&&(V=E.serializer.deserialize(V)),V=p(V,U.substring(L),F++),V!==void 0)return V}}});return T(k,S),k}function ki(p,S){var f=this,k=f.ready().then(function(){var E=f._dbInfo,C;try{C=localStorage.key(p)}catch{C=null}return C&&(C=C.substring(E.keyPrefix.length)),C});return T(k,S),k}function ir(p){var S=this,f=S.ready().then(function(){for(var k=S._dbInfo,E=localStorage.length,C=[],L=0;L<E;L++){var N=localStorage.key(L);N.indexOf(k.keyPrefix)===0&&C.push(N.substring(k.keyPrefix.length))}return C});return T(f,p),f}function Ai(p){var S=this,f=S.keys().then(function(k){return k.length});return T(f,p),f}function Ii(p,S){var f=this;p=K(p);var k=f.ready().then(function(){var E=f._dbInfo;localStorage.removeItem(E.keyPrefix+p)});return T(k,S),k}function Ei(p,S,f){var k=this;p=K(p);var E=k.ready().then(function(){S===void 0&&(S=null);var C=S;return new v(function(L,N){var F=k._dbInfo;F.serializer.serialize(S,function(M,U){if(U)N(U);else try{localStorage.setItem(F.keyPrefix+p,M),L(C)}catch(V){(V.name==="QuotaExceededError"||V.name==="NS_ERROR_DOM_QUOTA_REACHED")&&N(V),N(V)}})})});return T(E,f),E}function Ti(p,S){if(S=O.apply(this,arguments),p=typeof p!="function"&&p||{},!p.name){var f=this.config();p.name=p.name||f.name,p.storeName=p.storeName||f.storeName}var k=this,E;return p.name?E=new v(function(C){p.storeName?C(rr(p,k._defaultConfig)):C(p.name+"/")}).then(function(C){for(var L=localStorage.length-1;L>=0;L--){var N=localStorage.key(L);N.indexOf(C)===0&&localStorage.removeItem(N)}}):E=v.reject("Invalid arguments"),T(E,S),E}var xi={_driver:"localStorageWrapper",_initStorage:vi,_support:ba(),iterate:Ci,getItem:Pi,setItem:Ei,removeItem:Ii,clear:Si,length:Ai,key:ki,keys:ir,dropInstance:Ti},Ri=function(S,f){return S===f||typeof S=="number"&&typeof f=="number"&&isNaN(S)&&isNaN(f)},Kn=function(S,f){for(var k=S.length,E=0;E<k;){if(Ri(S[E],f))return!0;E++}return!1},sr=Array.isArray||function(p){return Object.prototype.toString.call(p)==="[object Array]"},Ot={},or={},fn={INDEXEDDB:Hn,WEBSQL:mi,LOCALSTORAGE:xi},Li=[fn.INDEXEDDB._driver,fn.WEBSQL._driver,fn.LOCALSTORAGE._driver],En=["dropInstance"],Zn=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(En),lr={description:"",driver:Li.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Di(p,S){p[S]=function(){var f=arguments;return p.ready().then(function(){return p[S].apply(p,f)})}}function va(){for(var p=1;p<arguments.length;p++){var S=arguments[p];if(S)for(var f in S)S.hasOwnProperty(f)&&(sr(S[f])?arguments[0][f]=S[f].slice():arguments[0][f]=S[f])}return arguments[0]}var $i=(function(){function p(S){_(this,p);for(var f in fn)if(fn.hasOwnProperty(f)){var k=fn[f],E=k._driver;this[f]=E,Ot[E]||this.defineDriver(k)}this._defaultConfig=va({},lr),this._config=va({},this._defaultConfig,S),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return p.prototype.config=function(f){if((typeof f>"u"?"undefined":h(f))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var k in f){if(k==="storeName"&&(f[k]=f[k].replace(/\W/g,"_")),k==="version"&&typeof f[k]!="number")return new Error("Database version must be a number.");this._config[k]=f[k]}return"driver"in f&&f.driver?this.setDriver(this._config.driver):!0}else return typeof f=="string"?this._config[f]:this._config},p.prototype.defineDriver=function(f,k,E){var C=new v(function(L,N){try{var F=f._driver,M=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!f._driver){N(M);return}for(var U=Zn.concat("_initStorage"),V=0,le=U.length;V<le;V++){var _e=U[V],ye=!Kn(En,_e);if((ye||f[_e])&&typeof f[_e]!="function"){N(M);return}}var Ie=function(){for(var gn=function(ur){return function(){var Ni=new Error("Method "+ur+" is not implemented by the current driver"),pr=v.reject(Ni);return T(pr,arguments[arguments.length-1]),pr}},Sa=0,cr=En.length;Sa<cr;Sa++){var jn=En[Sa];f[jn]||(f[jn]=gn(jn))}};Ie();var Pe=function(gn){Ot[F]&&console.info("Redefining LocalForage driver: "+F),Ot[F]=f,or[F]=gn,L()};"_support"in f?f._support&&typeof f._support=="function"?f._support().then(Pe,N):Pe(!!f._support):Pe(!0)}catch(Qe){N(Qe)}});return B(C,k,E),C},p.prototype.driver=function(){return this._driver||null},p.prototype.getDriver=function(f,k,E){var C=Ot[f]?v.resolve(Ot[f]):v.reject(new Error("Driver not found."));return B(C,k,E),C},p.prototype.getSerializer=function(f){var k=v.resolve(In);return B(k,f),k},p.prototype.ready=function(f){var k=this,E=k._driverSet.then(function(){return k._ready===null&&(k._ready=k._initDriver()),k._ready});return B(E,f,f),E},p.prototype.setDriver=function(f,k,E){var C=this;sr(f)||(f=[f]);var L=this._getSupportedDrivers(f);function N(){C._config.driver=C.driver()}function F(V){return C._extend(V),N(),C._ready=C._initStorage(C._config),C._ready}function M(V){return function(){var le=0;function _e(){for(;le<V.length;){var ye=V[le];return le++,C._dbInfo=null,C._ready=null,C.getDriver(ye).then(F).catch(_e)}N();var Ie=new Error("No available storage method found.");return C._driverSet=v.reject(Ie),C._driverSet}return _e()}}var U=this._driverSet!==null?this._driverSet.catch(function(){return v.resolve()}):v.resolve();return this._driverSet=U.then(function(){var V=L[0];return C._dbInfo=null,C._ready=null,C.getDriver(V).then(function(le){C._driver=le._driver,N(),C._wrapLibraryMethodsWithReady(),C._initDriver=M(L)})}).catch(function(){N();var V=new Error("No available storage method found.");return C._driverSet=v.reject(V),C._driverSet}),B(this._driverSet,k,E),this._driverSet},p.prototype.supports=function(f){return!!or[f]},p.prototype._extend=function(f){va(this,f)},p.prototype._getSupportedDrivers=function(f){for(var k=[],E=0,C=f.length;E<C;E++){var L=f[E];this.supports(L)&&k.push(L)}return k},p.prototype._wrapLibraryMethodsWithReady=function(){for(var f=0,k=Zn.length;f<k;f++)Di(this,Zn[f])},p.prototype.createInstance=function(f){return new p(f)},p})(),Oi=new $i;o.exports=Oi},{3:3}]},{},[4])(4)})})(yc)),yc.exports}rk();var mc,qf;function ik(){var n;return qf||(qf=1,mc=(n=window.Shopware)==null?void 0:n.Vue),mc}ik();fg({handle:ai,send:Za});const sk={module:ak};Shopware.Component.register("swag-paypal-method-domain-association",()=>Re(()=>import("./index-DnLidD0f.js"),__vite__mapDeps([15,16])));Shopware.Component.register("swag-paypal-method-merchant-information",()=>Re(()=>import("./index-DW5rY_2a.js"),__vite__mapDeps([17,18])));Shopware.Component.register("swag-paypal-payment-method",()=>Re(()=>import("./index-D8Q_Oavj.js"),__vite__mapDeps([19,20])));Shopware.Component.register("swag-paypal-method-card",()=>Re(()=>import("./index-BJtQKoRZ.js"),__vite__mapDeps([21,22])));Shopware.Component.override("sw-plugin-box",()=>Re(()=>import("./index-QD0Oy9I0.js"),[]));Shopware.Component.override("sw-settings-payment-detail",()=>Re(()=>import("./index-COETuq5G.js"),__vite__mapDeps([23,24])));sk.module.payment.overviewCard.add({positionId:"swag-paypal-method-card-before",component:"swag-paypal-method-card",paymentMethodHandlers:["handler_swag_trustlyapmhandler","handler_swag_sofortapmhandler","handler_swag_p24apmhandler","handler_swag_oxxoapmhandler","handler_swag_mybankapmhandler","handler_swag_multibancoapmhandler","handler_swag_idealapmhandler","handler_swag_giropayapmhandler","handler_swag_epsapmhandler","handler_swag_blikapmhandler","handler_swag_bancontactapmhandler","handler_swag_sepahandler","handler_swag_acdchandler","handler_swag_puihandler","handler_swag_paypalpaymenthandler","handler_swag_pospayment","handler_swag_venmohandler","handler_swag_paylaterhandler","handler_swag_applepayhandler","handler_swag_googlepayhandler"]});const ok=`{% block swag_paypal_payment_actions_v2 %} <div> <div class="swag-paypal-payment-actions-v2__button-container"> <div> {% block swag_paypal_payment_actions_v2_void %} <mt-button v-if="showVoidButton" size="small" :disabled="!acl.can('order.editor')" variant="secondary" @click="spawnModal('void')" > {{ $t('swag-paypal-payment.buttons.label.void') }} </mt-button> {% endblock %} {% block swag_paypal_payment_actions_v2_capture %} <mt-button v-if="captureableAmount > 0" size="small" :disabled="!acl.can('order.editor')" variant="secondary" @click="spawnModal('capture')" > {{ $t('swag-paypal-payment.buttons.label.capture') }} </mt-button> {% endblock %} </div> {% block swag_paypal_payment_actions_v2_refund %} <mt-button variant="primary" size="small" :disabled="refundableAmount <= 0 || !acl.can('order.editor')" @click="spawnModal('refund')" > {{ $t('swag-paypal-payment.buttons.label.refund') }} </mt-button> {% endblock %} </div> {% block swag_paypal_payment_actions_v2_modal %} {% block swag_paypal_payment_actions_v2_modal_refund %} <swag-paypal-payment-action-v2-refund v-if="modalType === 'refund'" :orderTransactionId="orderTransactionId" :paypalOrder="paypalOrder" :paypalPartnerAttributionId="paypalPartnerAttributionId" :refundableAmount="refundableAmount" @modal-close="closeModal" /> {% endblock %} {% block swag_paypal_payment_actions_v2_modal_capture %} <swag-paypal-payment-action-v2-capture v-if="modalType === 'capture'" :orderTransactionId="orderTransactionId" :paypalOrder="paypalOrder" :paypalPartnerAttributionId="paypalPartnerAttributionId" :captureableAmount="captureableAmount" @modal-close="closeModal" /> {% endblock %} {% block swag_paypal_payment_actions_v2_modal_void %} <swag-paypal-payment-action-v2-void v-if="modalType === 'void'" :orderTransactionId="orderTransactionId" :paypalOrder="paypalOrder" :paypalPartnerAttributionId="paypalPartnerAttributionId" @modal-close="closeModal" /> {% endblock %} {% endblock %} </div> {% endblock %}`,lk=`{% block swag_paypal_payment_action_capture_v2 %} <sw-modal variant="small" :title="$t(\`swag-paypal-payment.modal.title.capture\`)" @modal-close="$emit('modal-close')" > {% block swag_paypal_payment_action_capture_v2_max_amount %} <mt-text-field v-model="captureableAmount" :label="$t('swag-paypal-payment.captureAction.maxAmount')" :disabled="true" > <template v-if="currencyCode" #suffix> {{ currencyCode }} </template> </mt-text-field> {% endblock %} {% block swag_paypal_payment_action_capture_v2_amount %} <mt-number-field v-model="captureAmount" :max="captureableAmount" :min="0" :label="$t('swag-paypal-payment.captureAction.currentAmount')" > <template v-if="currencyCode" #suffix> {{ currencyCode }} </template> </mt-number-field> {% endblock %} {% block swag_paypal_payment_action_capture_v2_invoice_number %} <mt-text-field v-model="captureInvoiceNumber" :max-length="127" :label="$t('swag-paypal-payment.captureAction.captureInvoiceNumber.label')" :placeholder="$t('swag-paypal-payment.captureAction.captureInvoiceNumber.placeholder')" /> {% endblock %} {% block swag_paypal_payment_action_capture_v2_note_to_payer %} <mt-textarea v-model="captureNoteToPayer" :max-length="255" :placeholder="$t('swag-paypal-payment.captureAction.captureNoteToPayer.placeholder')" :label="$t('swag-paypal-payment.captureAction.captureNoteToPayer.label')" /> {% endblock %} {% block swag_paypal_payment_action_capture_v2_is_final_capture %} <mt-checkbox v-model:checked="isFinalCapture" :label="$t('swag-paypal-payment.captureAction.isFinal')" /> {% endblock %} {% block swag_paypal_payment_action_capture_v2_hint %} <mt-banner v-if="showHint"> {{ $t('swag-paypal-payment.captureAction.isFinalHint') }} </mt-banner> {% endblock %} {% block swag_paypal_payment_action_capture_v2_confirm_button %} <template #modal-footer> <mt-button variant="primary" @click="capture"> {{ $t('swag-paypal-payment.captureAction.button.text') }} </mt-button> </template> {% endblock %} <sw-loader v-if="isLoading" /> </sw-modal> {% endblock %}`,{Component:ck}=Shopware;ck.register("swag-paypal-payment-action-v2-capture",{template:lk,inject:["SwagPayPalOrderService"],emits:["modal-close"],mixins:[Shopware.Mixin.getByName("notification")],props:{paypalOrder:{type:Object,required:!0},orderTransactionId:{type:String,required:!0},paypalPartnerAttributionId:{type:String,required:!0},captureableAmount:{type:Number,required:!0}},data(){return{authorization:{},isFinalCapture:!0,captureAmount:this.captureableAmount,captureInvoiceNumber:"",captureNoteToPayer:"",currencyCode:"",isLoading:!0}},computed:{showHint(){return this.isFinalCapture&&this.captureAmount!==this.captureableAmount}},created(){this.createdComponent()},methods:{createdComponent(){this.authorization=this.paypalOrder.purchase_units[0].payments.authorizations[0],this.currencyCode=this.authorization.amount.currency_code,this.isLoading=!1},capture(){this.isLoading=!0;let n=this.captureAmount;n===0&&(n=this.captureableAmount),this.SwagPayPalOrderService.captureAuthorization(this.orderTransactionId,this.authorization.id,this.currencyCode,n,this.captureInvoiceNumber,this.captureNoteToPayer,this.paypalPartnerAttributionId,this.isFinalCapture).then(()=>{this.createNotificationSuccess({message:this.$t("swag-paypal-payment.captureAction.successMessage")}),this.isLoading=!1,this.$emit("modal-close")}).catch(i=>{try{this.createNotificationError({message:`${i.response.data.errors[0].title}: ${i.response.data.errors[0].detail}`,autoClose:!1})}catch{this.createNotificationError({message:`${i.title}: ${i.message}`,autoClose:!1})}finally{this.isLoading=!1}})}}});const uk=`{% block swag_paypal_payment_action_refund_v2 %} <sw-modal variant="small" :title="$t(\`swag-paypal-payment.modal.title.refund\`)" @modal-close="$emit('modal-close')" > {% block swag_paypal_payment_action_refund_v2_capture_select %} <mt-select v-model="selectedCaptureId" :label="$t('swag-paypal-payment.refundAction.invoiceSelect.label')" :options="captureOptions" @update:modelValue="setCapture" /> {% endblock %} {% block swag_paypal_payment_action_refund_v2_invoice_number %} <mt-text-field v-model="refundInvoiceNumber" :max-length="127" :label="$t('swag-paypal-payment.refundAction.refundInvoiceNumber.label')" :placeholder="$t('swag-paypal-payment.refundAction.refundInvoiceNumber.placeholder')" /> {% endblock %} {% block swag_paypal_payment_action_refund_v2_amount %} <mt-number-field v-model="refundAmount" :max="refundableAmountForSelectedCapture" :min="0" :label="$t('swag-paypal-payment.refundAction.refundAmount.label')" :helpText="$t('swag-paypal-payment.refundAction.refundAmount.helpText')" > <template #suffix> {{ selectedCapture.amount.currency_code }} </template> </mt-number-field> {% endblock %} {% block swag_paypal_payment_action_refund_v2_note_to_payer %} <mt-textarea v-model="refundNoteToPayer" :max-length="255" :placeholder="$t('swag-paypal-payment.refundAction.refundNoteToPayer.placeholder')" :label="$t('swag-paypal-payment.refundAction.refundNoteToPayer.label')" /> {% endblock %} {% block swag_paypal_payment_action_refund_v2_confirm_button %} <template #modal-footer> <mt-button variant="primary" @click="refund"> {{ $t('swag-paypal-payment.refundAction.confirmButton.text') }} </mt-button> </template> {% endblock %} <sw-loader v-if="isLoading" /> </sw-modal> {% endblock %}`,pk="REFUNDED",dk="CREATED",hk="PARTIALLY_CAPTURED",fk="PENDING",{Component:gk,Filter:_k}=Shopware;gk.register("swag-paypal-payment-action-v2-refund",{template:uk,inject:["SwagPayPalOrderService"],emits:["modal-close"],mixins:[Shopware.Mixin.getByName("notification")],props:{paypalOrder:{type:Object,required:!0},orderTransactionId:{type:String,required:!0},paypalPartnerAttributionId:{type:String,required:!0},refundableAmount:{type:Number,required:!1,default:0}},data(){return{captures:[],selectedCapture:{},refundAmount:0,refundInvoiceNumber:"",refundNoteToPayer:"",selectedCaptureId:"",isLoading:!0}},computed:{dateFilter(){return _k.getByName("date")},refundableAmountForSelectedCapture(){return this.selectedCapture.amount.value>this.refundableAmount?Number(this.refundableAmount):Number(this.selectedCapture.amount.value)},captureOptions(){return this.captures.map(n=>({id:n.id,value:n.id,label:`${this.dateFilter(n.create_time)} (${n.amount.value} ${n.amount.currency_code}) - ${n.id} [${n.status}]`}))}},created(){this.createdComponent()},methods:{createdComponent(){this.getRefundableCaptures();const n=this.captures[0];this.selectedCaptureId=n.id,this.selectedCapture=n,this.refundAmount=this.refundableAmountForSelectedCapture,this.isLoading=!1},getRefundableCaptures(){const n=this.paypalOrder.purchase_units[0].payments.captures,i=[];n.forEach(r=>{r.status!==pk&&i.push(r)}),this.captures=i},setCapture(){this.selectedCapture=this.captures.find(n=>n.id===this.selectedCaptureId),this.refundAmount=this.refundableAmountForSelectedCapture},refund(){this.isLoading=!0;let n=this.refundAmount;n===0&&(n=this.selectedCapture.amount.value),this.SwagPayPalOrderService.refundCapture(this.orderTransactionId,this.selectedCapture.id,this.paypalOrder.id,this.selectedCapture.amount.currency_code,n,this.refundInvoiceNumber,this.refundNoteToPayer,this.paypalPartnerAttributionId).then(()=>{this.createNotificationSuccess({message:this.$t("swag-paypal-payment.refundAction.successMessage")}),this.isLoading=!1,this.$emit("modal-close")}).catch(i=>{try{this.createNotificationError({message:`${i.response.data.errors[0].title}: ${i.response.data.errors[0].detail}`,autoClose:!1})}catch{this.createNotificationError({message:`${i.title}: ${i.message}`,autoClose:!1})}finally{this.isLoading=!1}})}}});const yk=`{% block swag_paypal_paymemnt_action_v2_void %} <sw-modal variant="small" :title="$t(\`swag-paypal-payment.modal.title.void\`)" @modal-close="closeModal" > {% block swag_paypal_paymemnt_action_v2_void_headline %} <p>{{ $t('swag-paypal-payment.voidAction.confirm.message') }}</p> {% endblock %} <template #modal-footer> {% block swag_paypal_paymemnt_action_v2_void_cancel_button %} <mt-button variant="secondary" @click="closeModal"> {{ $t('global.default.no') }} </mt-button> {% endblock %} {% block swag_paypal_paymemnt_action_v2_void_confirm_button %} <mt-button variant="primary" @click="voidPayment"> {{ $t('swag-paypal-payment.voidAction.confirm.button.confirm') }} </mt-button> {% endblock %} </template> <sw-loader v-if="isLoading" size="43px" /> </sw-modal> {% endblock %}`,{Component:mk}=Shopware;mk.register("swag-paypal-payment-action-v2-void",{template:yk,inject:["SwagPayPalOrderService"],emits:["modal-close"],mixins:[Shopware.Mixin.getByName("notification")],props:{paypalOrder:{type:Object,required:!0},orderTransactionId:{type:String,required:!0},paypalPartnerAttributionId:{type:String,required:!0}},data(){return{isLoading:!1}},methods:{voidPayment(){this.isLoading=!0;const n=this.paypalOrder.purchase_units[0].payments.authorizations[0];this.SwagPayPalOrderService.voidAuthorization(this.orderTransactionId,n.id,this.paypalPartnerAttributionId).then(()=>{this.createNotificationSuccess({message:this.$t("swag-paypal-payment.voidAction.successMessage")}),this.isLoading=!1,this.closeModal()}).catch(i=>{try{this.createNotificationError({message:`${i.response.data.errors[0].title}: ${i.response.data.errors[0].detail}`,autoClose:!1})}catch{this.createNotificationError({message:`${i.title}: ${i.message}`,autoClose:!1})}finally{this.isLoading=!1}})},closeModal(){this.$emit("modal-close")}}});const{Component:wk}=Shopware;wk.register("swag-paypal-payment-actions-v2",{template:ok,inject:["acl"],emits:["reload-paypal-order"],props:{paypalOrder:{type:Object,required:!0},orderTransactionId:{type:String,required:!0},paypalPartnerAttributionId:{type:String,required:!0},refundableAmount:{type:Number,required:!0},captureableAmount:{type:Number,required:!0},showVoidButton:{type:Boolean,required:!0}},data(){return{modalType:""}},methods:{spawnModal(n){this.modalType=n},closeModal(){this.modalType="",this.$emit("reload-paypal-order")}}});const bk=`{% block swag_paypal_payment_details_v1 %} <div class="swag-paypal-payment-details_v1"> <mt-card position-identifier="swag-paypal-payment-details-v1" :title="$t('swag-paypal-payment.paymentDetails.cardTitle')" > <template #grid> <sw-card-section divider="top"> <sw-container columns="1fr" gap="0px 30px"> {% block swag_paypal_payment_detail_invoice %} {% block swag_paypal_payment_detail_invoice_heading %} <h3> {{ $t('swag-paypal-payment.paymentDetails.invoice.heading') }} </h3> {% endblock %} {% block swag_paypal_payment_detail_invoice_list %} <sw-description-list class="swag-paypal-payment-detail__data" grid="1fr 1fr"> <dt>{{ $t('swag-paypal-payment.paymentDetails.invoice.totalAmount') }}</dt> <dd>{{ amount.total }} {{ currency }}</dd> <dt>{{ $t('swag-paypal-payment.paymentDetails.invoice.subTotal') }}</dt> <dd> {{ amount.details.subtotal }} {{ currency }}</dd> <dt>{{ $t('swag-paypal-payment.paymentDetails.invoice.shipping') }}</dt> <dd> {{ amount.details.shipping }} {{ currency }}</dd> </sw-description-list> {% endblock %} {% block swag_paypal_payment_detail_payment %} {% block swag_paypal_payment_detail_payment_heading %} <h3 class="swag-paypal-payment-detail__heading"> {{ $t('swag-paypal-payment.paymentDetails.payment.heading') }} </h3> {% endblock %} {% block swag_paypal_payment_detail_payment_list %} <sw-description-list class="swag-paypal-payment-detail__data" grid="1fr 1fr"> <dt>{{ $t('swag-paypal-payment.paymentDetails.payment.intent') }}</dt> <dd>{{ $t(\`swag-paypal-settings.options.intent.\${paymentResource.intent}\`) }}</dd> <dt>{{ $t('swag-paypal-payment.paymentDetails.payment.paymentId') }}</dt> <dd>{{ paymentResource.id }}</dd> <dt>{{ $t('swag-paypal-payment.paymentDetails.payment.cartId') }}</dt> <dd>{{ paymentResource.cart }}</dd> <dt>{{ $t('swag-paypal-payment.paymentDetails.payment.state') }}</dt> <dd>{{ paymentResource.state }}</dd> <dt>{{ $t('swag-paypal-payment.paymentDetails.payment.createTime') }}</dt> <dd>{{ createDateTime }}</dd> <dt>{{ $t('swag-paypal-payment.paymentDetails.payment.updateTime') }}</dt> <dd>{{ updateDateTime }}</dd> </sw-description-list> {% endblock %} {% endblock %} {% block swag_paypal_payment_detail_customer %} {% block swag_paypal_payment_detail_customer_heading %} <h3 class="swag-paypal-payment-detail__heading"> {{ $t('swag-paypal-payment.paymentDetails.customer.heading') }} </h3> {% endblock %} {% block swag_paypal_payment_detail_customer_list %} <sw-description-list class="swag-paypal-payment-detail__data" grid="1fr 1fr"> <dt>{{ $t('swag-paypal-payment.paymentDetails.customer.payerId') }}</dt> <dd>{{ payerId }}</dd> </sw-description-list> {% endblock %} {% endblock %} {% endblock %} </sw-container> </sw-card-section> </template> </mt-card> {% block swag_paypal_payment_transaction_history_card %} <mt-card position-identifier="swag-paypal-payment-transaction-history-v1" :title="$t('swag-paypal-payment.transactionHistory.cardTitle')" > <template #grid> {% block swag_paypal_payment_transaction_history_grid %} <sw-data-grid :dataSource="relatedResources" :columns="relatedResourceColumns" :showActions="false" :showSelection="false" /> {% endblock %} </template> </mt-card> {% endblock %} </div> {% endblock %}`,{Component:vk,Filter:Sk}=Shopware;vk.register("swag-paypal-payment-details-v1",{template:bk,props:{paymentResource:{type:Object,required:!0},orderId:{type:String,required:!0}},data(){return{relatedResources:[],createDateTime:"",updateDateTime:"",currency:"",amount:{},payerId:""}},computed:{dateFilter(){return Sk.getByName("date")},relatedResourceColumns(){return[{property:"type",label:this.$t("swag-paypal-payment.transactionHistory.types.type"),rawData:!0},{property:"total",label:this.$t("swag-paypal-payment.transactionHistory.types.amount"),rawData:!0},{property:"id",label:this.$t("swag-paypal-payment.transactionHistory.types.trackingId"),rawData:!0},{property:"status",label:this.$t("swag-paypal-payment.transactionHistory.types.state"),rawData:!0},{property:"transactionFee",label:this.$t("swag-paypal-payment.transactionHistory.types.transactionFee"),rawData:!0},{property:"paymentMode",label:this.$t("swag-paypal-payment.transactionHistory.types.paymentMode"),rawData:!0},{property:"create",label:this.$t("swag-paypal-payment.transactionHistory.types.createTime"),rawData:!0},{property:"update",label:this.$t("swag-paypal-payment.transactionHistory.types.updateTime"),rawData:!0}]}},created(){this.createdComponent()},methods:{createdComponent(){this.createDateTime=this.formatDate(this.paymentResource.create_time),this.updateDateTime=this.formatDate(this.paymentResource.update_time),this.amount=this.paymentResource.transactions[0].amount,this.currency=this.paymentResource.transactions[0].amount.currency,this.paymentResource.payer&&this.paymentResource.payer.payer_info&&(this.payerId=this.paymentResource.payer.payer_info.payer_id),this.setRelatedResources()},setRelatedResources(){const n=this.paymentResource.transactions[0].related_resources;n&&n.forEach(i=>{i.sale&&this.pushRelatedResource("sale",i.sale),i.authorization&&this.pushRelatedResource("authorization",i.authorization),i.order&&this.pushRelatedResource("order",i.order),i.refund&&this.pushRelatedResource("refund",i.refund),i.capture&&this.pushRelatedResource("capture",i.capture)})},pushRelatedResource(n,i){let r=null;const o=i.amount.currency;i.transaction_fee&&(r=`${i.transaction_fee.value} ${o}`),this.relatedResources.push({id:i.id,type:this.$t(`swag-paypal-payment.transactionHistory.states.${n}`),total:`${i.amount.total} ${o}`,create:this.formatDate(i.create_time),createRaw:i.create_time,update:this.formatDate(i.update_time),transactionFee:r,status:i.state,paymentMode:i.payment_mode}),this.relatedResources.sort((c,h)=>{const _=new Date(c.createRaw),g=new Date(h.createRaw);return _-g})},formatDate(n){return this.dateFilter(n,{hour:"2-digit",minute:"2-digit",second:"2-digit"})}}});const Pk=`{% block swag_paypal_payment_details_v2 %} <div class="swag-paypal-payment-details_v2"> <mt-card position-identifier="swag-paypal-payment-details-v2" :title="$t('swag-paypal-payment.paymentDetails.cardTitle')" > <template #grid> {% block swag_paypal_payment_actions_section %} <sw-card-section secondary slim> <swag-paypal-payment-actions-v2 :orderTransactionId="orderTransaction.id" :paypalOrder="paypalOrder" :paypalPartnerAttributionId="orderTransaction.customFields.swag_paypal_partner_attribution_id" :refundableAmount="refundableAmount" :captureableAmount="captureableAmount" :showVoidButton="showVoidButton" @reloadPaypalOrder="$emit('reload-paypal-order')" /> </sw-card-section> {% endblock %} <sw-card-section divider="top"> {% block swag_paypal_payment_detail_invoice %} {% block swag_paypal_payment_detail_invoice_heading %} <h3> {{ $t('swag-paypal-payment.paymentDetails.invoice.heading') }} </h3> {% endblock %} {% block swag_paypal_payment_detail_invoice_list %} <sw-description-list class="swag-paypal-payment-detail__data" grid="1fr 1fr"> {% block swag_paypal_payment_detail_invoice_list_total %} <dt>{{ $t('swag-paypal-payment.paymentDetails.invoice.totalAmount') }}</dt> <dd>{{ amount.value }} {{ currency }}</dd> {% endblock %} <template v-if="amount.breakdown"> {% block swag_paypal_payment_detail_invoice_list_sub_total %} <dt>{{ $t('swag-paypal-payment.paymentDetails.invoice.subTotal') }}</dt> <dd> {{ amount.breakdown.item_total.value }} {{ currency }}</dd> {% endblock %} {% block swag_paypal_payment_detail_invoice_list_discount %} <template v-if="amount.breakdown.discount"> <dt>{{ $t('swag-paypal-payment.paymentDetails.invoice.discount') }}</dt> <dd> {{ amount.breakdown.discount.value }} {{ currency }}</dd> </template> {% endblock %} {% block swag_paypal_payment_detail_invoice_list_handling %} <template v-if="amount.breakdown.handling"> <dt>{{ $t('swag-paypal-payment.paymentDetails.invoice.handling') }}</dt> <dd> {{ amount.breakdown.handling.value }} {{ currency }}</dd> </template> {% endblock %} {% block swag_paypal_payment_detail_invoice_list_insurance %} <template v-if="amount.breakdown.insurance"> <dt>{{ $t('swag-paypal-payment.paymentDetails.invoice.insurance') }}</dt> <dd> {{ amount.breakdown.insurance.value }} {{ currency }}</dd> </template> {% endblock %} {% block swag_paypal_payment_detail_invoice_list_shipping %} <dt>{{ $t('swag-paypal-payment.paymentDetails.invoice.shipping') }}</dt> <dd> {{ amount.breakdown.shipping.value }} {{ currency }}</dd> {% endblock %} {% block swag_paypal_payment_detail_invoice_list_shipping_discount %} <template v-if="amount.breakdown.insurance"> <dt>{{ $t('swag-paypal-payment.paymentDetails.invoice.shipping_discount') }}</dt> <dd> {{ amount.breakdown.shipping_discount.value }} {{ currency }}</dd> </template> {% endblock %} </template> </sw-description-list> {% endblock %} {% block swag_paypal_payment_detail_payment %} {% block swag_paypal_payment_detail_payment_heading %} <h3 class="swag-paypal-payment-detail__heading"> {{ $t('swag-paypal-payment.paymentDetails.payment.heading') }} </h3> {% endblock %} {% block swag_paypal_payment_detail_payment_list %} <sw-description-list class="swag-paypal-payment-detail__data" grid="1fr 1fr"> {% block swag_paypal_payment_detail_payment_list_intent %} <dt>{{ $t('swag-paypal-payment.paymentDetails.payment.intent') }}</dt> <dd>{{ $t(\`swag-paypal-settings.options.intent.\${paypalOrder.intent}\`) }}</dd> {% endblock %} {% block swag_paypal_payment_detail_payment_list_id %} <dt>{{ $t('swag-paypal-payment.paymentDetails.payment.paymentId') }}</dt> <dd>{{ paypalOrder.id }}</dd> {% endblock %} {% block swag_paypal_payment_detail_payment_list_status %} <dt>{{ $t('swag-paypal-payment.paymentDetails.payment.state') }}</dt> <dd>{{ paypalOrder.status }}</dd> {% endblock %} {% block swag_paypal_payment_detail_payment_list_create_time %} <template v-if="createDateTime"> <dt>{{ $t('swag-paypal-payment.paymentDetails.payment.createTime') }}</dt> <dd>{{ createDateTime }}</dd> </template> {% endblock %} {% block swag_paypal_payment_detail_payment_list_update_time %} <template v-if="updateDateTime"> <dt>{{ $t('swag-paypal-payment.paymentDetails.payment.updateTime') }}</dt> <dd>{{ updateDateTime }}</dd> </template> {% endblock %} </sw-description-list> {% endblock %} {% endblock %} {% block swag_paypal_payment_detail_customer %} <template v-if="payerId"> {% block swag_paypal_payment_detail_customer_heading %} <h3 class="swag-paypal-payment-detail__heading"> {{ $t('swag-paypal-payment.paymentDetails.customer.heading') }} </h3> {% endblock %} {% block swag_paypal_payment_detail_customer_list %} <sw-description-list class="swag-paypal-payment-detail__data" grid="1fr 1fr"> <dt>{{ $t('swag-paypal-payment.paymentDetails.customer.payerId') }}</dt> <dd>{{ payerId }}</dd> </sw-description-list> {% endblock %} </template> {% endblock %} {% endblock %} </sw-card-section> </template> </mt-card> {% block swag_paypal_payment_pui_details %} <swag-paypal-pui-details v-if="puiDetails" :details="puiDetails" :purchase-unit-amount="amount" /> {% endblock %} {% block swag_paypal_payment_transaction_history_card %} <mt-card position-identifier="swag-paypal-payment-transaction-history-v2" :title="$t('swag-paypal-payment.transactionHistory.cardTitle')" > <template #grid> {% block swag_paypal_payment_transaction_history_grid %} <sw-data-grid :dataSource="payments" :columns="paymentColumns" :showActions="false" :showSelection="false" /> {% endblock %} </template> </mt-card> {% endblock %} </div> {% endblock %}`,{Component:Ck,Filter:kk}=Shopware;Ck.register("swag-paypal-payment-details-v2",{template:Pk,emits:["reload-paypal-order"],props:{paypalOrder:{type:Object,required:!0},orderTransaction:{type:Object,required:!0}},data(){return{payments:[],createDateTime:"",updateDateTime:"",currency:"",amount:{},payerId:"",refundableAmount:0,captureableAmount:0,showVoidButton:!1}},computed:{dateFilter(){return kk.getByName("date")},paymentColumns(){return[{property:"type",label:this.$t("swag-paypal-payment.transactionHistory.types.type"),rawData:!0},{property:"id",label:this.$t("swag-paypal-payment.transactionHistory.types.trackingId"),rawData:!0},{property:"total",label:this.$t("swag-paypal-payment.transactionHistory.types.amount"),rawData:!0},{property:"status",label:this.$t("swag-paypal-payment.transactionHistory.types.state"),rawData:!0},{property:"transactionFee",label:this.$t("swag-paypal-payment.transactionHistory.types.transactionFee"),rawData:!0},{property:"create",label:this.$t("swag-paypal-payment.transactionHistory.types.createTime"),rawData:!0},{property:"update",label:this.$t("swag-paypal-payment.transactionHistory.types.updateTime"),rawData:!0}]},puiDetails(){return this.orderTransaction.customFields.swag_paypal_pui_payment_instruction}},created(){this.createdComponent()},methods:{createdComponent(){var n;this.createDateTime=this.formatDate(this.paypalOrder.create_time),this.updateDateTime=this.formatDate(this.paypalOrder.update_time),this.amount=this.paypalOrder.purchase_units[0].amount,this.currency=this.amount.currency_code,this.payerId=((n=this.paypalOrder.payer)==null?void 0:n.payer_id)??"",this.setPayments()},setPayments(){const n=this.paypalOrder.purchase_units[0].payments;if(!n)return;const i=n.authorizations,r=n.captures,o=n.refunds;i&&i.forEach(c=>{this.pushPayment("authorization",c);const h=c.status;(h===dk||h===hk)&&(this.captureableAmount+=Number(c.amount.value),this.showVoidButton=!0),h===fk&&(this.showVoidButton=!0)}),r&&r.forEach(c=>{this.pushPayment("capture",c);const h=Number(c.amount.value);this.refundableAmount+=h,this.captureableAmount-=h}),o&&o.forEach(c=>{this.pushPayment("refund",c),this.refundableAmount-=Number(c.amount.value)}),this.refundableAmount=this.formatAmount(this.refundableAmount),this.captureableAmount=this.formatAmount(this.captureableAmount)},pushPayment(n,i){this.payments.push({id:i.id,type:this.$t(`swag-paypal-payment.transactionHistory.states.${n}`),total:`${i.amount.value} ${i.amount.currency_code}`,create:this.formatDate(i.create_time),createRaw:i.create_time,update:this.formatDate(i.update_time),transactionFee:this.getTransactionFee(n,i),status:i.status}),this.payments.sort((r,o)=>{const c=new Date(r.createRaw),h=new Date(o.createRaw);return c-h})},getTransactionFee(n,i){var r,o;if(n==="capture"){const c=(r=i.seller_receivable_breakdown)==null?void 0:r.paypal_fee;if(c)return`${c.value} ${c.currency_code}`}if(n==="refund"){const c=(o=i.seller_payable_breakdown)==null?void 0:o.paypal_fee;if(c)return`${c.value} ${c.currency_code}`}return null},formatDate(n){return this.dateFilter(n,{hour:"2-digit",minute:"2-digit",second:"2-digit"})},formatAmount(n){return+`${Math.round(`${n}e2`)}e-2`}}});const Ak=`{% block swag_paypal_pui_details %} <mt-card position-identifier="swag-paypal-pui-details" :title="$t('swag-paypal-payment.puiDetails.cardTitle')" > {% block swag_paypal_pui_details_textarea %} <div class="swag-paypal-pui-details__textarea"> <b>{{ $t('swag-paypal-payment.puiDetails.bank') }}</b> {{ bankName }}<br> <b>{{ $t('swag-paypal-payment.puiDetails.iban') }}</b> {{ iban }}<br> <b>{{ $t('swag-paypal-payment.puiDetails.bic') }}</b> {{ bic }}<br> <b>{{ $t('swag-paypal-payment.puiDetails.accountHolder') }}</b> {{ accountHolderName }}<br> <b>{{ $t('swag-paypal-payment.puiDetails.amount') }}</b> {{ amount }}<br> <b>{{ $t('swag-paypal-payment.puiDetails.reference') }}</b> {{ reference }}<br> </div> {% endblock %} {% block swag_paypal_pui_details_copy_button %} <mt-button class="swag-paypal-pui-details__copy-button" ghost size="small" variant="secondary" @click="onCopy" > {{ $t('swag-paypal-payment.puiDetails.buttonCopy') }} </mt-button> {% endblock %} </mt-card> {% endblock %}`,{Component:Ik}=Shopware,Ek=Shopware.Utils.dom;Ik.register("swag-paypal-pui-details",{template:Ak,props:{details:{type:Object,required:!0},purchaseUnitAmount:{type:Object,required:!0}},computed:{copyText(){return`${this.$t("swag-paypal-payment.puiDetails.bank")} ${this.bankName}
${this.$t("swag-paypal-payment.puiDetails.iban")} ${this.iban}
${this.$t("swag-paypal-payment.puiDetails.bic")} ${this.bic}
${this.$t("swag-paypal-payment.puiDetails.accountHolder")} ${this.accountHolderName}
${this.$t("swag-paypal-payment.puiDetails.amount")} ${this.amount}
${this.$t("swag-paypal-payment.puiDetails.reference")} ${this.reference}`},bankName(){return this.details.deposit_bank_details.bank_name},iban(){return this.details.deposit_bank_details.iban},bic(){return this.details.deposit_bank_details.bic},accountHolderName(){return this.details.deposit_bank_details.account_holder_name},reference(){return this.details.payment_reference},amount(){return`${this.purchaseUnitAmount.value} ${this.purchaseUnitAmount.currency_code}`}},methods:{async onCopy(){if(!(navigator!=null&&navigator.clipboard)){Ek.copyToClipboard(this.copyText);return}await navigator.clipboard.writeText(this.copyText)}}});const Tk=`{% block sw_order_detail_content_tabs_general %} {% parent %} <sw-tabs-item v-if="isPayPalPayment" :route="{ name: 'swag.paypal.payment.detail', params: { id: $route.params.id } }" :title="$t('swag-paypal-payment.tabs.order')" > {{ $t('swag-paypal-payment.tabs.order') }} </sw-tabs-item> {% endblock %} {% block sw_order_detail_actions_slot_smart_bar_actions %} <template v-if="isEditable"> {% parent %} </template> {% endblock %}`,{Component:xk}=Shopware,{isEmpty:Rk}=Shopware.Utils.types;xk.override("sw-order-detail",{template:Tk,computed:{isPayPalPayment(){var i,r,o,c;const n=(r=(i=this.order)==null?void 0:i.transactions)==null?void 0:r.last();return this.order&&!Rk(n)&&(((o=n==null?void 0:n.customFields)==null?void 0:o.swag_paypal_order_id)||((c=n==null?void 0:n.customFields)==null?void 0:c.swag_paypal_transaction_id))},isEditable(){return!this.isPayPalPayment||this.$route.name!=="swag.paypal.payment.detail"}}});const Lk=`{% block sw_order_detail_details_shipping_tracking_codes %} {% parent %} {% block sw_order_detail_details_shipping_paypal_carrier %} <div v-if="payPalResourceId" class="swag-paypal-order-carrier"> <mt-text-field v-model="payPalCarrier" disabled :label="$t('sw-order-detail.payPalCarrierLabel')" :helpText="$t('sw-order-detail.payPalCarrierHelpText')" :placeholder="$t('sw-order-detail.payPalCarrierPlaceholder')" /> <div class="swag-paypal-order-carrier__description" v-html="payPalCarrierDescription" /> </div> {% endblock %} {% endblock %}`,{Component:Dk}=Shopware;Dk.override("sw-order-detail-details",{template:Lk,inject:["systemConfigApiService"],data(){return{isPayPalSandbox:!1}},computed:{transaction(){var n;return(n=this.order)==null?void 0:n.transactions.last()},payPalResourceId(){var n,i;return(i=(n=this.transaction)==null?void 0:n.customFields)==null?void 0:i.swag_paypal_resource_id},payPalCarrier(){var n,i,r,o;return((o=(r=(i=(n=this.order)==null?void 0:n.deliveries)==null?void 0:i.first().shippingMethod)==null?void 0:r.customFields)==null?void 0:o.swag_paypal_carrier)??""},payPalOrderLink(){return`https://${this.isPayPalSandbox?"sandbox":"www"}.paypal.com/activity/payment/${this.payPalResourceId}`},payPalCarrierDescription(){return this.$t("sw-order-detail.payPalCarrierDescription",{orderLink:this.payPalOrderLink},1)}},watch:{payPalResourceId:{async handler(n){if(!n)return;const i=await this.systemConfigApiService.getValues("SwagPayPal.settings",this.order.salesChannelId);Object.hasOwn(i,"SwagPayPal.settings.sandbox")&&(this.isPayPalSandbox=i["SwagPayPal.settings.sandbox"]);const r=await this.systemConfigApiService.getValues("SwagPayPal.settings");this.isPayPalSandbox=r["SwagPayPal.settings.sandbox"]},immediate:!0}}});const $k=`{% block sw_order_detail_base_secondary_info_order_overview_right_column_slot %} {% parent %} {% block sw_detail_base_secondary_info_order_overview_paypal_carrier %} <template v-if="payPalResourceId"> <dt> {{ $t('sw-order-detail.payPalCarrierLabel') }} <sw-help-text :text="$t('sw-order-detail.payPalCarrierHelpText')" /> </dt> <dd> <div> {{ payPalCarrier ? payPalCarrier : $t('sw-order-detail.payPalCarrierPlaceholder') }} </div> <div class="sw-user-card__paypal-carrier-description" v-html="payPalCarrierDescription" /> </dd> </template> {% endblock %} {% endblock %}`,{Component:Ok}=Shopware;Ok.override("sw-order-user-card",{template:$k,inject:["systemConfigApiService"],data(){return{isPayPalSandbox:!1}},computed:{transaction(){var n;return(n=this.currentOrder.transactions)==null?void 0:n.last()},payPalResourceId(){var n,i;return(i=(n=this.transaction)==null?void 0:n.customFields)==null?void 0:i.swag_paypal_resource_id},payPalCarrier(){var n,i,r;return((r=(i=(n=this.delivery)==null?void 0:n.shippingMethod)==null?void 0:i.customFields)==null?void 0:r.swag_paypal_carrier)??""},payPalOrderLink(){return`https://${this.isPayPalSandbox?"sandbox":"www"}.paypal.com/activity/payment/${this.payPalResourceId}`},payPalCarrierDescription(){return this.$t("sw-order-detail.payPalCarrierDescription",{orderLink:this.payPalOrderLink},1)}},watch:{payPalResourceId:{async handler(n){if(!n)return;const i=await this.systemConfigApiService.getValues("SwagPayPal.settings",this.currentOrder.salesChannelId);Object.hasOwn(i,"SwagPayPal.settings.sandbox")&&(this.isPayPalSandbox=i["SwagPayPal.settings.sandbox"]);const r=await this.systemConfigApiService.getValues("SwagPayPal.settings");this.isPayPalSandbox=r["SwagPayPal.settings.sandbox"]},immediate:!0}}});const zk=`{% block swag_paypal_payment_detail %} <div v-if="isLoading || loading" class="swag-paypal-payment-detail"> {% block swag_paypal_payment_detail_loading_state %} <sw-skeleton /> <sw-skeleton /> {% endblock %} </div> <div v-else-if="!hasPayPalDetails" class="swag-paypal-payment-detail"> {% block swag_paypal_payment_detail_error_page %} {% block swag_paypal_payment_detail_error_page_cancelled %} <sw-empty-state v-if="stateFailedCancelled" :title="$t('swag-paypal-payment.errorPage.title')" :subline="$t('swag-paypal-payment.errorPage.canceledPaymentContent')" :absolute="false" icon="regular-shopping-bag" color="#A092F0" /> {% endblock %} {% block swag_paypal_payment_detail_error_page_other %} <sw-empty-state v-else :title="$t('swag-paypal-payment.errorPage.title')" :subline="$t('swag-paypal-payment.errorPage.other')" :absolute="false" icon="regular-shopping-bag" color="#A092F0" /> {% endblock %} {% endblock %} </div> <div v-else class="swag-paypal-payment-detail"> {% block swag_paypal_payment_detail_components %} {% block swag_paypal_payment_detail_details_v1 %} <swag-paypal-payment-details-v1 v-if="!!paymentResource" :paymentResource="paymentResource" :orderId="order.id" /> {% endblock %} {% block swag_paypal_payment_detail_details_v2 %} <swag-paypal-payment-details-v2 v-if="!!paypalOrder" :paypalOrder="paypalOrder" :orderTransaction="orderTransaction" :orderTransactionId="orderTransaction.id" :paypalPartnerAttributionId="orderTransaction.customFields.swag_paypal_partner_attribution_id" @reloadPaypalOrder="fetchPayPalDetails" /> {% endblock %} {% endblock %} </div> {% endblock %}`,{Component:Nk,Filter:Bk}=Shopware,{isEmpty:Fk}=Shopware.Utils.types;Nk.register("swag-paypal-payment-detail",{template:zk,inject:["SwagPayPalPaymentService","SwagPayPalOrderService","repositoryFactory"],mixins:[Shopware.Mixin.getByName("notification")],props:{isLoading:{type:Boolean,required:!0}},data(){return{loading:!1,paypalOrder:null,paymentResource:null}},computed:{order(){return Shopware.Store.get("swOrderDetail").order},orderTransaction(){return this.order.transactions.last()},dateFilter(){return Bk.getByName("date")},stateFailedCancelled(){return["cancelled","failed"].includes(this.orderTransaction.stateMachineState.technicalName)},hasPayPalDetails(){return!!this.paypalOrder||!!this.paymentResource}},watch:{order:{immediate:!0,handler(){this.paypalOrder=null,this.paymentResource=null,this.fetchPayPalDetails()}}},methods:{async fetchPayPalDetails(){if(!this.order||Fk(this.orderTransaction.customFields))return;this.loading=!0;const n=this.orderTransaction.customFields.swag_paypal_transaction_id;n&&await this.handlePayPalPayment(n);const i=this.orderTransaction.customFields.swag_paypal_order_id;i&&await this.handlePayPalOrder(i)},handlePayPalOrder(n){return this.SwagPayPalOrderService.getOrderDetails(this.orderTransaction.id,n).then(i=>{this.paypalOrder=i,this.loading=!1}).catch(this.handleError)},handlePayPalPayment(n){return this.SwagPayPalPaymentService.getPaymentDetails(this.order.id,n).then(i=>{this.paymentResource=i,this.loading=!1}).catch(this.handleError)},handleError(n){try{this.createNotificationError({message:`${this.$t("swag-paypal-payment.paymentDetails.error.title")}: ${n.response.data.errors[0].detail}`,autoClose:!1})}catch{this.createNotificationError({message:`${this.$t("swag-paypal-payment.paymentDetails.error.title")}: ${n.message}`,autoClose:!1})}finally{this.loading=!1}}}});const{Module:Mk}=Shopware;Mk.register("swag-paypal-payment",{type:"plugin",name:"SwagPayPal",title:"swag-paypal-payment.general.title",description:"swag-paypal-payment.general.descriptionTextModule",version:"1.0.0",targetVersion:"1.0.0",color:"#2b52ff",routeMiddleware(n,i){i.name==="sw.order.detail"&&i.children.push({component:"swag-paypal-payment-detail",name:"swag.paypal.payment.detail",isChildren:!0,path:"/sw/order/detail/:id/paypal",meta:{parentPath:"sw.order.index",privilege:"order.viewer"}}),n(i)}});const qk='{% block swag_paypal_pos_status %} <mt-card position-identifier="swag-paypal-pos-status" :class="statusClasses" :isLoading="isLoading" :title="title"> {% block swag_paypal_pos_status_icon %} <div class="swag-paypal-pos-status__icon-base"> <mt-icon :class="iconClasses" :name="icon" /> </div> {% endblock %} {% block swag_paypal_pos_status_status %} <div class="swag-paypal-pos-status__status"> <slot name="status"> {{ status }} </slot> </div> {% endblock %} {% block swag_paypal_pos_status_detail %} <div class="swag-paypal-pos-status__detail"> <slot name="detail" /> </div> {% endblock %} {% block swag_paypal_pos_status_substatus %} <div v-if="showSubStatus" class="swag-paypal-pos-status__substatus"> {% block swag_paypal_pos_status_substatus_icon %} <mt-icon v-if="showSubIcon" :class="subIconClasses" :name="subIcon" /> {% endblock %} {% block swag_paypal_pos_status_substatus_content %} <span> <slot name="substatus" /> </span> {% endblock %} </div> {% endblock %} {% block swag_paypal_pos_status_actions %} <div class="swag-paypal-pos-status__actions"> <slot name="actions" /> </div> {% endblock %} {% block swag_paypal_pos_status_disabled %} <div v-if="disabled" class="swag-paypal-pos-status__disabled"> <slot name="disabledText"> {{ disabledText }} </slot> </div> {% endblock %} </mt-card> {% endblock %}',{Component:Uk}=Shopware;Uk.register("swag-paypal-pos-status",{template:qk,props:{title:{type:String,required:!1,default:""},status:{type:String,required:!0},disabled:{type:Boolean,required:!1,default:!1},disabledText:{type:String,required:!1,default:""},icon:{type:String,required:!0},iconAnimated:{type:Boolean,required:!1,default:!1},subIcon:{type:String,required:!1,default:""},showSubStatus:{type:Boolean,required:!1,default:!1},isLoading:{type:Boolean,required:!0},variant:{type:String,default:"info",validValues:["info","warning","error","success"],validator(n){return["info","warning","error","success"].includes(n)}},subVariant:{type:String,default:"info",validValues:["info","warning","error","success"],validator(n){return["info","warning","error","success"].includes(n)}}},computed:{statusClasses(){return{"swag-paypal-pos-status":!0,[`swag-paypal-pos-status--${this.variant}`]:!0,"swag-paypal-pos-status--disabled":this.disabled}},iconClasses(){return{"swag-paypal-pos-status__icon":!0,"swag-paypal-pos-status__icon-animated":this.iconAnimated}},subIconClasses(){return["swag-paypal-pos-status__subicon",`swag-paypal-pos-status--${this.subVariant}`]},showSubIcon(){return this.subIcon!==null&&this.subIcon!==void 0&&this.subIcon!==this.icon}}});const Wk=`{% block swag_paypal_pos_account %} <mt-card class="swag-paypal-pos-account" position-identifier="swag-paypal-pos-account" :title="$t('sw-sales-channel.detail.titleAccount')" :isLoading="isLoading"> {% block swag_paypal_pos_account_grid %} <sw-container columns="min-content 1fr" align="center"> {% block swag_paypal_pos_account_grid_logo %} <img class="swag-paypal-pos-account__logo" alt="Zettle Logo" :src="assetFilter('/swagpaypal/administration/static/img/paypal-pos-logo.svg')"> {% endblock %} {% block swag_paypal_pos_account_grid_container %} <div class="swag-paypal-pos-account__container"> {% block swag_paypal_pos_account_grid_container_info %} <div class="swag-paypal-pos-account__account-info"> {% block swag_paypal_pos_account_grid_container_info_name %} <div class="swag-paypal-pos-account__name"> {{ accountName }} </div> {% endblock %} {% block swag_paypal_pos_account_grid_container_info_email %} <div class="swag-paypal-pos-account__email"> {{ accountEmail }} </div> {% endblock %} {% block swag_paypal_pos_account_grid_container_info_link %} <sw-external-link href="https://my.zettle.com" class="swag-paypal-pos-account__manage-link"> {% block swag_paypal_pos_account_grid_container_info_link_text %} {{ $t('swag-paypal-pos.account.manageAccount') }} {% endblock %} </sw-external-link> {% endblock %} {% block swag_paypal_pos_account_grid_container_info_edit_button %} {# ToDo PPI-109 - Implement edit connection functionality #} <mt-button v-if="false" class="swag-paypal-pos-account__edit-connection-button" size="small" block variant="secondary"> {{ $t('swag-paypal-pos.account.editConnection') }} </mt-button> {% endblock %} </div> {% endblock %} {% block swag_paypal_pos_account_grid_container_status %} <div class="swag-paypal-pos-account__status-container"> {% block swag_paypal_pos_account_grid_container_status_label %} <sw-label class="swag-paypal-pos-account__status-label" size="medium" appearance="pill" :variant="connectionStatusVariant" :ghost="false" :caps="false"> {% block swag_paypal_pos_account_grid_container_status_label_badge %} <sw-color-badge class="swag-paypal-pos-account__status-color-badge" rounded :variant="connectionStatusVariant" /> {% endblock %} {% block swag_paypal_pos_account_grid_container_status_label_text %} <span class="swag-paypal-pos-account__status-text"> {{ connectionStatusText }} </span> {% endblock %} </sw-label> {% endblock %} {% block swag_paypal_pos_account_grid_container_status_updated %} <div v-if="lastRun" class="swag-paypal-pos-account__status-updated"> {{ $t('swag-paypal-pos.account.lastUpdated') }} {{ dateFilter(lastRun.updatedAt, { hour: '2-digit', minute: '2-digit', second: '2-digit', day: '2-digit', month: 'short', year: 'numeric' }) }} </div> {% endblock %} </div> {% endblock %} </div> {% endblock %} </sw-container> {% endblock %} </mt-card> {% endblock %}`,{Component:Gk}=Shopware;Gk.register("swag-paypal-pos-account",{template:Wk,inject:["SwagPayPalPosSettingApiService","repositoryFactory"],props:{salesChannel:{type:Object,require:!1,default:null},lastRun:{type:Object,require:!1,default:null}},data(){return{isLoading:!1,isError:!1,merchantInfo:null}},computed:{assetFilter(){return Shopware.Filter.getByName("asset")},accountName(){return this.isError?this.$t("swag-paypal-pos.account.errorName"):this.merchantInfo?this.merchantInfo.name:this.$t("swag-paypal-pos.account.loadingName")},accountEmail(){return this.isError?this.$t("swag-paypal-pos.account.errorEmail"):this.merchantInfo?this.merchantInfo.contactEmail:this.$t("swag-paypal-pos.account.loadingEmail")},connectionStatusText(){return this.isError?this.$t("swag-paypal-pos.account.noConnectionStatus"):this.$t("swag-paypal-pos.account.connectedStatus")},connectionStatusVariant(){return this.isError?"danger":"success"},runRepository(){return this.repositoryFactory.create("swag_paypal_pos_sales_channel_run")},dateFilter(){return Shopware.Filter.getByName("date")}},watch:{salesChannel(){this.loadMerchantData()}},created(){this.createdComponent()},methods:{createdComponent(){this.loadMerchantData()},loadMerchantData(){return this.isError=!1,this.isLoading=!0,this.salesChannel===null?Promise.resolve():this.SwagPayPalPosSettingApiService.fetchInformation(this.salesChannel).then(({merchantInformation:n})=>{this.merchantInfo=n,this.isError=!1}).catch(()=>{this.merchantInfo=null,this.isError=!0}).finally(()=>{this.isLoading=!1})}}});const Hk=`{% block swag_paypal_pos_status_view %} <swag-paypal-pos-status :disabled="disabled" :disabledText="$t('swag-paypal-pos.detail.overview.status.disabled')" :icon="statusIcon" :subIcon="statusIconComplete" :iconAnimated="isSyncing" :isLoading="isLoading || status === null" :status="statusTitle" :showSubStatus="incompleteLastRun" :title="$t('swag-paypal-pos.detail.overview.titleSync')" :variant="statusVariant" :subVariant="statusCompleteErrorLevel"> {% block swag_paypal_pos_status_view_actions %} <template #actions> <slot name="actions" /> </template> {% endblock %} {% block swag_paypal_pos_status_view_detail %} <template v-if="isSyncing" #detail> {% block swag_paypal_pos_status_view_detail_syncing %} {{ $t('swag-paypal-pos.detail.overview.status.syncingDetail') }} {% endblock %} </template> <template v-if="!isSyncing && lastFinishedRun" #detail> <div> {% block swag_paypal_pos_status_view_detail_static %} {{ $t('swag-paypal-pos.detail.overview.status.lastSynced') }}: {{ dateFilter(lastFinishedRun.updatedAt, { hour: '2-digit', minute: '2-digit', second: '2-digit', day: '2-digit', month: 'short', year: 'numeric' }) }} {% endblock %} </div> {% block swag_paypal_pos_status_view_detail_errors %} <mt-banner v-if="syncErrors" variant="critical" :closable="true" :title="$t('swag-paypal-pos.detail.overview.syncErrorTitle')"> <ul> <li v-for="error in syncErrors"> {{ error.detail }} ({{ error.code }}) </li> </ul> </mt-banner> {% endblock %} </template> {% endblock %} {% block swag_paypal_pos_status_view_substatus %} <template v-if="incompleteLastRun" #substatus> {{ $t('swag-paypal-pos.detail.overview.status.lastSyncedComplete') }}: {{ dateFilter(lastCompleteRun.updatedAt, { hour: '2-digit', minute: '2-digit', second: '2-digit', day: '2-digit', month: 'short', year: 'numeric' }) }} </template> {% endblock %} </swag-paypal-pos-status> {% endblock %}`,{Component:Vk}=Shopware;Vk.register("swag-paypal-pos-status-view",{template:Hk,props:{lastFinishedRun:{type:Object,required:!1,default:null},lastCompleteRun:{type:Object,required:!1,default:null},isLoading:{type:Boolean,default:!1},isSyncing:{type:Boolean,default:!1},salesChannel:{type:Object,required:!1,default:null},syncErrors:{type:Array,required:!1,default:null}},data(){return{statusErrorLevel:null,statusCompleteErrorLevel:null,iconConfig:{syncing:"regular-sync",warning:"regular-exclamation-triangle",error:"regular-times-xs",success:"regular-checkmark",noRunYet:"regular-blocked-circle"}}},computed:{status(){return this.isSyncing?"syncing":this.noRunYet?"noRunYet":this.statusErrorLevel},statusVariant(){return this.isSyncing||this.noRunYet?"info":this.statusErrorLevel},statusIcon(){return this.iconConfig[this.status]||"regular-info-circle"},statusIconComplete(){return this.iconConfig[this.statusCompleteErrorLevel]},noRunYet(){return this.salesChannel===null||this.salesChannel.id===null||this.lastFinishedRun===null},incompleteLastRun(){return this.salesChannel!==null&&this.salesChannel.id!==null&&this.lastFinishedRun!==null&&this.lastCompleteRun!==null&&this.lastFinishedRun.id!==this.lastCompleteRun.id},statusTitle(){let n=this.$t(`swag-paypal-pos.detail.overview.status.message.${this.status}`);if(this.incompleteLastRun){const i=this.$t(`swag-paypal-pos.detail.overview.status.task.${this.lastFinishedRun.task}`);this.isSyncing||(n+=` (${i})`)}return this.lastFinishedRun&&this.lastFinishedRun.status==="cancelled"&&!this.isSyncing&&(n=this.$t("swag-paypal-pos.detail.overview.status.message.aborted")),n},disabled(){return this.salesChannel!==null&&this.salesChannel.id!==null&&this.salesChannel.active===!1},dateFilter(){return Shopware.Filter.getByName("date")}},watch:{lastFinishedRun:{handler(){this.statusErrorLevel=this.getHighestLevel(this.lastFinishedRun)},immediate:!0},lastCompleteRun:{handler(){this.statusCompleteErrorLevel=this.getHighestLevel(this.lastCompleteRun)},immediate:!0}},methods:{getHighestLevel(n){if(n===null)return null;if(n.status==="cancelled")return"info";const i=Math.max(...n.logs.map(r=>r.level));return i>=400?"error":i>=300?"warning":"success"}}});const Kk='{% block swag_paypal_pos_boolean_radio %} <sw-radio-field v-model:value="castedValue" v-bind="$attrs" class="swag-paypal-pos-boolean-radio" :name="name" :options="options" /> {% endblock %}',{Component:Zk}=Shopware,jk=Shopware.Utils;Zk.register("swag-paypal-pos-boolean-radio",{template:Kk,inject:["feature"],emits:["update:value"],props:{value:{type:Boolean,required:!1,default:!1},optionTrue:{type:Object,required:!0,validator(n){return Object.hasOwn(n,"name")}},optionFalse:{type:Object,required:!0,validator(n){return Object.hasOwn(n,"name")}}},data(){return{inputId:jk.createId()}},computed:{options(){return[{value:!0,...this.optionTrue},{value:!1,...this.optionFalse}]},castedValue:{get(){return this.value},set(n){this.$emit("update:value",n)}},name(){return`swag-paypal-pos-boolean-radio-${this.inputId}`}}});const Yk=`{% block swag_paypal_pos_detail_logs %} {% block swag_paypal_pos_detail_logs_grid %} <sw-data-grid identifier="swag-paypal-pos-detail-logs" :columns="columns" :dataSource="logs" :isLoading="isLoading || loadingLogs" :showActions="true" :showSelection="false" :showSettings="true" :allowColumnEdit="true" :sortBy="sortBy" :sortDirection="sortDirection" :skeletonItemAmount="limit" @column-sort="onSortColumn"> {% block swag_paypal_pos_detail_logs_grid_pagination %} <template #pagination> <sw-pagination :limit="limit" :page="page" :total="total" :total-visible="7" @page-change="onPageChange" /> </template> {% endblock %} {% block swag_paypal_pos_detail_logs_grid_column_date %} <template #column-date="{ item }"> {% block swag_paypal_pos_detail_logs_grid_column_date_formatted %} <template v-if="item.createdAt"> {{ dateFilter(item.createdAt, { hour: '2-digit', minute: '2-digit', day: '2-digit', month: '2-digit', year: '2-digit' }) }} </template> {% endblock %} {% block swag_paypal_pos_detail_logs_grid_column_date_empty %} <template v-else> {{ $t('swag-paypal-pos.detail.logs.noEntry') }} </template> {% endblock %} </template> {% endblock %} {% block swag_paypal_pos_detail_logs_grid_column_state %} <template #column-state="{ item }"> {% block swag_paypal_pos_detail_logs_grid_column_state_label %} <sw-label v-if="item.level" appearance="pill" :variant="getLabelVariantForItem(item)"> {{ $t(getLabelForItem(item)) }} </sw-label> {% endblock %} </template> {% endblock %} </sw-data-grid> {% endblock %} {% endblock %}`,{Component:Xk,Context:Jk}=Shopware,{Criteria:Ba}=Shopware.Data;Xk.register("swag-paypal-pos-detail-logs",{template:Yk,inject:["SwagPayPalPosApiService","repositoryFactory"],mixins:[Shopware.Mixin.getByName("notification"),Shopware.Mixin.getByName("swag-paypal-pos-log-label"),Shopware.Mixin.getByName("listing")],props:{runId:{type:String,required:!0}},data(){return{logs:[],limit:10,sortBy:"createdAt",sortDirection:"DESC",loadingLogs:!1,isLoading:!1,disableRouteParams:!0}},computed:{logRepository(){return this.repositoryFactory.create("swag_paypal_pos_sales_channel_run_log")},columns(){return[{property:"date",dataIndex:"createdAt",label:"swag-paypal-pos.detail.syncedProducts.columns.date",width:"140px",sortable:!0},{property:"state",dataIndex:"level",label:"swag-paypal-pos.detail.syncedProducts.columns.state",width:"120px",sortable:!0},{property:"message",dataIndex:"message",label:"swag-paypal-pos.detail.logs.columnLastSync",sortable:!0}]},dateFilter(){return Shopware.Filter.getByName("date")}},methods:{getListCriteria(){const n=this.getMainListingParams(),i=new Ba(this.page,this.limit);return i.addFilter(Ba.equals("runId",this.runId)),i.addAssociation("posSalesChannelRun"),i.addSorting(Ba.sort(n.sortBy,n.sortDirection,n.naturalSorting)),i.addSorting(Ba.sort("level","DESC")),i.addSorting(Ba.sort("createdAt","DESC")),i},getList(){return this.loadingLogs=!0,this.logRepository.search(this.getListCriteria(),Jk.api).then(n=>{this.logs=n,this.total=n.total,this.page=n.criteria.page,this.limit=n.criteria.limit,this.loadingLogs=!1})},getLabelVariantForItem(n){return n.posSalesChannelRun&&n.posSalesChannelRun.status==="cancelled"?"info":this.getLabelVariant(n.level)},getLabelForItem(n){return n.posSalesChannelRun&&n.posSalesChannelRun.status==="cancelled"?"swag-paypal-pos.detail.logs.states.aborted":this.getLabel(n.level)}}});const Qk=`{% block swag_paypal_pos_getting_started %} <mt-card position-identifier="swag-paypal-pos-getting-started" :title="$t('swag-paypal-pos.gettingStarted.cardTitle')"> {% block swag_paypal_pos_getting_started_reader %} <sw-container class="swag-paypal-pos-getting-started__container-reader" columns="1fr 3fr" justify="left" align="center"> {% block swag_paypal_pos_getting_started_reader_image %} <img class="swag-paypal-pos-getting-started__image" :src="assetFilter('swagpaypal/administration/static/img/paypal-pos-reader.png')" :alt="$t('swag-paypal-pos.gettingStarted.readerImageAlt')"> {% endblock %} {% block swag_paypal_pos_getting_started_reader_description %} <div class="swag-paypal-pos-getting-started__description"> {% block swag_paypal_pos_getting_started_reader_description_headline %} <div class="swag-paypal-pos-getting-started__description-headline"> {{ $t('swag-paypal-pos.gettingStarted.readerHeadline') }} </div> {% endblock %} {% block swag_paypal_pos_getting_started_reader_description_text %} <div class="swag-paypal-pos-getting-started__description-text"> {{ $t('swag-paypal-pos.gettingStarted.readerText') }} {% block swag_paypal_pos_getting_started_reader_description_link %} <sw-external-link :href="$t('swag-paypal-pos.gettingStarted.readerLinkTarget')" class="swag-paypal-pos-getting-started__description-text-link"> {{ $t('swag-paypal-pos.gettingStarted.readerLinkText') }} </sw-external-link> {% endblock %} </div> {% endblock %} </div> {% endblock %} </sw-container> {% endblock %} {% block swag_paypal_pos_getting_started_app %} <sw-container class="swag-paypal-pos-getting-started__container-app" columns="1fr 3fr" justify="left" align="center"> {% block swag_paypal_pos_getting_started_app_image %} <img class="swag-paypal-pos-getting-started__image" :src="assetFilter('swagpaypal/administration/static/img/paypal-pos-app.png')" :alt="$t('swag-paypal-pos.gettingStarted.appImageAlt')"> {% endblock %} {% block swag_paypal_pos_getting_started_app_description %} <div class="swag-paypal-pos-getting-started__description "> {% block swag_paypal_pos_getting_started_app_description_headline %} <div class="swag-paypal-pos-getting-started__description-headline"> {{ $t('swag-paypal-pos.gettingStarted.appHeadline') }} </div> {% endblock %} {% block swag_paypal_pos_getting_started_app_description_text %} <div class="swag-paypal-pos-getting-started__description-text" v-html="$t('swag-paypal-pos.gettingStarted.appText')" /> {% endblock %} </div> {% endblock %} </sw-container> {% endblock %} </mt-card> {% endblock %}`,{Component:eA}=Shopware;eA.register("swag-paypal-pos-getting-started",{template:Qk,computed:{assetFilter(){return Shopware.Filter.getByName("asset")}}});const tA=`{% block swag_paypal_pos_continue_setup %} <mt-card position-identifier="swag-paypal-pos-continue-setup" :title="$t('swag-paypal-pos.detail.overview.continueSetup.cardTitle')"> {% block swag_paypal_pos_continue_setup_container %} <div class="swag-paypal-pos__continue-setup"> {% block swag_paypal_pos_continue_setup_container_headline %} <h6>{{ $t('swag-paypal-pos.detail.overview.continueSetup.content.headline') }}</h6> {% endblock %} {% block swag_paypal_pos_continue_setup_container_firstLine %} <p>{{ $t('swag-paypal-pos.detail.overview.continueSetup.content.firstLine') }}</p> {% endblock %} {% block swag_paypal_pos_continue_setup_container_secondLine %} <p>{{ $t('swag-paypal-pos.detail.overview.continueSetup.content.secondLine') }}</p> {% endblock %} </div> {% endblock %} {% block swag_paypal_pos_continue_setup_button %} <mt-button ghost variant="secondary" @click="onContinueSetup" > {{ $t('swag-paypal-pos.detail.overview.continueSetup.content.headline') }} </mt-button> {% endblock %} </mt-card> {% endblock %}`,{Component:nA}=Shopware;nA.register("swag-paypal-pos-continue-setup",{template:tA,methods:{onContinueSetup(){this.$router.push({name:"swag.paypal.pos.wizard.customization",params:{id:this.$route.params.id}})}}});const aA=`<mt-text-field v-bind="$attrs" :model-value="value" @update:model-value="updateValue" > <template #prefix> <mt-icon name="solid-lock" color="var(--color-icon-positive-default)" size="var(--scale-size-12)" aria-hidden="true" /> https:// </template> <template #hint> <p v-if="url === null" style="color: var(--color-text-critical-default)"> {{ $t('swag-paypal-pos.detail.settings.domainError') }} </p> </template> </mt-text-field>`,ca=2147483647,Ft=36,Wc=1,ja=26,rA=38,iA=700,Cg=72,kg=128,Ag="-",sA=/^xn--/,oA=/[^\0-\x7F]/,lA=/[\x2E\u3002\uFF0E\uFF61]/g,cA={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},wc=Ft-Wc,Mt=Math.floor,bc=String.fromCharCode;function kn(n){throw new RangeError(cA[n])}function uA(n,i){const r=[];let o=n.length;for(;o--;)r[o]=i(n[o]);return r}function Ig(n,i){const r=n.split("@");let o="";r.length>1&&(o=r[0]+"@",n=r[1]),n=n.replace(lA,".");const c=n.split("."),h=uA(c,i).join(".");return o+h}function Eg(n){const i=[];let r=0;const o=n.length;for(;r<o;){const c=n.charCodeAt(r++);if(c>=55296&&c<=56319&&r<o){const h=n.charCodeAt(r++);(h&64512)==56320?i.push(((c&1023)<<10)+(h&1023)+65536):(i.push(c),r--)}else i.push(c)}return i}const pA=n=>String.fromCodePoint(...n),dA=function(n){return n>=48&&n<58?26+(n-48):n>=65&&n<91?n-65:n>=97&&n<123?n-97:Ft},Uf=function(n,i){return n+22+75*(n<26)-((i!=0)<<5)},Tg=function(n,i,r){let o=0;for(n=r?Mt(n/iA):n>>1,n+=Mt(n/i);n>wc*ja>>1;o+=Ft)n=Mt(n/wc);return Mt(o+(wc+1)*n/(n+rA))},xg=function(n){const i=[],r=n.length;let o=0,c=kg,h=Cg,_=n.lastIndexOf(Ag);_<0&&(_=0);for(let g=0;g<_;++g)n.charCodeAt(g)>=128&&kn("not-basic"),i.push(n.charCodeAt(g));for(let g=_>0?_+1:0;g<r;){const w=o;for(let y=1,v=Ft;;v+=Ft){g>=r&&kn("invalid-input");const T=dA(n.charCodeAt(g++));T>=Ft&&kn("invalid-input"),T>Mt((ca-o)/y)&&kn("overflow"),o+=T*y;const B=v<=h?Wc:v>=h+ja?ja:v-h;if(T<B)break;const K=Ft-B;y>Mt(ca/K)&&kn("overflow"),y*=K}const b=i.length+1;h=Tg(o-w,b,w==0),Mt(o/b)>ca-c&&kn("overflow"),c+=Mt(o/b),o%=b,i.splice(o++,0,c)}return String.fromCodePoint(...i)},Rg=function(n){const i=[];n=Eg(n);const r=n.length;let o=kg,c=0,h=Cg;for(const w of n)w<128&&i.push(bc(w));const _=i.length;let g=_;for(_&&i.push(Ag);g<r;){let w=ca;for(const y of n)y>=o&&y<w&&(w=y);const b=g+1;w-o>Mt((ca-c)/b)&&kn("overflow"),c+=(w-o)*b,o=w;for(const y of n)if(y<o&&++c>ca&&kn("overflow"),y===o){let v=c;for(let T=Ft;;T+=Ft){const B=T<=h?Wc:T>=h+ja?ja:T-h;if(v<B)break;const K=v-B,O=Ft-B;i.push(bc(Uf(B+K%O,0))),v=Mt(K/O)}i.push(bc(Uf(v,0))),h=Tg(c,b,g===_),c=0,++g}++c,++o}return i.join("")},hA=function(n){return Ig(n,function(i){return sA.test(i)?xg(i.slice(4).toLowerCase()):i})},fA=function(n){return Ig(n,function(i){return oA.test(i)?"xn--"+Rg(i):i})},gA={version:"2.3.1",ucs2:{decode:Eg,encode:pA},decode:xg,encode:Rg,toASCII:fA,toUnicode:hA};Shopware.Component.register("swag-paypal-pos-url-field",{template:aA,emits:["update:model-value"],props:{modelValue:{type:String,required:!1,default:null}},data(){return{value:""}},computed:{url(){if(!this.value)return"";try{const n=new URL(this.value.startsWith("http")?this.value:`https://${this.value}`);return n.protocol="https:",n.toString().replace(n.hash||n.search?"":/\/$/,"")}catch{return null}}},watch:{modelValue:{handler(n){this.updateValue(n??"")},immediate:!0},url(n){n!==null&&this.$emit("update:model-value",n)}},methods:{updateValue(n){this.value=decodeURI(gA.toUnicode(n.replace(/^https?:\/\//,"")))}}});const Gc="1ce0868f406d47d98cfe4b281e62f099",Lg="paypalPosSalesChannel",{Component:_A}=Shopware;_A.override("sw-sales-channel-menu",{computed:{buildMenuTree(){const n=this.$super("buildMenuTree"),i=[];return this.salesChannels.forEach(r=>{r.type.id===Gc&&i.push(r.id)}),n.forEach(r=>{i.includes(r.id)&&(r.path="swag.paypal.pos.detail")}),n}}});const{Component:yA}=Shopware;yA.override("sw-sales-channel-modal",{methods:{onAddChannel(n){if(this.isPayPalPosSalesChannel(n)){this.onCloseModal(),this.$router.push({name:"swag.paypal.pos.wizard"});return}this.$super("onAddChannel",n)},isPayPalPosSalesChannel(n){return n===Gc}}});const mA=`{% block swag_paypal_pos %} <sw-page class="swag-paypal-pos"> {% block swag_paypal_pos_header %} <template #smart-bar-header> <h2> {{ $t('swag-paypal-pos.header') }} </h2> </template> {% endblock %} {% block swag_paypal_pos_actions %} <template #smart-bar-actions> <mt-button v-for="button in buttonConfig" size="small" :disabled="button.disabled" :isLoading="button.isLoading || isLoading" :variant="button.variant" @click="onButtonClick(button.action)"> {{ button.label }} </mt-button> </template> {% endblock %} {% block swag_paypal_pos_content %} <template #content> <sw-card-view> {% block swag_paypal_pos_content_tabs %} <sw-tabs v-if="!isLoading" position-identifier="swag_paypal_pos_content_tabs" class="swag-paypal-pos__tabs"> {% block swag_paypal_pos_content_tab_base %} <sw-tabs-item :route="{ name: 'swag.paypal.pos.detail.overview', params: { id: $route.params.id } }" :title="$t('swag-paypal-pos.tabTitle.overview')"> {{ $t('swag-paypal-pos.tabTitle.overview') }} </sw-tabs-item> {% endblock %} {% block swag_paypal_pos_content_tab_synced_products %} <sw-tabs-item :route="{ name: 'swag.paypal.pos.detail.syncedProducts', params: { id: $route.params.id } }" :title="$t('swag-paypal-pos.tabTitle.syncedProducts')"> {{ $t('swag-paypal-pos.tabTitle.syncedProducts') }} </sw-tabs-item> {% endblock %} {% block swag_paypal_pos_content_tab_settings %} <sw-tabs-item :route="{ name: 'swag.paypal.pos.detail.settings', params: { id: $route.params.id } }" :title="$t('swag-paypal-pos.tabTitle.settings')"> {{ $t('swag-paypal-pos.tabTitle.settings') }} </sw-tabs-item> {% endblock %} {% block swag_paypal_pos_content_tab_runs %} <sw-tabs-item :route="{ name: 'swag.paypal.pos.detail.runs', params: { id: $route.params.id } }" :title="$t('swag-paypal-pos.tabTitle.runs')"> {{ $t('swag-paypal-pos.tabTitle.runs') }} </sw-tabs-item> {% endblock %} {% block swag_paypal_pos_content_tab_help %} <sw-tabs-item href="https://www.izettle.com/help/articles/1083274-what-is-pos" target="_blank" class="swag-paypal-pos__tab-help" :title="$t('swag-paypal-pos.tabTitle.help')"> {{ $t('swag-paypal-pos.tabTitle.help') }} </sw-tabs-item> {% endblock %} </sw-tabs> {% endblock %} {% block swag_paypal_pos_content_account %} <swag-paypal-pos-account :lastRun="lastRun" :salesChannel="salesChannel" /> {% endblock %} {% block swag_paypal_pos_content_card %} <router-view v-if="!isLoading" :key="$route.params.id" v-slot="{ Component }"> <component :is="Component" :salesChannel="salesChannel" :cloneSalesChannelId="cloneSalesChannelId" :lastRun="lastRun" :lastCompleteRun="lastCompleteRun" @buttons-update="updateButtons" @load-sales-channel="loadSalesChannel" @run-update="loadLastRun" @update-clone-sales-channel="updateCloneSalesChannel" /> </router-view> <sw-loader v-if="isLoading" /> {% endblock %} {% block swag_paypal_pos_disclaimer %} <div v-show="!isLoading" class="swag-paypal-pos__disclaimer"> {% block swag_paypal_pos_disclaimer_title %} <div class="swag-paypal-pos__disclaimer-title disclaimer-content"> {{ $t('swag-paypal-pos.detail.disclaimer.headline') }} </div> {% endblock %} {% block swag_paypal_pos_disclaimer_subtitle %} <div class="swag-paypal-pos__disclaimer-subtitle disclaimer-content"> {{ $t('swag-paypal-pos.detail.disclaimer.subheadline') }} </div> {% endblock %} {% block swag_paypal_pos_disclaimer_link %} <a :href="$t('swag-paypal-pos.detail.disclaimer.linkTarget')" class="link swag-paypal-pos__disclaimer-link disclaimer-content" target="_blank"> {{ $t('swag-paypal-pos.detail.disclaimer.linkText') }} </a> {% endblock %} </div> {% endblock %} </sw-card-view> </template> {% endblock %} </sw-page> {% endblock %}`,{Component:wA}=Shopware,{Criteria:Bn}=Shopware.Data;wA.register("swag-paypal-pos",{template:mA,inject:["salesChannelService","repositoryFactory"],mixins:[Shopware.Mixin.getByName("placeholder")],data(){return{isLoading:!1,previousApiKey:null,salesChannel:{},lastRun:null,lastCompleteRun:null,cloneSalesChannelId:null,buttonConfig:[]}},metaInfo(){return{title:this.title}},computed:{title(){return[this.$t("global.sw-admin-menu.textShopwareAdmin"),this.$t("sw-sales-channel.general.titleMenuItems"),this.$t("swag-paypal-pos.general.moduleTitle")].reverse().join(" | ")},paypalPosSalesChannelRepository(){return this.repositoryFactory.create("swag_paypal_pos_sales_channel")},salesChannelRepository(){return this.repositoryFactory.create("sales_channel")},runRepository(){return this.repositoryFactory.create("swag_paypal_pos_sales_channel_run")},salesChannelCriteria(){const n=new Bn(1,500);return n.addAssociation(Lg),n.addAssociation("countries"),n.addAssociation("currencies"),n.addAssociation("domains"),n.addAssociation("languages"),n}},watch:{"$route.params.id"(){this.loadSalesChannel()}},created(){this.createdComponent()},methods:{createdComponent(){this.loadSalesChannel()},loadSalesChannel(){return this.$route.params.id?(this.salesChannel&&(this.salesChannel=null),this.isLoading=!0,this.salesChannelRepository.get(this.$route.params.id,Shopware.Context.api,this.salesChannelCriteria).then(n=>{this.salesChannel=n,this.previousApiKey=n.extensions.paypalPosSalesChannel.apiKey,this.updateRun(),this.isLoading=!1})):Promise.resolve()},updateCloneSalesChannel(n){this.cloneSalesChannelId=n},updateButtons(n){this.buttonConfig=n},onButtonClick(n){if(typeof n=="string"){this.redirect(n);return}typeof n=="function"&&n.call()},updateRun(){return setTimeout(this.updateRun,2e4),this.loadLastRun()},loadLastRun(n=!1){const i=new Bn(1,1);return i.addFilter(Bn.equals("salesChannelId",this.salesChannel.id)),i.addFilter(Bn.not("AND",[Bn.equals("status","in_progress")])),i.addSorting(Bn.sort("createdAt","DESC")),n?i.addFilter(Bn.equals("task","complete")):i.addAssociation("logs"),this.runRepository.search(i,Shopware.Context.api).then(r=>{if(n){this.lastCompleteRun=r.first(),this.$forceUpdate();return}this.lastRun=r.first(),this.lastRun!==null&&this.lastRun.task!=="complete"?this.loadLastRun(!0):this.lastCompleteRun=this.lastRun,this.$forceUpdate()})}}});const bA=`{% block swag_paypal_pos_synced_products %} <div class="swag-paypal-pos-detail-synced-products"> {% block swag_paypal_pos_synced_products_grid %} <mt-card position-identifier="swag-paypal-pos-synced-products-grid" :title="$t('swag-paypal-pos.detail.syncedProducts.title')" :isLoading="isLoading"> {% block swag_paypal_pos_synced_products_grid %} <template #grid> <sw-data-grid v-if="total > 0" identifier="swag-paypal-pos-detail-synced-products" :dataSource="products" :columns="columns" :isLoading="isLoading" :showActions="actions.length > 0" :showSelection="false" :showSettings="true" :allowColumnEdit="true" :sortBy="sortBy" :sortDirection="sortDirection" :skeletonItemAmount="limit" @column-sort="onSortColumn"> {% block swag_paypal_pos_synced_products_grid_pagination %} <template #pagination> <sw-pagination :limit="limit" :page="page" :total="total" :total-visible="7" @page-change="onPageChange" /> </template> {% endblock %} {% block swag_paypal_pos_synced_products_grid_column_date %} <template #column-date="{ item }"> {% block swag_paypal_pos_synced_products_grid_column_date_formatted %} <template v-if="hasSync(item)"> {{ dateFilter(getSyncDate(item), { hour: '2-digit', minute: '2-digit', day: '2-digit', month: '2-digit', year: '2-digit' }) }} </template> {% endblock %} {% block swag_paypal_pos_synced_products_grid_column_date_empty %} <template v-else> {{ $t('swag-paypal-pos.detail.syncedProducts.notSyncedYet') }} </template> {% endblock %} </template> {% endblock %} {% block swag_paypal_pos_synced_products_grid_column_state %} <template #column-state="{ item }"> {% block swag_paypal_pos_synced_products_grid_column_state_label_log %} <template v-if="hasSync(item)"> <sw-label appearance="pill" :variant="getLabelVariant(getLevel(item))"> {{ $t(getLabel(getLevel(item))) }} </sw-label> </template> {% endblock %} </template> {% endblock %} {% block swag_paypal_pos_synced_products_grid_actions %} <template v-if="actions" #actions="{ item }"> <sw-context-menu-item v-for="action in actions" @click="action.callback(item)"> {{ $t(action.label) }} </sw-context-menu-item> </template> {% endblock %} </sw-data-grid> </template> {% endblock %} {% block swag_paypal_pos_synced_products_empty_state %} <sw-empty-state v-if="total < 1" class="swag-paypal-pos-detail-synced-products__empty-state" :title="$t('swag-paypal-pos.detail.syncedProducts.emptyState.title')" :subline="$t('swag-paypal-pos.detail.syncedProducts.emptyState.message')" /> {% endblock %} </mt-card> {% endblock %} </div> {% endblock %}`,{Component:vA}=Shopware;vA.register("swag-paypal-pos-detail-synced-products",{template:bA,inject:["SwagPayPalPosApiService"],emits:["buttons-update"],mixins:[Shopware.Mixin.getByName("swag-paypal-pos-log-label"),Shopware.Mixin.getByName("listing")],props:{salesChannel:{type:Object,required:!0}},data(){return{products:[],limit:10,isLoading:!1,actions:[{label:"swag-paypal-pos.detail.syncedProducts.actions.productDetails",callback:this.onProductDetails}],columns:[{property:"name",label:"swag-paypal-pos.detail.syncedProducts.columns.name",sortable:!1},{property:"state",label:"swag-paypal-pos.detail.syncedProducts.columns.state",sortable:!1},{property:"date",label:"swag-paypal-pos.detail.syncedProducts.columns.date",sortable:!1}]}},created(){this.createdComponent()},computed:{dateFilter(){return Shopware.Filter.getByName("date")}},methods:{createdComponent(){this.$emit("buttons-update",[]),this.getList()},getList(){if(this.salesChannel===null||this.salesChannel.id===null)return Promise.resolve();this.isLoading=!0;const n=this.getMainListingParams();return this.SwagPayPalPosApiService.getProductLog(this.salesChannel.id,n.page,n.limit).then(i=>{this.products=Object.values(i.elements),this.total=i.total,this.isLoading=!1})},onProductDetails(n){this.$router.push({name:"sw.product.detail.base",params:{id:n.id}})},hasSync(n){return n.extensions.paypalPosLog.length||n.extensions.paypalPosSync.length},getSyncDate(n){return this.hasSync(n)?n.extensions.paypalPosLog[0]?n.extensions.paypalPosLog[0].posSalesChannelRun.updatedAt||n.extensions.paypalPosLog[0].createdAt:n.extensions.paypalPosSync[0].updatedAt||n.extensions.paypalPosSync[0].createdAt:null},getLevel(n){return n.extensions.paypalPosLog[0]?n.extensions.paypalPosLog[0].level:200}}});const SA=`{% block swag_paypal_pos_detail_overview %} <div class="sw-sales-channel-detail-overview"> {% block swag_paypal_pos_detail_overview_status %} <swag-paypal-pos-status-view v-if="salesChannel.active" :isLoading="isLoading" :isSyncing="isSyncing" :lastCompleteRun="lastCompleteRun" :lastFinishedRun="lastRun" :salesChannel="salesChannel" :syncErrors="syncErrors"> {% block swag_paypal_pos_detail_overview_status_actions %} <template #actions> <sw-button-group v-if="salesChannel && salesChannel.active && !isSyncing"> {% block swag_paypal_pos_detail_overview_status_actions_sync_button %} <mt-button class="swag-paypal-pos-detail-overview__sync-button" variant="primary" @click="onStartSync"> {{ $t('swag-paypal-pos.detail.overview.buttonSync') }} </mt-button> {% endblock %} {% block swag_paypal_pos_detail_overview_status_actions_sync_context_menu %} <sw-context-button> {% block swag_paypal_pos_detail_overview_status_actions_sync_context_menu_button %} <template #button> <mt-button class="swag-paypal-pos-detail-overview__sync-button-context" variant="primary" square :disabled="isSyncing"> <mt-icon name="regular-chevron-down-xs" size="16px" /> </mt-button> </template> {% endblock %} {% block swag_paypal_pos_detail_overview_status_actions_sync_context_menu_item_products %} <sw-context-menu-item @click="onStartProductSync"> {{ $t('swag-paypal-pos.detail.overview.buttonSyncProducts') }} </sw-context-menu-item> {% endblock %} {% block swag_paypal_pos_detail_overview_status_actions_sync_context_menu_item_image %} <sw-context-menu-item @click="onStartImageSync"> {{ $t('swag-paypal-pos.detail.overview.buttonSyncImages') }} </sw-context-menu-item> {% endblock %} {% block swag_paypal_pos_detail_overview_status_actions_sync_context_menu_item_inventory %} <sw-context-menu-item @click="onStartInventorySync"> {{ $t('swag-paypal-pos.detail.overview.buttonSyncInventory') }} </sw-context-menu-item> {% endblock %} </sw-context-button> {% endblock %} </sw-button-group> {% block swag_paypal_pos_detail_overview_status_actions_sync_abort_button %} <mt-button v-if="isSyncing" variant="secondary" @click="onSyncAbort"> {{ $t('swag-paypal-pos.detail.overview.buttonSyncAbort') }} </mt-button> {% endblock %} </template> {% endblock %} </swag-paypal-pos-status-view> {% endblock %} {% block swag_paypal_pos_detail_overview_setup %} <swag-paypal-pos-continue-setup v-else /> {% endblock %} {% block swag_paypal_pos_detail_overview_getting_started %} <swag-paypal-pos-getting-started /> {% endblock %} </div> {% endblock %}`,{Component:PA}=Shopware,{Criteria:ti}=Shopware.Data;PA.register("swag-paypal-pos-detail-overview",{template:SA,inject:["SwagPayPalPosApiService","salesChannelService","repositoryFactory"],emits:["run-update","buttons-update"],mixins:[Shopware.Mixin.getByName("placeholder")],props:{salesChannel:{type:Object,required:!1,default:null},lastRun:{type:Object,required:!1,default:null},lastCompleteRun:{type:Object,required:!1,default:null}},data(){return{isSyncing:!1,syncErrors:null,syncingRunId:null,statusErrorLevel:null,isLoading:!1}},computed:{runRepository(){return this.repositoryFactory.create("swag_paypal_pos_sales_channel_run")}},watch:{"salesChannel.id"(){this.checkForSync()},lastRun(){this.$forceUpdate()}},created(){this.createdComponent()},mounted(){this.mountedComponent()},methods:{createdComponent(){this.checkForSync()},mountedComponent(){this.updateButtons()},forceUpdate(){this.$forceUpdate()},startSync(n){this.syncErrors=null,this.isSyncing=!0,this.updateButtons(!0),n(this.salesChannel.id).then(i=>{this.syncingRunId=i.runId,this.updateSync()}).catch(i=>{this.syncErrors=i.response.data.errors,this.$emit("run-update"),this.isSyncing=!1,this.updateButtons()})},updateSync(){this.syncingRunId!==null&&this.runRepository.get(this.syncingRunId,Shopware.Context.api).then(n=>{if(n!==null&&n.status==="in_progress"){setTimeout(this.updateSync,1500);return}this.syncingRunId=null,this.$emit("run-update"),this.isSyncing=!1,this.updateButtons()})},onStartSync(){this.startSync(this.SwagPayPalPosApiService.startCompleteSync.bind(this.SwagPayPalPosApiService))},onStartProductSync(){this.startSync(this.SwagPayPalPosApiService.startProductSync.bind(this.SwagPayPalPosApiService))},onStartImageSync(){this.startSync(this.SwagPayPalPosApiService.startImageSync.bind(this.SwagPayPalPosApiService))},onStartInventorySync(){this.startSync(this.SwagPayPalPosApiService.startInventorySync.bind(this.SwagPayPalPosApiService))},onSyncAbort(){this.syncingRunId!==null&&this.SwagPayPalPosApiService.abortSync(this.syncingRunId).then(()=>{this.updateSync()})},checkForSync(){if(this.salesChannel===null||this.salesChannel.id===null)return;const n=new ti(1,1);n.addFilter(ti.equals("salesChannelId",this.salesChannel.id)),n.addFilter(ti.equals("status","in_progress")),n.addSorting(ti.sort("createdAt","DESC")),this.runRepository.search(n,Shopware.Context.api).then(i=>{i.first()!==null&&(this.isSyncing=!0,this.syncingRunId=i.first().id,this.updateSync())})},updateButtons(n=!1){const i=[{key:"sync",label:this.$t("swag-paypal-pos.detail.overview.buttonSync"),variant:"primary",action:this.onStartSync,disabled:!(this.salesChannel&&this.salesChannel.active),isLoading:this.isSyncing}];n&&i.unshift({key:"abortSync",label:this.$t("swag-paypal-pos.detail.overview.buttonSyncAbort"),action:this.onSyncAbort,disabled:!(this.salesChannel&&this.salesChannel.active)}),this.$emit("buttons-update",i)}}});const CA=`{% block swag_paypal_pos_detail_settings %} <div class="swag-paypal-pos-detail-settings"> {% block swag_paypal_pos_detail_settings_alert %} <mt-banner class="swag-paypal-pos-detail-settings__save-alert"> {{ $t('swag-paypal-pos.detail.settings.saveAlert') }} </mt-banner> {% endblock %} {% block swag_paypal_pos_detail_settings_basic %} <mt-card position-identifier="swag-paypal-pos-detail-settings-basic" :isLoading="isLoading" :title="$t('swag-paypal-pos.detail.settings.titleGeneralSettings')"> <sw-container columns="1fr 200px" gap="0px 30px"> {% block swag_paypal_pos_detail_settings_input_name %} <mt-text-field v-model="salesChannel.name" required type="text" validation="required" :error="salesChannelNameError" :disabled="!acl.can('sales_channel.editor')" :label="$t('sw-sales-channel.detail.labelInputName')" :placeholder="placeholder(salesChannel, 'name', $t('sw-sales-channel.detail.placeholderName'))" /> {% endblock %} {% block swag_paypal_pos_detail_settings_input_active %} <mt-switch v-model="salesChannel.active" bordered :disabled="!acl.can('sales_channel.editor')" :label="$t('sw-sales-channel.detail.labelInputActive')" :helpText="$t('swag-paypal-pos.detail.settings.activeHelpText')" /> {% endblock %} </sw-container> {% block swag_paypal_pos_detail_settings_input_media_domain %} <swag-paypal-pos-url-field v-model="swagPaypalPosSalesChannel.mediaDomain" required :error="swagPaypalPosSalesChannelMediaDomainError" :disabled="!acl.can('sales_channel.editor')" :label="$t('swag-paypal-pos.detail.settings.domain')" :helpText="$t('swag-paypal-pos.detail.settings.domainHelpText')" @update:model-value="forceUpdate" /> {% endblock %} {% block swag_paypal_pos_detail_settings_input_language %} <sw-entity-single-select v-model:value="salesChannel.languageId" entity="language" required :disabled="!acl.can('sales_channel.editor')" :label="$t('global.entities.language')" @update:value="changeLanguage" /> {% endblock %} {% block swag_paypal_pos_detail_settings_input_product_stream %} {# ToDo PPI-56 - implement support for product streams #} <sw-entity-single-select v-if="false" v-model:value="swagPaypalPosSalesChannel.productStreamId" entity="product_stream" :disabled="!acl.can('sales_channel.editor')" :label="$t('swag-paypal-pos.detail.settings.productStream')" @update:value="forceUpdate" /> {% endblock %} </mt-card> {% endblock %} {% block swag_paypal_pos_detail_settings_sync %} <div class="sw-sales-channel-detail-sync"> <mt-card position-identifier="swag-paypal-pos-detail-settings-sync" :isLoading="isLoading" :title="$t('swag-paypal-pos.detail.settings.titleSync')"> {% block swag_paypal_pos_detail_settings_sync_input %} <sw-radio-field v-model:value="salesChannel.extensions.paypalPosSalesChannel.replace" :label="$t('swag-paypal-pos.wizard.syncLibrary.description')" class="swag-paypal-pos-boolean-radio" :options="optionsReplace" :disabled="!acl.can('sales_channel.editor')" @update:value="forceUpdate" /> {% endblock %} </mt-card> </div> {% endblock %} {% block swag_paypal_pos_detail_settings_prices %} <div class="sw-sales-channel-detail-prices"> <mt-card position-identifier="swag-paypal-pos-detail-settings-prices" :isLoading="isLoading" :title="$t('swag-paypal-pos.detail.settings.titlePrices')"> {% block swag_paypal_pos_detail_settings_prices_input %} <swag-paypal-pos-boolean-radio v-model:value="swagPaypalPosSalesChannel.syncPrices" class="swag-paypal-pos-detail-settings__sync-prices-input" :label="$t('swag-paypal-pos.wizard.syncPrices.description')" :optionTrue="optionSyncPrices" :optionFalse="optionNotSyncPrices" :disabled="!acl.can('sales_channel.editor')" @update:value="forceUpdate" /> {% endblock %} </mt-card> </div> {% endblock %} {% block swag_paypal_pos_detail_settings_credentials %} <div class="sw-sales-channel-detail-credentials"> <mt-card position-identifier="swag-paypal-pos-detail-settings-credentials" :isLoading="isLoading" :title="$t('swag-paypal-pos.detail.settings.titleCredentials')"> {% block swag_paypal_pos_detail_settings_credentials_apikey %} <mt-password-field v-model="swagPaypalPosSalesChannel.apiKey" class="swag-paypal-pos-detail-settings__apikey-field" required :label="$t('swag-paypal-pos.authentication.labelApiKey')" :disabled="!acl.can('sales_channel.editor')" :placeholder="$t('swag-paypal-pos.authentication.placeholderApiKey')" @update:modelValue="forceUpdate" /> {% endblock %} {% block swag_paypal_pos_detail_settings_credentials_apikey_description %} <div class="swag-paypal-pos-detail-settings__apikey-description"> {% block swag_paypal_pos_detail_settings_credentials_apikey_description_text %} <div class="swag-paypal-pos-detail-settings__apikey-description-text"> {{ $t('swag-paypal-pos.authentication.apiKeyDescription') }} </div> {% endblock %} {% block swag_paypal_pos_detail_settings_credentials_apikey_description_link %} <sw-external-link v-if="acl.can('sales_channel.editor')" :href="apiKeyUrl" class="swag-paypal-pos-detail-settings__apikey-description-link"> {% block swag_paypal_pos_detail_settings_credentials_apikey_description_link_text %} {{ $t('swag-paypal-pos.authentication.buttonGenerateKey') }} {% endblock %} </sw-external-link> {% endblock %} </div> {% endblock %} </mt-card> </div> {% endblock %} {% block swag_paypal_pos_detail_settings_options %} <mt-card position-identifier="swag-paypal-pos-detail-settings-options" :title="$t('swag-paypal-pos.detail.settings.optionsTitle')" :isLoading="isLoading"> <template #grid> <sw-container rows="auto auto"> {% block swag_paypal_pos_detail_settings_options_reset %} <sw-card-section> <sw-container columns="1fr 175px" gap="0px 30px" class="swag-paypal-pos-detail-settings__reset-sync"> {% block sw_sales_channel_detail_base_options_reset_text %} <div class="swag-paypal-pos-detail-settings__options-description-text"> {{ $t('swag-paypal-pos.detail.settings.reset.descriptionText') }} </div> {% endblock %} {% block sw_sales_channel_detail_base_options_reset_button %} <div class="swag-paypal-pos-detail-settings__options-button"> <mt-button size="small" :disabled="!acl.can('sales_channel.editor')" variant="secondary" @click="showResetModal = true"> {{ $t('swag-paypal-pos.detail.settings.reset.buttonTitle') }} </mt-button> </div> {% endblock %} </sw-container> </sw-card-section> {% endblock %} {% block swag_paypal_pos_detail_settings_options_delete %} <sw-card-section divider="top"> <sw-container columns="1fr 175px" gap="0px 30px" class="sw-sales-channel-detail-settings__delete-sales-channel"> {% block sw_sales_channel_detail_base_options_delete_text %} <div class="swag-paypal-pos-detail-settings__options-description-text"> <strong>{{ $t('global.default.warning') }}</strong> {{ $t('sw-sales-channel.detail.textDeleteSalesChannelWarning') }} </div> {% endblock %} {% block sw_sales_channel_detail_base_options_delete_button %} <div class="swag-paypal-pos-detail-settings__options-button"> <mt-button variant="critical" size="small" :disabled="!acl.can('sales_channel.deleter')" @click="showDeleteModal = true"> {{ $t('sw-sales-channel.detail.buttonDelete') }} </mt-button> </div> {% endblock %} </sw-container> </sw-card-section> {% endblock %} </sw-container> </template> {% block swag_paypal_pos_detail_settings_options_reset_modal %} <sw-modal v-if="showResetModal" ref="modal" class="swag-paypal-pos-detail-settings__reset-sync-modal" variant="small" :title="$t('swag-paypal-pos.detail.settings.reset.modalTitle')" @modal-close="showResetModal = false"> {% block swag_paypal_pos_detail_settings_options_reset_modal_confirmtext %} <p class="swag-paypal-pos-detail-settings__reset-modal-confirm-text"> {{ $t('swag-paypal-pos.detail.settings.reset.modalConfirmText') }} </p> <p class="swag-paypal-pos-detail-settings__reset-modal-name"> <strong>{{ placeholder(salesChannel, 'name') }}</strong> </p> <p>{{ $t('swag-paypal-pos.detail.settings.reset.modalTextInfo') }}</p> {% endblock %} {% block sw_sales_channel_detail_options_reset_modal_footer %} <template #modal-footer> {% block swag_paypal_pos_detail_settings_options_reset_modal_abort %} <mt-button size="small" variant="secondary" @click="showResetModal = false"> {{ $t('global.default.cancel') }} </mt-button> {% endblock %} {% block swag_paypal_pos_detail_settings_options_reset_modal_confirm %} <mt-button size="small" variant="critical" @click="onConfirmReset"> {{ $t('swag-paypal-pos.detail.settings.reset.modalButtonConfirm') }} </mt-button> {% endblock %} </template> {% endblock %} </sw-modal> {% endblock %} {% block swag_paypal_pos_detail_settings_options_delete_modal %} <sw-modal v-if="showDeleteModal" ref="modal" class="sw-sales-channel-detail-settings__delete-modal" variant="small" :title="$t('sw-sales-channel.detail.deleteModalTitle')" @modal-close="showDeleteModal = false"> {% block swag_paypal_pos_detail_settings_options_delete_modal_confirmtext %} <p class="sw-sales-channel-detail-settings__delete-modal-confirm-text"> {{ $t('sw-sales-channel.detail.textConfirmDelete') }} </p> <p class="sw-sales-channel-detail-settings__delete-modal-name"> <strong>{{ placeholder(salesChannel, 'name') }}</strong> </p> <p>{{ $t('sw-sales-channel.detail.textDeleteInfo') }}</p> {% endblock %} {% block sw_sales_channel_detail_options_delete_modal_footer %} <template #modal-footer> {% block swag_paypal_pos_detail_settings_options_delete_modal_abort %} <mt-button size="small" variant="secondary" @click="showDeleteModal = false"> {{ $t('global.default.cancel') }} </mt-button> {% endblock %} {% block swag_paypal_pos_detail_settings_options_delete_modal_confirm %} <mt-button size="small" variant="critical" @click="onConfirmDelete"> {{ $t('sw-sales-channel.detail.buttonConfirmDelete') }} </mt-button> {% endblock %} </template> {% endblock %} </sw-modal> {% endblock %} </mt-card> {% endblock %} </div> {% endblock %}`,{Component:Dg,Context:kA,State:AA}=Shopware,{mapPropertyErrors:Wf}=Dg.getComponentHelper(),{ShopwareError:IA}=Shopware.Classes;Dg.register("swag-paypal-pos-detail-settings",{template:CA,inject:["SwagPayPalPosApiService","SwagPayPalPosSettingApiService","SwagPayPalPosWebhookRegisterService","salesChannelService","repositoryFactory","acl"],emits:["load-sales-channel","buttons-update"],mixins:[Shopware.Mixin.getByName("swag-paypal-pos-catch-error"),Shopware.Mixin.getByName("placeholder"),Shopware.Mixin.getByName("notification")],props:{salesChannel:{type:Object,required:!0},cloneSalesChannelId:{type:String,required:!1,default:null}},data(){return{isLoading:!1,showDeleteModal:!1,showResetModal:!1,isSaveSuccessful:!1,isTestingCredentials:!1,isTestCredentialsSuccessful:!1,apiKeyUrl:this.SwagPayPalPosSettingApiService.generateApiUrl(),previousApiKey:this.salesChannel.extensions.paypalPosSalesChannel.apiKey}},computed:{...Wf("salesChannel",["name"]),...Wf("swagPaypalPosSalesChannel",["mediaDomain"]),salesChannelRepository(){return this.repositoryFactory.create("sales_channel")},optionSyncPrices(){return{name:this.$t("swag-paypal-pos.wizard.syncPrices.optionTrueLabel"),description:this.$t("swag-paypal-pos.wizard.syncPrices.optionTrueDescription")}},optionNotSyncPrices(){return{name:this.$t("swag-paypal-pos.wizard.syncPrices.optionFalseLabel"),description:this.$t("swag-paypal-pos.wizard.syncPrices.optionFalseDescription")}},optionsReplace(){return[{value:2,name:this.$t("swag-paypal-pos.wizard.syncLibrary.optionReplacePermanentlyLabel"),description:this.$t("swag-paypal-pos.wizard.syncLibrary.optionReplacePermanentlyDescription")},{value:1,name:this.$t("swag-paypal-pos.wizard.syncLibrary.optionReplaceOneTimeLabel"),description:this.$t("swag-paypal-pos.wizard.syncLibrary.optionReplaceOneTimeDescription")},{value:0,name:this.$t("swag-paypal-pos.wizard.syncLibrary.optionReplaceNotLabel"),description:this.$t("swag-paypal-pos.wizard.syncLibrary.optionReplaceNotDescription")}]},swagPaypalPosSalesChannel(){return this.salesChannel.extensions.paypalPosSalesChannel}},mounted(){this.mountedComponent()},methods:{mountedComponent(){this.updateButtons()},forceUpdate(){this.$forceUpdate()},onSave(){return this.isLoading=!0,this.isSaveSuccessful=!1,this.updateButtons(),this.swagPaypalPosSalesChannel.apiKey===this.previousApiKey?this.save():this.SwagPayPalPosSettingApiService.validateApiCredentials(this.swagPaypalPosSalesChannel.apiKey,this.salesChannel.id).then(()=>this.SwagPayPalPosSettingApiService.fetchInformation(this.salesChannel,!0)).then(this.save).catch(n=>{throw this.catchAuthenticationError(n),this.isLoading=!1,this.updateButtons(),n})},save(){return this.SwagPayPalPosWebhookRegisterService.registerWebhook(this.salesChannel.id).catch(this.catchError.bind(this,"swag-paypal-pos.messageWebhookRegisterError")),this.salesChannelRepository.save(this.salesChannel,kA.api).then(()=>{this.isLoading=!1,this.isSaveSuccessful=!0,this.updateButtons(),this.$emit("load-sales-channel"),Shopware.Utils.EventBus.emit("sw-sales-channel-detail-sales-channel-change"),this.cloneSalesChannelId!==null&&this.SwagPayPalPosSettingApiService.cloneProductVisibility(this.cloneSalesChannelId,this.salesChannel.id).catch(this.catchError.bind(this,"swag-paypal-pos.messageCloneError"))}).catch(()=>{this.isLoading=!1,this.updateButtons(),this.createNotificationError({message:this.$t("sw-sales-channel.detail.messageSaveError",0,{name:this.salesChannel.name||this.placeholder(this.salesChannel,"name")})})}).finally(()=>{if(this.swagPaypalPosSalesChannel.mediaDomain===null){const n=`swag_paypal_pos_sales_channel.${this.swagPaypalPosSalesChannel.id}.mediaDomain`,i=new IA({code:"INVALID_URL"});AA.commit("error/addApiError",{expression:n,error:i})}})},testCredentials(){const n=this.swagPaypalPosSalesChannel.apiKey;this.isTestingCredentials=!0,this.isTestCredentialsSuccessful=!1,this.SwagPayPalPosSettingApiService.validateApiCredentials(n).then(i=>{const r=i.credentialsValid;this.isTestingCredentials=!1,this.isTestCredentialsSuccessful=r}).catch(i=>{this.catchAuthenticationError(i),this.isTestingCredentials=!1})},catchAuthenticationError(n){this.catchError("swag-paypal-pos.authentication.messageTestError",n),this.isTestingCredentials=!1,this.isTestCredentialsSuccessful=!1},updateButtons(){const n=[{key:"save",label:this.$t("global.default.save"),variant:"primary",action:this.onSave,disabled:!1,isLoading:this.isLoading}];this.$emit("buttons-update",n)},onConfirmDelete(){this.showDeleteModal=!1,this.$nextTick(()=>{this.deleteSalesChannel(this.salesChannel.id),this.$router.push({name:"sw.dashboard.index"})})},deleteSalesChannel(n){return this.SwagPayPalPosWebhookRegisterService.unregisterWebhook(n).finally(()=>this.salesChannelRepository.delete(n,Shopware.Context.api).then(()=>{Shopware.Utils.EventBus.emit("sw-sales-channel-detail-sales-channel-change")}))},onConfirmReset(){this.showResetModal=!1,this.$nextTick(()=>{this.SwagPayPalPosApiService.resetSync(this.salesChannel.id).then(()=>{this.$router.push({name:"swag.paypal.pos.detail.overview",params:{id:this.salesChannel.id}})})})},changeLanguage(){this.$nextTick(()=>{this.salesChannel.languages.length=0,this.salesChannel.languages.push({id:this.salesChannel.languageId}),this.$forceUpdate()})}}});const EA=`{% block swag_paypal_pos_detail_runs %} <div class="swag-paypal-pos-detail-runs"> {% block swag_paypal_pos_detail_runs_card %} <mt-card position-identifier="swag-paypal-pos-detail-runs" :title="$t('swag-paypal-pos.detail.runs.title')" :isLoading="isLoading"> {% block swag_paypal_pos_detail_runs_card_grid %} <template #grid> <sw-data-grid v-if="total > 0" identifier="swag-paypal-pos-detail-runs" :columns="columns" :dataSource="runs" :isLoading="isLoading || total === 0" :showActions="true" :showSelection="false" :showSettings="true" :allowColumnEdit="true" :sortBy="sortBy" :sortDirection="sortDirection" :skeletonItemAmount="limit" @column-sort="onSortColumn"> {% block swag_paypal_pos_detail_runs_card_grid_pagination %} <template #pagination> <sw-pagination :limit="limit" :page="page" :total="total" :total-visible="7" @page-change="onPageChange" /> </template> {% endblock %} {% block swag_paypal_pos_detail_runs_other_grid_column_log %} <template #column-task="{ item }"> {{ $t(\`swag-paypal-pos.detail.runs.\${item.task}Task\`) }} </template> {% endblock %} {% block swag_paypal_pos_detail_runs_card_grid_column_state %} <template #column-state="{ item }"> {% block swag_paypal_pos_detail_runs_card_grid_column_state_label %} <sw-label appearance="pill" :variant="getLabelVariant(item)"> {{ $t(getLabel(item)) }} </sw-label> {% endblock %} </template> {% endblock %} {% block swag_paypal_pos_detail_runs_card_grid_column_date %} <template #column-date="{ item }"> {% block swag_paypal_pos_detail_runs_card_grid_column_date_formatted %} {{ dateFilter(item.finishedAt, { hour: '2-digit', minute: '2-digit', day: '2-digit', month: '2-digit', year: '2-digit' }) }} {% endblock %} </template> {% endblock %} {% block swag_paypal_pos_detail_runs_card_grid_actions %} <template #actions="{ item }"> {% block swag_paypal_pos_detail_runs_card_grid_actions_details %} <sw-context-menu-item :disabled="item.logs.length <= 0" @click="onShowModal(item.id)"> {{ $t('swag-paypal-pos.detail.runs.actions.showDetails') }} </sw-context-menu-item> {% endblock %} </template> {% endblock %} </sw-data-grid> </template> {% endblock %} {% block swag_paypal_pos_detail_runs_card_empty_state %} <template #default> <sw-empty-state v-if="total < 1" class="swag-paypal-pos-detail-runs__empty-state" :title="$t('swag-paypal-pos.detail.runs.emptyState.title')" :subline="$t('swag-paypal-pos.detail.runs.emptyState.message')" /> </template> {% endblock %} {% block swag_paypal_pos_detail_runs_card_toolbar %} <template v-if="total > 0" #toolbar> {% block swag_paypal_pos_detail_runs_card_toolbar_container %} <sw-container columns="1fr min-content" align="center"> {% block swag_paypal_pos_detail_runs_card_toolbar_container_text %} <p>{{ $t('swag-paypal-pos.detail.runs.toolbarText') }}</p> {% endblock %} {% block swag_paypal_pos_detail_runs_card_toolbar_container_button %} <mt-button :disabled="!acl.can('sales_channel.editor')" variant="secondary" @click="onClearLogs"> {{ $t('swag-paypal-pos.detail.cleanLog') }} </mt-button> {% endblock %} </sw-container> {% endblock %} </template> {% endblock %} </mt-card> {% endblock %} {% block swag_paypal_pos_detail_runs_log_modal %} <sw-modal v-if="showModal" class="swag-paypal-pos-detail-runs__modal" :title="$t('swag-paypal-pos.detail.runs.title')" :isLoading="isLoading" variant="large" @modal-close="onCloseModal"> {% block swag_paypal_pos_detail_runs_log_modal_logs %} <swag-paypal-pos-detail-logs :runId="currentRunId" /> {% endblock %} {% block swag_paypal_pos_detail_runs_log_modal_footer %} <template #modal-footer> {% block swag_paypal_pos_detail_runs_log_modal_footer_close_modal_button %} <mt-button variant="primary" @click="onCloseModal"> {{ $t('global.default.cancel') }} </mt-button> {% endblock %} </template> {% endblock %} </sw-modal> {% endblock %} </div> {% endblock %}`,{Component:TA,Context:xA}=Shopware,{Criteria:Fn}=Shopware.Data;TA.register("swag-paypal-pos-detail-runs",{template:EA,inject:["SwagPayPalPosApiService","repositoryFactory","acl"],emits:["buttons-update","run-update"],mixins:[Shopware.Mixin.getByName("swag-paypal-pos-catch-error"),Shopware.Mixin.getByName("notification"),Shopware.Mixin.getByName("listing")],props:{salesChannel:{type:Object,required:!1,default:null}},data(){return{runs:[],limit:10,sortBy:"finishedAt",sortDirection:"DESC",isLoading:!1,isCleaningLog:!1,showModal:!1,currentRunId:""}},computed:{runRepository(){return this.repositoryFactory.create("swag_paypal_pos_sales_channel_run")},columns(){return[{property:"task",dataIndex:"task",label:"swag-paypal-pos.detail.runs.columns.task",sortable:!0},{property:"state",dataIndex:"logs.level",label:"swag-paypal-pos.detail.runs.columns.state",sortable:!0},{property:"date",dataIndex:"finishedAt",label:"swag-paypal-pos.detail.runs.columns.date",sortable:!0}]},dateFilter(){return Shopware.Filter.getByName("date")}},created(){this.createdComponent()},methods:{createdComponent(){this.$emit("buttons-update",[])},getListCriteria(){const n=new Fn(this.page,this.limit);n.addFilter(Fn.equals("salesChannelId",this.salesChannel.id)),n.addFilter(Fn.not("AND",[Fn.equals("status","in_progress")])),n.addAssociation("logs"),n.getAssociation("logs").limit=1,n.getAssociation("logs").addSorting(Fn.sort("level","DESC"));const i=this.getMainListingParams();return n.addSorting(Fn.sort(i.sortBy,i.sortDirection,i.naturalSorting)),n.addSorting(Fn.sort("finishedAt","DESC")),n},getList(){return this.salesChannel===null||this.salesChannel.id===null?Promise.resolve():(this.isLoading=!0,this.runRepository.search(this.getListCriteria(),xA.api).then(n=>{this.runs=n,this.total=n.total,this.page=n.criteria.page,this.limit=n.criteria.limit,this.isLoading=!1}))},onShowModal(n){this.currentRunId=n,this.showModal=!0},onCloseModal(){this.showModal=!1,this.currentRunId=""},onClearLogs(){return this.isLoading=!0,this.SwagPayPalPosApiService.startLogCleanup(this.salesChannel.id).then(()=>(this.$emit("run-update"),this.getList())).catch(n=>{this.catchError(null,n),this.getList()})},getLabelVariant(n){return n.status==="cancelled"?"info":n.status==="failed"?"danger":n.logs.length<=0?"success":n.logs[0].level>=400?"danger":n.logs[0].level>=300?"warning":n.logs[0].level>200?"info":"success"},getLabel(n){return n.status==="cancelled"?"swag-paypal-pos.detail.runs.states.aborted":n.status==="failed"?"swag-paypal-pos.detail.runs.states.failed":n.logs.length<=0?"swag-paypal-pos.detail.runs.states.successful":n.logs[0].level>200?"swag-paypal-pos.detail.runs.states.withWarnings":"swag-paypal-pos.detail.runs.states.successful"}}});const RA='{% block sw_first_run_wizard_modal %} <div class="swag-paypal-pos-wizard"> <sw-modal v-if="showModal" class="swag-paypal-pos-wizard-modal" position-identifier="swag-paypal-pos-wizard-modal" :title="title" :variant="variant" @modal-close="onCloseModal"> {% block swag_paypal_pos_wizard_modal_content %} <div class="swag-paypal-pos-wizard__modal-content"> <sw-container class="swag-paypal-pos-wizard__columns" :class="{ \'swag-paypal-pos-wizard__columns--two\': showSteps }"> {% block swag_paypal_pos_wizard_modal_content_steps %} <div v-if="showSteps" class="swag-paypal-pos-wizard__steps"> <sw-step-display :initialItemVariants="stepInitialItemVariants" :itemIndex="stepIndex" :itemVariant="stepVariant"> <sw-step-item v-for="pageName in displayStepperPages" :key="pageName"> {{ $t(`swag-paypal-pos.wizard.stepItemTitle.${pageName}`) }} </sw-step-item> </sw-step-display> </div> {% endblock %} {% block swag_paypal_pos_wizard_modal_content_page %} <div class="swag-paypal-pos-wizard__page"> <router-view v-slot="{ Component }" > <component :is="Component" :salesChannel="salesChannel" :cloneSalesChannelId="cloneSalesChannelId" :saveSalesChannel="save" :isLoading="isLoading" @buttons-update="updateButtons" @frw-set-title="setTitle" @frw-finish="onFinishWizard" @toggle-loading="toggleLoading" @recreate-sales-channel="createNewSalesChannel" @update-clone-sales-channel="updateCloneSalesChannel" /> </router-view> </div> {% endblock %} </sw-container> </div> {% endblock %} {% block swag_paypal_pos_wizard_modal_footer %} <template #modal-footer> <div class="swag-paypal-pos-wizard__footer"> {% block swag_paypal_pos_wizard_modal_footer_left %} <div class="footer-left"> <mt-button v-for="button in buttons.left" :key="button.action" size="small" :disabled="button.disabled" :isLoading="isLoading" :variant="button.variant" @click="onButtonClick(button.action)"> {{ button.label }} </mt-button> </div> {% endblock %} {% block swag_paypal_pos_wizard_modal_footer_right %} <div class="footer-right"> <mt-button v-for="button in buttons.right" :key="button.action" size="small" :disabled="button.disabled" :isLoading="isLoading" :variant="button.variant" @click="onButtonClick(button.action)"> {{ button.label }} </mt-button> </div> {% endblock %} </div> </template> {% endblock %} </sw-modal> </div> {% endblock %}',{Component:LA,Context:Mn}=Shopware,{Criteria:DA}=Shopware.Data;LA.extend("swag-paypal-pos-wizard","sw-first-run-wizard-modal",{template:RA,inject:["SwagPayPalPosApiService","SwagPayPalPosSettingApiService","SwagPayPalPosWebhookRegisterService","salesChannelService","repositoryFactory"],mixins:[Shopware.Mixin.getByName("swag-paypal-pos-catch-error"),Shopware.Mixin.getByName("notification")],data(){return{showModal:!0,isLoading:!1,salesChannel:{},cloneSalesChannelId:null,stepperPages:["connection","connectionSuccess","connectionDisconnect","customization","productSelection","syncLibrary","syncPrices","finish"],stepper:{},currentStep:{}}},metaInfo(){return{title:this.wizardTitle}},computed:{displayStepperPages(){return this.stepperPages.filter(n=>n!=="connectionDisconnect")},stepInitialItemVariants(){const n=this.stepperPages.length,{navigationIndex:i}=this.currentStep,r=[];for(let o=1;o<=n;o+=1)o<i?r.push("success"):o===i?r.push("info"):r.push("disabled");return r},paypalPosSalesChannelRepository(){return this.repositoryFactory.create("swag_paypal_pos_sales_channel")},salesChannelRepository(){return this.repositoryFactory.create("sales_channel")},salesChannelCriteria(){return new DA(1,500).addAssociation(Lg).addAssociation("countries").addAssociation("currencies").addAssociation("domains").addAssociation("languages")},wizardTitle(){return[this.$t("global.sw-admin-menu.textShopwareAdmin"),this.$t("swag-paypal-pos.general.moduleTitle"),this.title].reverse().join(" | ")}},watch:{$route(n){this.handleRouteUpdate(n)}},mounted(){this.mountedComponent()},methods:{handleRouteUpdate(n){const i=n.name.replace("swag.paypal.pos.wizard.","");this.currentStep=this.stepper[i]},createdComponent(){if(this.generateStepper(),this.$route.params.id){this.loadSalesChannel();return}this.createNewSalesChannel()},mountedComponent(){const n=this.$route.name.replace("swag.paypal.pos.wizard.","");this.currentStep=this.stepper[n]},generateStepper(){let n=1;this.stepper=this.stepperPages.reduce((i,r)=>(r==="connectionDisconnect"&&(n-=1),i[r]={name:`swag.paypal.pos.wizard.${r}`,variant:"large",navigationIndex:n},n===1&&(this.currentStep=i[r]),n+=1,i),{})},onCloseModal(){if(!this.salesChannel._isNew&&(this.$route.params.id||this.salesChannel.id)){this.routeToDetailOverview();return}this.routeToDashboard()},onFinishWizard(){this.routeToDetailOverview(!0)},routeToDashboard(){this.showModal=!1,this.$nextTick(()=>{this.$router.push({name:"sw.dashboard.index"})})},routeToDetailOverview(n=!1){this.showModal=!1,this.save(n).then(()=>{n&&this.SwagPayPalPosApiService.startCompleteSync(this.salesChannel.id),this.$router.push({name:"swag.paypal.pos.detail.overview",params:{id:this.salesChannel.id}})})},save(n=!1,i=!1){return n&&(this.salesChannel.active=!0),this.salesChannelRepository.save(this.salesChannel,Mn.api).then(async()=>{this.isLoading=!1,this.isSaveSuccessful=!0,this.isNewEntity=!1,Shopware.Utils.EventBus.emit("sw-sales-channel-detail-sales-channel-change"),await this.loadSalesChannel(),this.cloneProductVisibility(),this.registerWebhook(i)}).catch(()=>{this.isLoading=!1,this.createNotificationError({message:this.$t("sw-sales-channel.detail.messageSaveError",0,{name:this.salesChannel.name||this.placeholder(this.salesChannel,"name")})})})},registerWebhook(n=!1){const i=this.SwagPayPalPosWebhookRegisterService.registerWebhook(this.salesChannel.id);return n?i:i.catch(this.catchError.bind(this,"swag-paypal-pos.messageWebhookRegisterError"))},cloneProductVisibility(){this.cloneSalesChannelId!==null&&this.SwagPayPalPosSettingApiService.cloneProductVisibility(this.cloneSalesChannelId,this.salesChannel.id).catch(n=>{n.response.data&&n.response.data.errors&&this.createNotificationError({message:this.$t("swag-paypal-pos.messageCloneError")})})},createNewSalesChannel(){Mn.api.languageId!==Mn.api.systemLanguageId&&(Mn.api.languageId=Mn.api.systemLanguageId),this.previousApiKey=null,this.salesChannel=this.salesChannelRepository.create(Mn.api),this.salesChannel.typeId=Gc,this.salesChannel.name=this.$t("swag-paypal-pos.wizard.salesChannelPrototypeName"),this.salesChannel.active=!1,this.salesChannel.extensions.paypalPosSalesChannel=this.paypalPosSalesChannelRepository.create(Mn.api),Object.assign(this.salesChannel.extensions.paypalPosSalesChannel,{mediaDomain:"",apiKey:"",imageDomain:"",productStreamId:null,syncPrices:!0,replace:0}),this.salesChannelService.generateKey().then(n=>{this.salesChannel.accessKey=n.accessKey}).catch(()=>{this.createNotificationError({message:this.$t("sw-sales-channel.detail.messageAPIError")})})},loadSalesChannel(){const n=this.$route.params.id||this.salesChannel.id;return n?(this.isLoading=!0,this.salesChannelRepository.get(n,Shopware.Context.api,this.salesChannelCriteria).then(i=>{this.salesChannel=i,this.previousApiKey=i.extensions.paypalPosSalesChannel.apiKey,this.isLoading=!1})):new Promise(i=>{i()})},updateCloneSalesChannel(n){this.cloneSalesChannelId=n},toggleLoading(n){this.isLoading=n}}});const $A=`{% block swag_paypal_pos_wizard_connection %} <div class="swag-paypal-pos-wizard-connection"> {% block swag_paypal_pos_wizard_connection_headline %} <div class="swag-paypal-pos-wizard-connection__headline"> {{ $t('swag-paypal-pos.wizard.connection.headerConnect') }} </div> {% endblock %} {% block swag_paypal_pos_wizard_connection_apikey %} <mt-password-field v-model="salesChannel.extensions.paypalPosSalesChannel.apiKey" class="swag-paypal-pos-wizard-connection__apikey-field" required :label="$t('swag-paypal-pos.authentication.labelApiKey')" :placeholder="$t('swag-paypal-pos.authentication.placeholderApiKey')" @update:modelValue="forceUpdate" /> {% endblock %} {% block swag_paypal_pos_wizard_connection_apikey_description %} <div class="swag-paypal-pos-wizard-connection__apikey-description"> {% block swag_paypal_pos_wizard_connection_apikey_description_text %} <div class="swag-paypal-pos-wizard-connection__apikey-description-text"> {{ $t('swag-paypal-pos.authentication.apiKeyDescription') }} </div> {% endblock %} {% block swag_paypal_pos_wizard_connection_apikey_description_link %} <mt-link :to="apiKeyUrl" class="swag-paypal-pos-wizard-connection__apikey-description-link" type="external" > {% block swag_paypal_pos_wizard_connection_apikey_description_link_text %} {{ $t('swag-paypal-pos.authentication.buttonGenerateKey') }} {% endblock %} </mt-link> {% endblock %} </div> {% endblock %} {% block swag_paypal_pos_wizard_connection_header_new_customer %} <div class="swag-paypal-pos-wizard-connection__new-customer-headline"> {{ $t('swag-paypal-pos.wizard.connection.headerNewCustomer') }} </div> {% endblock %} {% block swag_paypal_pos_wizard_connection_new_customer %} <mt-card position-identifier="swag-paypal-pos-wizard-connection-new-customer" :isLoading="isConnecting"> <div class="swag-paypal-pos-wizard-connection__new-customer-container"> {% block swag_paypal_pos_wizard_connection_new_customer_image %} <img class="swag-paypal-pos-wizard-connection__pos-logo" :src="assetFilter('swagpaypal/administration/static/img/paypal-pos-logo-full.png')" alt="Zettle logo" > {% endblock %} {% block swag_paypal_pos_wizard_connection_new_customer_button %} <mt-button class="swag-paypal-pos-wizard-connection__pos-link" ghost size="small" :link="$t('swag-paypal-pos.wizard.connection.buttonCreateAccountLink')" variant="secondary" > {% block swag_paypal_pos_wizard_connection_new_customer_button_text %} <span class="swag-paypal-pos-wizard-connection__pos-link-text"> {{ $t('swag-paypal-pos.wizard.connection.buttonCreateAccount') }} </span> {% endblock %} {% block swag_paypal_pos_wizard_connection_new_customer_button_icon %} <template #iconBack> <mt-icon name="regular-external-link-s" class="swag-paypal-pos-wizard-connection__pos-link-icon" size="10px" /> </template> {% endblock %} </mt-button> {% endblock %} </div> </mt-card> {% endblock %} </div> {% endblock %}`,{Component:OA}=Shopware;OA.register("swag-paypal-pos-wizard-connection",{template:$A,inject:["SwagPayPalPosSettingApiService"],emits:["frw-set-title","buttons-update","toggle-loading"],mixins:[Shopware.Mixin.getByName("notification"),Shopware.Mixin.getByName("swag-paypal-pos-catch-error")],props:{salesChannel:{type:Object,required:!0},cloneSalesChannelId:{type:String,required:!1,default:null},isLoading:{type:Boolean,required:!1,default:!1}},data(){return{isConnecting:!1,apiKeyUrl:this.SwagPayPalPosSettingApiService.generateApiUrl()}},computed:{assetFilter(){return Shopware.Filter.getByName("asset")}},watch:{"salesChannel.extensions.paypalPosSalesChannel.apiKey"(n){n&&this.updateButtons()}},created(){this.createdComponent()},methods:{createdComponent(){this.updateButtons(),this.setTitle()},setTitle(){this.$emit("frw-set-title",this.$t("swag-paypal-pos.wizard.connection.modalTitle"))},updateButtons(){const n=[{key:"next",label:this.$t("sw-first-run-wizard.general.buttonNext"),position:"right",variant:"primary",action:this.routeToConnectionSuccess,disabled:this.isLoading||!this.salesChannel.extensions.paypalPosSalesChannel.apiKey}];this.$emit("buttons-update",n)},routeToConnectionSuccess(){this.toggleLoadingState(!0);const n=this.salesChannel.extensions.paypalPosSalesChannel.apiKey;this.SwagPayPalPosSettingApiService.validateApiCredentials(n).then(i=>{i.credentialsValid===!0&&(this.toggleLoadingState(!1),this.$router.push({name:"swag.paypal.pos.wizard.connectionSuccess"}))}).catch(this.catchError.bind(this,"swag-paypal-pos.authentication.messageTestError")).finally(()=>{this.toggleLoadingState(!1)})},forceUpdate(){this.$forceUpdate(),this.updateButtons()},toggleLoadingState(n){this.isConnecting=n,this.$emit("toggle-loading",n)}}});const zA=`{% block swag_paypal_pos_wizard_connection_success %} <div class="swag-paypal-pos-wizard-connection-success"> {% block swag_paypal_pos_wizard_connection_success_headline_content %} <div class="swag-paypal-pos-wizard-connection-success__content"> {% block swag_paypal_pos_wizard_connection_success_icon %} <div class="swag-paypal-pos-wizard-connection-success__icon-wrapper"> <mt-icon class="swag-paypal-pos-wizard-connection-success__icon" name="regular-thumbs-up" size="80px" color="#37D046" /> </div> {% endblock %} {% block swag_paypal_pos_wizard_connection_success_headline %} <div class="swag-paypal-pos-wizard-connection-success__headline"> {{ $t('swag-paypal-pos.wizard.connectionSuccess.headline') }} </div> {% endblock %} {% block swag_paypal_pos_wizard_connection_success_info %} <div class="swag-paypal-pos-wizard-connection-success__info"> {{ $t('swag-paypal-pos.wizard.connectionSuccess.info') }} </div> {% endblock %} {% block swag_paypal_pos_wizard_connection_success_user %} <mt-card class="swag-paypal-pos-wizard-connection-success__user" position-identifier="swag-paypal-pos-wizard-connection-success-user" :isLoading="isFetchingInformation"> <sw-container class="swag-paypal-pos-wizard-connection-success__user-container" columns="30px auto auto" align="center" gap="30px"> {% block swag_paypal_pos_wizard_connection_success_user_avatar %} <sw-avatar class="swag-paypal-pos-wizard-connection-success__user-avatar" size="40px" :firstName="posUser.firstName" :lastName="posUser.lastName" /> {% endblock %} {% block swag_paypal_pos_wizard_connection_success_user_information %} <div class="swag-paypal-pos-wizard-connection-success__user-info"> {% block swag_paypal_pos_wizard_connection_success_user_information_real %} <div class="swag-paypal-pos-wizard-connection-success__user-info-name"> {{ posUser.fullName }} </div> <div class="swag-paypal-pos-wizard-connection-success__user-info-mail"> {{ posUser.mail }} </div> {% endblock %} </div> {% endblock %} {% block swag_paypal_pos_wizard_connection_success_user_disconnect_button %} <mt-button class="swag-paypal-pos-wizard-connection-success__user-disconnect" ghost size="small" variant="secondary" @click="onDisconnect"> {{ $t('swag-paypal-pos.wizard.connectionSuccess.disconnectButton') }} </mt-button> {% endblock %} </sw-container> </mt-card> {% endblock %} </div> {% endblock %} {% block swag_paypal_pos_wizard_connection_success_disclaimer %} <div class="swag-paypal-pos-wizard-connection-success__disclaimer"> {{ $t('swag-paypal-pos.wizard.connectionSuccess.disclaimer') }} </div> {% endblock %} </div> {% endblock %}`,{Component:NA,Context:Gf}=Shopware;NA.register("swag-paypal-pos-wizard-connection-success",{template:zA,inject:["repositoryFactory","SwagPayPalPosSettingApiService"],emits:["frw-set-title","buttons-update"],mixin:["placeholder"],props:{salesChannel:{type:Object,required:!0},cloneSalesChannelId:{type:String,required:!1,default:null},saveSalesChannel:{type:Function,required:!0}},data(){return{posData:null,isFetchingInformation:!0}},computed:{posUser(){if(this.isFetchingInformation){const i=this.$t("swag-paypal-pos.wizard.connectionSuccess.fakeFirstName"),r=this.$t("swag-paypal-pos.wizard.connectionSuccess.fakeLastName"),o=this.$t("swag-paypal-pos.wizard.connectionSuccess.fakeMail");return{firstName:i,lastName:r,fullName:`${i} ${r}`,mail:o}}const n=this.posData.merchantInformation.name.split(" ");return{firstName:n[0],lastName:n[n.length-1],fullName:this.posData.merchantInformation.name,mail:this.posData.merchantInformation.contactEmail}}},created(){this.createdComponent()},methods:{createdComponent(){return this.isFetchingInformation=!0,this.updateButtons(),this.setTitle(),this.SwagPayPalPosSettingApiService.fetchInformation(this.salesChannel,!0).then(n=>(this.posData=n,this.salesChannel.languageId===null&&(this.salesChannel.languageId=Gf.api.systemLanguageId,this.salesChannel.languages.push({id:Gf.api.systemLanguageId})),this.saveSalesChannel(!1,!0))).finally(()=>{this.isFetchingInformation=!1,this.updateButtons()})},setTitle(){this.$emit("frw-set-title",this.$t("swag-paypal-pos.wizard.connectionSuccess.modalTitle"))},updateButtons(){const n=[{key:"next",label:this.$t("sw-first-run-wizard.general.buttonNext"),position:"right",variant:"primary",action:this.routeToCustomization,disabled:this.isFetchingInformation}];this.$emit("buttons-update",n)},routeToCustomization(){this.$router.push({name:"swag.paypal.pos.wizard.customization",params:{id:this.salesChannel.id}})},onDisconnect(){this.$router.push({name:"swag.paypal.pos.wizard.connectionDisconnect",params:{id:this.salesChannel.id}})},forceUpdate(){this.$forceUpdate(),this.updateButtons()}}});const BA=`{% block swag_paypal_pos_wizard_connection_disconnect %} <div class="swag-paypal-pos-wizard-connection-disconnect"> {% block swag_paypal_pos_wizard_connection_disconnect_headline_content %} <div class="swag-paypal-pos-wizard-connection-disconnect__content"> {% block swag_paypal_pos_wizard_connection_disconnect_icon %} <div class="swag-paypal-pos-wizard-connection-disconnect__icon-wrapper"> <mt-icon class="swag-paypal-pos-wizard-connection-disconnect__icon" name="regular-exclamation-triangle" size="80px" color="#de294c" /> </div> {% endblock %} {% block swag_paypal_pos_wizard_connection_disconnect_headline %} <div class="swag-paypal-pos-wizard-connection-disconnect__headline"> {{ $t('swag-paypal-pos.wizard.connectionDisconnect.headline') }} </div> {% endblock %} {% block swag_paypal_pos_wizard_connection_disconnect_info %} <div class="swag-paypal-pos-wizard-connection-disconnect__info"> {{ $t('swag-paypal-pos.wizard.connectionDisconnect.info') }} </div> {% endblock %} {% block swag_paypal_pos_wizard_connection_disconnect_user %} <mt-card class="swag-paypal-pos-wizard-connection-disconnect__user" position-identifier="swag-paypal-pos-wizard-connection-disconnect-user" :isLoading="isFetchingInformation"> <sw-container class="swag-paypal-pos-wizard-connection-disconnect__user-container" columns="30px auto 150px" align="center" gap="30px"> {% block swag_paypal_pos_wizard_connection_disconnect_user_avatar %} <sw-avatar class="swag-paypal-pos-wizard-connection-disconnect__user-avatar" size="40px" :firstName="posUser.firstName" :lastName="posUser.lastName" /> {% endblock %} {% block swag_paypal_pos_wizard_connection_disconnect_user_information %} <div class="swag-paypal-pos-wizard-connection-disconnect__user-info"> {% block swag_paypal_pos_wizard_connection_disconnect_user_information_real %} <div class="swag-paypal-pos-wizard-connection-disconnect__user-info-name"> {{ posUser.fullName }} </div> <div class="swag-paypal-pos-wizard-connection-disconnect__user-info-mail"> {{ posUser.mail }} </div> {% endblock %} </div> {% endblock %} </sw-container> </mt-card> {% endblock %} </div> {% endblock %} </div> {% endblock %}`,{Component:FA,Context:MA}=Shopware;FA.register("swag-paypal-pos-wizard-connection-disconnect",{template:BA,inject:["repositoryFactory","SwagPayPalPosSettingApiService"],emits:["frw-set-title","buttons-update","recreate-sales-channel"],mixin:[Shopware.Mixin.getByName("placeholder"),Shopware.Mixin.getByName("notification")],props:{salesChannel:{type:Object,required:!0},cloneSalesChannelId:{type:String,required:!1,default:null},saveSalesChannel:{type:Function,required:!0}},data(){return{posData:null,isFetchingInformation:!0}},computed:{salesChannelRepository(){return this.repositoryFactory.create("sales_channel")},posUser(){if(this.isFetchingInformation){const i=this.$t("swag-paypal-pos.wizard.connectionSuccess.fakeFirstName"),r=this.$t("swag-paypal-pos.wizard.connectionSuccess.fakeLastName"),o=this.$t("swag-paypal-pos.wizard.connectionSuccess.fakeMail");return{firstName:i,lastName:r,fullName:`${i} ${r}`,mail:o}}const n=this.posData.merchantInformation.name.split(" ");return{firstName:n[0],lastName:n[n.length-1],fullName:this.posData.merchantInformation.name,mail:this.posData.merchantInformation.contactEmail}}},created(){this.createdComponent()},methods:{createdComponent(){this.isFetchingInformation=!0,this.updateButtons(),this.setTitle(),this.SwagPayPalPosSettingApiService.fetchInformation(this.salesChannel,!0).then(n=>{this.posData=n}).finally(()=>{this.isFetchingInformation=!1,this.updateButtons()})},setTitle(){this.$emit("frw-set-title",this.$t("swag-paypal-pos.wizard.connectionDisconnect.modalTitle"))},updateButtons(){const n=[{key:"cancel",label:this.$t("global.default.cancel"),position:"right",action:this.routeBackToConnectionSuccess,disabled:!1},{key:"next",label:this.$t("swag-paypal-pos.wizard.connectionDisconnect.disconnectButton"),position:"right",variant:"danger",action:this.onDisconnect,disabled:this.isFetchingInformation}];this.$emit("buttons-update",n)},routeBackToConnectionSuccess(){this.$router.push({name:"swag.paypal.pos.wizard.connectionSuccess",params:{id:this.salesChannel.id}})},onDisconnect(){this.salesChannelRepository.delete(this.salesChannel.id,MA.api).then(()=>{Shopware.Utils.EventBus.emit("sw-sales-channel-detail-sales-channel-change"),this.$emit("recreate-sales-channel"),this.forceUpdate(),this.$router.push({name:"swag.paypal.pos.wizard.connection"})}).catch(()=>{this.createNotificationError({message:this.$t("swag-paypal-pos.wizard.connectionDisconnect.disconnectErrorMessage")})})},forceUpdate(){this.$forceUpdate(),this.updateButtons()}}});const qA=`{% block swag_paypal_pos_wizard_customization %} <div v-if="!isLoading" class="swag-paypal-pos-wizard-customization"> {% block swag_paypal_pos_wizard_customization_name %} <mt-text-field v-model="salesChannel.name" class="swag-paypal-pos-wizard-customization__name-field" validation="required" required :label="$t('swag-paypal-pos.wizard.customization.salesChannelLabel')" :placeholder="$t('sw-sales-channel.detail.placeholderName')" @update:model-value="forceUpdate" /> {% endblock %} {% block swag_paypal_pos_wizard_customization_language %} <sw-entity-single-select v-model:value="salesChannel.languageId" entity="language" required :label="$t('global.entities.language')" @update:value="changeLanguage" /> {% endblock %} {% block swag_paypal_pos_wizard_customization_media_domain %} <mt-url-field v-model="salesChannel.extensions.paypalPosSalesChannel.mediaDomain" class="swag-paypal-pos-wizard-customization__domain-field" required :label="$t('swag-paypal-pos.wizard.customization.labelDomain')" :placeholder="$t('swag-paypal-pos.wizard.customization.placeholderDomain')" :model-value="salesChannel.extensions.paypalPosSalesChannel.mediaDomain" @update:model-value="forceUpdate" /> {% endblock %} {% block swag_paypal_pos_wizard_connection_success_disclaimer %} <div class="swag-paypal-pos-wizard-customization__subtitle"> {{ $t('swag-paypal-pos.wizard.customization.subtitle') }} </div> {% endblock %} </div> {% endblock %}`,{Component:UA}=Shopware,{EntityCollection:WA}=Shopware.Data;UA.register("swag-paypal-pos-wizard-customization",{template:qA,inject:["repositoryFactory"],emits:["frw-set-title","buttons-update","toggle-loading"],props:{salesChannel:{type:Object,required:!0},cloneSalesChannelId:{type:String,required:!1,default:null},saveSalesChannel:{type:Function,required:!0},isLoading:{type:Boolean,required:!1,default:!1}},computed:{languageRepository(){return this.repositoryFactory.create("language")}},watch:{isLoading(n){n||this.updateButtons()}},created(){this.createdComponent()},methods:{createdComponent(){this.updateButtons(),this.setTitle(),this.changeLanguage()},setTitle(){this.$emit("frw-set-title",this.$t("swag-paypal-pos.wizard.customization.modalTitle"))},updateButtons(){const n=[{key:"back",label:this.$t("sw-first-run-wizard.general.buttonBack"),position:"left",action:this.routeBackToConnectionSuccess,disabled:!1},{key:"next",label:this.$t("sw-first-run-wizard.general.buttonNext"),position:"right",variant:"primary",action:this.routeToProductSelection,disabled:this.nextButtonDisabled()}];this.$emit("buttons-update",n)},nextButtonDisabled(){return this.isLoading||!this.salesChannel.name||!this.salesChannel.languageId||!this.salesChannel.extensions.paypalPosSalesChannel.mediaDomain},routeBackToConnectionSuccess(){this.$router.push({name:"swag.paypal.pos.wizard.connectionSuccess",params:{id:this.salesChannel.id}})},routeToProductSelection(){this.$router.push({name:"swag.paypal.pos.wizard.productSelection",params:{id:this.salesChannel.id}})},forceUpdate(){this.$forceUpdate(),this.$nextTick().then(()=>{this.updateButtons()})},changeLanguage(){this.salesChannel.languages=new WA("language","language",Shopware.Context.api),this.salesChannel.languages.push({id:this.salesChannel.languageId}),this.$forceUpdate()},toggleLoadingState(n){this.isConnecting=n,this.$emit("toggle-loading",n)}}});const GA=`{% block swag_paypal_pos_wizard_product_selection %} <div class="swag-paypal-pos-wizard-product-selection"> {% block swag_paypal_pos_wizard_product_selection_info %} <p class="swag-paypal-pos-wizard-product-selection__info"> {{ $t('swag-paypal-pos.wizard.productSelection.info') }} </p> {% endblock %} {% block swag_paypal_pos_wizard_product_selection_sales_channel_toggle %} <mt-switch v-model="hasClone" class="swag-paypal-pos-wizard-product-selection__clone-switch" bordered :label="$t('swag-paypal-pos.wizard.productSelection.labelToggle')" @update:modelValue="updateClone" /> {% endblock %} {% block swag_paypal_pos_wizard_product_selection_sales_channel_select %} <sw-entity-single-select v-model:value="localCloneSalesChannelId" class="swag-paypal-pos-wizard-product-selection__saleschannel-select" entity="sales_channel" :criteria="salesChannelCriteria" :disabled="!hasClone" :label="$t('swag-paypal-pos.wizard.productSelection.labelSelect')" @update:value="forceUpdate" /> {% endblock %} </div> {% endblock %}`,{Component:HA}=Shopware,{Criteria:vc}=Shopware.Data;HA.register("swag-paypal-pos-wizard-product-selection",{template:GA,emits:["update-clone-sales-channel","frw-set-title","buttons-update","toggle-loading"],props:{salesChannel:{type:Object,required:!0},cloneSalesChannelId:{type:String,required:!1,default:null},saveSalesChannel:{type:Function,required:!0}},data(){return{manualSalesChannel:!1,hasClone:!1}},computed:{localCloneSalesChannelId:{get(){return this.updateButtons(),this.cloneSalesChannelId},set(n){this.$emit("update-clone-sales-channel",n)}},salesChannelCriteria(){const n=new vc(1,500);return n.addFilter(vc.not("and",[vc.equals("id",this.salesChannel.id)])),n}},created(){this.createdComponent()},methods:{createdComponent(){this.updateButtons(),this.setTitle()},setTitle(){this.$emit("frw-set-title",this.$t("swag-paypal-pos.wizard.productSelection.modalTitle"))},updateButtons(){const n=[{key:"back",label:this.$t("sw-first-run-wizard.general.buttonBack"),position:"left",action:this.routeBackToCustomization,disabled:!1},{key:"next",label:this.$t("sw-first-run-wizard.general.buttonNext"),position:"right",variant:"primary",action:this.routeToSyncLibrary,disabled:!1}];this.$emit("buttons-update",n)},routeBackToCustomization(){this.$router.push({name:"swag.paypal.pos.wizard.customization",params:{id:this.salesChannel.id}})},routeToSyncLibrary(){this.$router.push({name:"swag.paypal.pos.wizard.syncLibrary",params:{id:this.salesChannel.id}})},updateClone(){this.$emit("update-clone-sales-channel",null),this.forceUpdate()},forceUpdate(){this.$forceUpdate(),this.updateButtons()},toggleLoadingState(n){this.isConnecting=n,this.$emit("toggle-loading",n)}}});const VA=`{% block swag_paypal_pos_wizard_sync_prices %} <div class="swag-paypal-pos-wizard-sync-prices"> {% block swag_paypal_pos_wizard_sync_prices_header %} <div class="swag-paypal-pos-wizard-sync-prices__headline"> {{ $t('swag-paypal-pos.wizard.syncPrices.header') }} </div> {% endblock %} {% block swag_paypal_pos_wizard_sync_prices_description_input %} <swag-paypal-pos-boolean-radio v-model:value="salesChannel.extensions.paypalPosSalesChannel.syncPrices" :label="$t('swag-paypal-pos.wizard.syncPrices.description')" :optionTrue="optionTrue" :optionFalse="optionFalse" /> {% endblock %} {% block swag_paypal_pos_wizard_sync_prices_disclaimer %} <div class="swag-paypal-pos-wizard-sync-prices__disclaimer"> {{ $t('swag-paypal-pos.wizard.syncPrices.disclaimer') }} </div> {% endblock %} </div> {% endblock %}`,{Component:KA}=Shopware;KA.register("swag-paypal-pos-wizard-sync-prices",{template:VA,emits:["frw-set-title","buttons-update","toggle-loading"],props:{salesChannel:{type:Object,required:!0},cloneSalesChannelId:{type:String,required:!1,default:null},saveSalesChannel:{type:Function,required:!0}},computed:{optionTrue(){return{name:this.$t("swag-paypal-pos.wizard.syncPrices.optionTrueLabel"),description:this.$t("swag-paypal-pos.wizard.syncPrices.optionTrueDescription")}},optionFalse(){return{name:this.$t("swag-paypal-pos.wizard.syncPrices.optionFalseLabel"),description:this.$t("swag-paypal-pos.wizard.syncPrices.optionFalseDescription")}}},created(){this.createdComponent()},methods:{createdComponent(){this.updateButtons(),this.setTitle()},setTitle(){this.$emit("frw-set-title",this.$t("swag-paypal-pos.wizard.syncPrices.modalTitle"))},updateButtons(){const n=[{key:"back",label:this.$t("sw-first-run-wizard.general.buttonBack"),position:"left",action:this.routeBackToSyncLibrary,disabled:!1},{key:"next",label:this.$t("sw-first-run-wizard.general.buttonNext"),position:"right",variant:"primary",action:this.routeToFinish,disabled:!1}];this.$emit("buttons-update",n)},routeBackToSyncLibrary(){this.$router.push({name:"swag.paypal.pos.wizard.syncLibrary",params:{id:this.salesChannel.id}})},routeToFinish(){this.$router.push({name:"swag.paypal.pos.wizard.finish",params:{id:this.salesChannel.id}})},forceUpdate(){this.$forceUpdate()},toggleLoadingState(n){this.isConnecting=n,this.$emit("toggle-loading",n)}}});const ZA=`{% block swag_paypal_pos_wizard_sync_library %} <div class="swag-paypal-pos-wizard-sync-library"> {% block swag_paypal_pos_wizard_sync_library_header %} <i18n class="swag-paypal-pos-wizard-sync-library__headline" path="swag-paypal-pos.wizard.syncLibrary.header" tag="div"> <template #shopwareProducts> <span>{{ $t('swag-paypal-pos.wizard.syncLibrary.shopwareProducts', shopwareProductsCount) }}</span> </template> <template #posProducts> <span>{{ $t('swag-paypal-pos.wizard.syncLibrary.posProducts', posProductsCount) }}</span> </template> </i18n> {% endblock %} {% block swag_paypal_pos_wizard_sync_library_description_input %} <sw-radio-field v-model:value="salesChannel.extensions.paypalPosSalesChannel.replace" class="swag-paypal-pos-boolean-radio" :label="$t('swag-paypal-pos.wizard.syncLibrary.description')" :options="options" /> {% endblock %} {% block swag_paypal_pos_wizard_sync_library_disclaimer %} <div class="swag-paypal-pos-wizard-sync-library__disclaimer"> {{ $t('swag-paypal-pos.wizard.syncLibrary.disclaimer') }} </div> {% endblock %} </div> {% endblock %}`,{Component:jA}=Shopware;jA.register("swag-paypal-pos-wizard-sync-library",{template:ZA,inject:["SwagPayPalPosSettingApiService"],emits:["frw-set-title","buttons-update","toggle-loading"],props:{salesChannel:{type:Object,required:!0},cloneSalesChannelId:{type:String,required:!1,default:null},saveSalesChannel:{type:Function,required:!0}},data(){return{shopwareProductsCount:0,posProductsCount:0}},computed:{options(){return[{value:2,name:this.$t("swag-paypal-pos.wizard.syncLibrary.optionReplacePermanentlyLabel"),description:this.$t("swag-paypal-pos.wizard.syncLibrary.optionReplacePermanentlyDescription")},{value:1,name:this.$t("swag-paypal-pos.wizard.syncLibrary.optionReplaceOneTimeLabel"),description:this.$t("swag-paypal-pos.wizard.syncLibrary.optionReplaceOneTimeDescription")},{value:0,name:this.$t("swag-paypal-pos.wizard.syncLibrary.optionReplaceNotLabel"),description:this.$t("swag-paypal-pos.wizard.syncLibrary.optionReplaceNotDescription")}]}},created(){this.createdComponent()},methods:{createdComponent(){this.updateButtons(),this.setTitle(),this.fetchProductCounts()},setTitle(){this.$emit("frw-set-title",this.$t("swag-paypal-pos.wizard.syncLibrary.modalTitle"))},updateButtons(){const n=[{key:"back",label:this.$t("sw-first-run-wizard.general.buttonBack"),position:"left",action:this.routeBackToProductSelection,disabled:!1},{key:"next",label:this.$t("sw-first-run-wizard.general.buttonNext"),position:"right",variant:"primary",action:this.routeToSyncPrices,disabled:!1}];this.$emit("buttons-update",n)},routeBackToProductSelection(){this.$router.push({name:"swag.paypal.pos.wizard.productSelection",params:{id:this.salesChannel.id}})},routeToSyncPrices(){this.$router.push({name:"swag.paypal.pos.wizard.syncPrices",params:{id:this.salesChannel.id}})},forceUpdate(){this.$forceUpdate()},toggleLoadingState(n){this.isConnecting=n,this.$emit("toggle-loading",n)},fetchProductCounts(){this.toggleLoadingState(!0),this.SwagPayPalPosSettingApiService.getProductCount(this.salesChannel.id,this.cloneSalesChannelId).then(n=>{this.shopwareProductsCount=n.localCount,this.posProductsCount=n.remoteCount}).finally(()=>{this.toggleLoadingState(!1)})}}});const YA=`{% block swag_paypal_pos_wizard_finish %} <div class="swag-paypal-pos-wizard-finish"> {% block swag_paypal_pos_wizard_finish_content %} <div class="swag-paypal-pos-wizard-finish__content"> {% block swag_paypal_pos_wizard_finish_content_icon %} <div class="swag-paypal-pos-wizard-finish__icon-wrapper"> <mt-icon class="swag-paypal-pos-wizard-finish__icon" name="regular-checkmark" size="80px" color="#37D046" /> </div> {% endblock %} {% block swag_paypal_pos_wizard_finish_content_header %} <div class="swag-paypal-pos-wizard-finish__content-header"> {{ $t('swag-paypal-pos.wizard.finish.header') }} </div> {% endblock %} {% block swag_paypal_pos_wizard_finish_content_description %} <div class="swag-paypal-pos-wizard-finish__content-description"> <p class="swag-paypal-pos-wizard-finish__first-paragraph"> {{ $t('swag-paypal-pos.wizard.finish.firstParagraph') }} </p> <p class="swag-paypal-pos-wizard-finish__second-paragraph"> {{ $t('swag-paypal-pos.wizard.finish.secondParagraph') }} </p> </div> {% endblock %} </div> {% endblock %} </div> {% endblock %}`,{Component:XA}=Shopware;XA.register("swag-paypal-pos-wizard-finish",{template:YA,inject:["SwagPayPalPosApiService"],emits:["frw-set-title","buttons-update","frw-finish"],props:{salesChannel:{type:Object,required:!0},cloneSalesChannelId:{type:String,required:!1,default:null}},created(){this.createdComponent()},methods:{createdComponent(){this.updateButtons(),this.setTitle()},setTitle(){this.$emit("frw-set-title",this.$t("swag-paypal-pos.wizard.finish.modalTitle"))},updateButtons(){const n=[{key:"back",label:this.$t("sw-first-run-wizard.general.buttonBack"),position:"left",action:this.routeBackToSyncPrices,disabled:!1},{key:"finish",label:this.$t("sw-first-run-wizard.general.buttonFinish"),position:"right",variant:"primary",action:this.onFinish,disabled:!1}];this.$emit("buttons-update",n)},routeBackToSyncPrices(){this.$router.push({name:"swag.paypal.pos.wizard.syncPrices",params:{id:this.salesChannel.id}})},onFinish(){this.$emit("frw-finish")}}});const{Module:JA}=Shopware;JA.register("swag-paypal-pos",{type:"plugin",name:"SwagPayPalPos",title:"swag-paypal-settings.module.title",description:"swag-paypal-settings.module.description",version:"1.0.0",targetVersion:"1.0.0",color:"#9AA8B5",icon:"regular-sync",routes:{detail:{component:"swag-paypal-pos",path:":id/detail",redirect:{name:"swag.paypal.pos.detail.overview"},meta:{privilege:"sales_channel.viewer"},children:{overview:{component:"swag-paypal-pos-detail-overview",path:"overview",meta:{privilege:"sales_channel.viewer"}},syncedProducts:{component:"swag-paypal-pos-detail-synced-products",path:"synced-products",meta:{privilege:"sales_channel.viewer"}},settings:{component:"swag-paypal-pos-detail-settings",path:"settings",meta:{privilege:"sales_channel.viewer"}},runs:{component:"swag-paypal-pos-detail-runs",path:"runs",meta:{privilege:"sales_channel.viewer"}}}},wizard:{component:"swag-paypal-pos-wizard",path:":id?/wizard",redirect:{name:"swag.paypal.pos.wizard.connection"},meta:{privilege:"sales_channel.creator"},children:{connection:{component:"swag-paypal-pos-wizard-connection",path:"connection",meta:{privilege:"sales_channel.creator"}},connectionSuccess:{component:"swag-paypal-pos-wizard-connection-success",path:"connection-success",meta:{privilege:"sales_channel.creator"}},connectionDisconnect:{component:"swag-paypal-pos-wizard-connection-disconnect",path:"connection-disconnect",meta:{privilege:"sales_channel.creator"}},customization:{component:"swag-paypal-pos-wizard-customization",path:"customization",meta:{privilege:"sales_channel.creator"}},productSelection:{component:"swag-paypal-pos-wizard-product-selection",path:"product-selection",meta:{privilege:"sales_channel.creator"}},syncPrices:{component:"swag-paypal-pos-wizard-sync-prices",path:"sync-prices",meta:{privilege:"sales_channel.creator"}},syncLibrary:{component:"swag-paypal-pos-wizard-sync-library",path:"sync-library",meta:{privilege:"sales_channel.creator"}},finish:{component:"swag-paypal-pos-wizard-finish",path:"finish",meta:{privilege:"sales_channel.creator"}}}}}});Shopware.Component.register("swag-paypal-settings-icon",()=>Re(()=>import("./index-CsBAAWMw.js"),__vite__mapDeps([25,26])));Shopware.Component.register("swag-paypal-settings-locale-select",()=>Re(()=>import("./index-BCZeh6ai.js"),__vite__mapDeps([27,3,28])));Shopware.Component.register("swag-paypal-settings-sales-channel-switch",()=>Re(()=>import("./index-CjRcIrtF.js"),__vite__mapDeps([29,30])));Shopware.Component.register("swag-paypal-settings-webhook",()=>Re(()=>import("./index-CzUkyfh1.js"),__vite__mapDeps([31,32])));Shopware.Component.register("swag-paypal-settings-advanced",()=>Re(()=>import("./index-CTAXISfe.js"),__vite__mapDeps([33,3,34])));Shopware.Component.register("swag-paypal-settings-general",()=>Re(()=>import("./index-B6HE4bLc.js"),__vite__mapDeps([35,3,36])));Shopware.Component.register("swag-paypal-settings-storefront",()=>Re(()=>import("./index-B_pWpqqy.js"),__vite__mapDeps([37,3])));Shopware.Component.register("swag-paypal-settings",()=>Re(()=>import("./index-CnMEVSY-.js"),[]));Shopware.Module.register("swag-paypal-settings",{type:"plugin",name:"SwagPayPalSettings",title:"swag-paypal-settings.module.title",description:"swag-paypal-settings.module.description",version:"1.0.0",targetVersion:"1.0.0",color:"#9AA8B5",icon:"regular-cog",routes:{index:{component:"swag-paypal-settings",path:"index",redirect:{name:"swag.paypal.settings.index.general"},meta:{parentPath:"sw.settings.index.plugins",privilege:"swag_paypal.viewer"},children:{general:{path:"general",component:"swag-paypal-settings-general",meta:{privilege:"swag_paypal.viewer",parentPath:"sw.settings.index"}},storefront:{path:"storefront",component:"swag-paypal-settings-storefront",meta:{privilege:"swag_paypal.viewer",parentPath:"sw.settings.index"}},advanced:{path:"advanced",component:"swag-paypal-settings-advanced",meta:{privilege:"swag_paypal.viewer",parentPath:"sw.settings.index"}}}}},settingsItem:{group:"plugins",to:"swag.paypal.settings.index",iconComponent:"swag-paypal-settings-icon",backgroundEnabled:!0,privilege:"swag_paypal.viewer"}});const Fa=Shopware.Classes.ApiService,{EntityCollection:Sc}=Shopware.Data;class QA extends Fa{constructor(i,r,o="paypal/pos"){super(i,r,o)}validateApiCredentials(i,r=null){return this.httpClient.post(`_action/${this.getApiBasePath()}/validate-api-credentials`,{apiKey:i,salesChannelId:r},{headers:this.getBasicHeaders()}).then(Fa.handleResponse.bind(this))}fetchInformation(i,r=!1){var o,c;return this.httpClient.post(`${this.getApiBasePath()}/fetch-information`,{apiKey:(c=(o=i.extensions)==null?void 0:o.paypalPosSalesChannel)==null?void 0:c.apiKey},{headers:this.getBasicHeaders()}).then(Fa.handleResponse.bind(this)).then(h=>(delete h.extensions,i.languages??(i.languages=new Sc("language","language",Shopware.Context.api)),i.currencies??(i.currencies=new Sc("currency","currency",Shopware.Context.api)),i.countries??(i.countries=new Sc("country","country",Shopware.Context.api)),h.languageId!==null&&(i.id===null||r)?(i.languages.length=0,i.languages.push({id:h.languageId})):delete h.languageId,Object.assign(i,h),i.currencies.length=0,i.currencies.push({id:h.currencyId}),i.countries.length=0,i.countries.push({id:h.countryId}),h))}cloneProductVisibility(i,r){return this.httpClient.post(`_action/${this.getApiBasePath()}/clone-product-visibility`,{fromSalesChannelId:i,toSalesChannelId:r},{headers:this.getBasicHeaders()}).then(Fa.handleResponse.bind(this))}getProductCount(i,r){return this.httpClient.get(`${this.getApiBasePath()}/product-count`,{params:{salesChannelId:i,cloneSalesChannelId:r},headers:this.getBasicHeaders()}).then(Fa.handleResponse.bind(this))}generateApiUrl(){return`https://my.izettle.com/apps/api-keys?name=Shopware%20integration&scopes=${["READ:PURCHASE","READ:FINANCE","READ:USERINFO","READ:PRODUCT","WRITE:PRODUCT"].join("%20")}&utm_source=local_partnership&utm_medium=ecommerce&utm_campaign=shopware`}}const rn=Shopware.Classes.ApiService;class eI extends rn{constructor(r,o,c="paypal/pos"){super(r,o,c);Qp(this,"basicConfig");this.basicConfig={timeout:3e5}}startCompleteSync(r){return this.httpClient.post(`_action/${this.getApiBasePath()}/sync/${r}`,null,{...this.basicConfig,headers:this.getBasicHeaders()}).then(rn.handleResponse.bind(this))}startProductSync(r){return this.httpClient.post(`_action/${this.getApiBasePath()}/sync/${r}/products`,null,{...this.basicConfig,headers:this.getBasicHeaders()}).then(rn.handleResponse.bind(this))}startInventorySync(r){return this.httpClient.post(`_action/${this.getApiBasePath()}/sync/${r}/inventory`,null,{...this.basicConfig,headers:this.getBasicHeaders()}).then(rn.handleResponse.bind(this))}startImageSync(r){return this.httpClient.post(`_action/${this.getApiBasePath()}/sync/${r}/images`,null,{...this.basicConfig,headers:this.getBasicHeaders()}).then(rn.handleResponse.bind(this))}startLogCleanup(r){return this.httpClient.post(`_action/${this.getApiBasePath()}/log/cleanup/${r}`,null,{...this.basicConfig,headers:this.getBasicHeaders()}).then(rn.handleResponse.bind(this))}abortSync(r){return this.httpClient.post(`_action/${this.getApiBasePath()}/sync/abort/${r}`,null,{...this.basicConfig,headers:this.getBasicHeaders()}).then(rn.handleResponse.bind(this))}resetSync(r){return this.httpClient.post(`_action/${this.getApiBasePath()}/sync/reset/${r}`,null,{...this.basicConfig,headers:this.getBasicHeaders()}).then(rn.handleResponse.bind(this))}getProductLog(r,o=1,c=10){return this.httpClient.get(`${this.getApiBasePath()}/product-log/${r}`,{...this.basicConfig,headers:this.getBasicHeaders(),params:{page:o,limit:c}}).then(rn.handleResponse.bind(this))}}const Pc=Shopware.Classes.ApiService;class tI extends Pc{constructor(i,r,o="paypal/pos"){super(i,r,o)}registerWebhook(i){return this.httpClient.post(`_action/${this.getApiBasePath()}/webhook/registration/${i}`,{},{headers:this.getBasicHeaders()}).then(Pc.handleResponse.bind(this))}unregisterWebhook(i){return this.httpClient.delete(`_action/${this.getApiBasePath()}/webhook/registration/${i}`,{headers:this.getBasicHeaders()}).then(Pc.handleResponse.bind(this))}}const ni=Shopware.Classes.ApiService;class nI extends ni{constructor(i,r,o="paypal"){super(i,r,o)}register(i){return this.httpClient.post(`_action/${this.getApiBasePath()}/webhook/register/${i}`,{},{headers:this.getBasicHeaders()}).then(ni.handleResponse.bind(this))}unregister(i){return this.httpClient.delete(`_action/${this.getApiBasePath()}/webhook/register/${i}`,{headers:this.getBasicHeaders()}).then(ni.handleResponse.bind(this))}status(i){return this.httpClient.get(`_action/${this.getApiBasePath()}/webhook/status/${i}`,{headers:this.getBasicHeaders()}).then(ni.handleResponse.bind(this))}}const Ma=Shopware.Classes.ApiService;class aI extends Ma{constructor(i,r,o="paypal"){super(i,r,o)}getPaymentDetails(i,r){return this.httpClient.get(`${this.getApiBasePath()}/payment-details/${i}/${r}`,{headers:this.getBasicHeaders()}).then(Ma.handleResponse.bind(this))}capturePayment(i,r,o,c,h,_){return this.httpClient.post(`_action/${this.getApiBasePath()}/capture-payment/${r}/${o}/${i}`,{captureAmount:c,currency:h,captureIsFinal:_},{headers:this.getBasicHeaders()}).then(Ma.handleResponse.bind(this))}refundPayment(i,r,o,c,h,_,g,w){return this.httpClient.post(`_action/${this.getApiBasePath()}/refund-payment/${r}/${o}/${i}`,{refundAmount:c,currency:h,description:_,reason:g,refundInvoiceNumber:w},{headers:this.getBasicHeaders()}).then(Ma.handleResponse.bind(this))}voidPayment(i,r,o){return this.httpClient.post(`_action/${this.getApiBasePath()}/void-payment/${r}/${o}/${i}`,{},{headers:this.getBasicHeaders()}).then(Ma.handleResponse.bind(this))}}const Cc=Shopware.Classes.ApiService;class rI extends Cc{constructor(i,r,o="paypal-v2"){super(i,r,o)}getOrderDetails(i,r){return this.httpClient.get(`${this.getApiBasePath()}/order/${i}/${r}`,{headers:this.getBasicHeaders()}).then(Cc.handleResponse.bind(this))}refundCapture(i,r,o,c,h,_,g,w){return this.doPostRequest(`${this.getApiBasePath("","_action")}/refund-capture/${i}/${r}/${o}`,w,{currency:c,amount:h,invoiceNumber:_,noteToPayer:g})}captureAuthorization(i,r,o,c,h,_,g,w){return this.doPostRequest(`${this.getApiBasePath("","_action")}/capture-authorization/${i}/${r}`,g,{currency:o,amount:c,invoiceNumber:h,noteToPayer:_,isFinal:w})}voidAuthorization(i,r,o){return this.doPostRequest(`${this.getApiBasePath("","_action")}/void-authorization/${i}/${r}`,o)}doPostRequest(i,r,o={}){return this.httpClient.post(i,{partnerAttributionId:r,...o},{headers:this.getBasicHeaders()}).then(Cc.handleResponse.bind(this))}}const Hf=Shopware.Classes.ApiService;class iI extends Hf{constructor(i,r,o="paypal"){super(i,r,o)}setDefaultPaymentForSalesChannel(i=null){return this.httpClient.post(`_action/${this.getApiBasePath()}/saleschannel-default`,{salesChannelId:i},{headers:this.getBasicHeaders()}).then(Hf.handleResponse.bind(this))}}const kc=Shopware.Classes.ApiService;class sI extends kc{constructor(i,r,o="paypal/dispute"){super(i,r,o)}list(i=null,r=null){return this.httpClient.get(this.getApiBasePath(),{params:{salesChannelId:i,disputeStateFilter:r},headers:this.getBasicHeaders()}).then(kc.handleResponse.bind(this))}detail(i,r){return this.httpClient.get(`${this.getApiBasePath()}/${i}`,{params:{salesChannelId:r},headers:this.getBasicHeaders()}).then(kc.handleResponse.bind(this))}}const qa=Shopware.Classes.ApiService;class oI extends qa{constructor(i,r,o="paypal"){super(i,r,o)}save(i){return this.httpClient.post(`_action/${this.getApiBasePath()}/save-settings`,i,{headers:this.getBasicHeaders()}).then(qa.handleResponse.bind(this))}testApiCredentials(i,r,o,c){return this.httpClient.post(`_action/${this.getApiBasePath()}/test-api-credentials`,{clientId:i,clientSecret:r,sandboxActive:c,merchantPayerId:o},{headers:this.getBasicHeaders()}).then(qa.handleResponse.bind(this))}getApiCredentials(i,r,o,c,h={},_={}){return this.httpClient.post(`_action/${this.getApiBasePath()}/get-api-credentials`,{authCode:i,sharedId:r,nonce:o,sandboxActive:c},{params:h,headers:this.getBasicHeaders(_)}).then(qa.handleResponse.bind(this))}getMerchantInformation(i=null){return this.httpClient.get(`_action/${this.getApiBasePath()}/merchant-information`,{params:{salesChannelId:i},headers:this.getBasicHeaders()}).then(qa.handleResponse.bind(this))}}const{Application:Ut}=Shopware,sn=Ut.getContainer("init");Ut.addServiceProvider("SwagPayPalPosSettingApiService",n=>new QA(sn.httpClient,n.loginService));Ut.addServiceProvider("SwagPayPalPosApiService",n=>new eI(sn.httpClient,n.loginService));Ut.addServiceProvider("SwagPayPalPosWebhookRegisterService",n=>new tI(sn.httpClient,n.loginService));Ut.addServiceProvider("SwagPayPalWebhookService",n=>new nI(sn.httpClient,n.loginService));Ut.addServiceProvider("SwagPayPalPaymentService",n=>new aI(sn.httpClient,n.loginService));Ut.addServiceProvider("SwagPayPalOrderService",n=>new rI(sn.httpClient,n.loginService));Ut.addServiceProvider("SwagPaypalPaymentMethodService",n=>new iI(sn.httpClient,n.loginService));Ut.addServiceProvider("SwagPayPalDisputeApiService",n=>new sI(sn.httpClient,n.loginService));Ut.addServiceProvider("SwagPayPalSettingsService",n=>new oI(sn.httpClient,n.loginService));const lI={"swag-paypal":{errors:{UNKNOWN:"Ein unbekannter Fehler ist aufgetreten",SWAG_PAYPAL__API_INVALID_CREDENTIALS:"Die API-Zugangsdaten sind ungltig",SWAG_PAYPAL__API_NOT_AVAILABLE:"Die PayPal-Services sind derzeit nicht verfgbar. Bitte versuchen Sie es spter errneut.",SWAG_PAYPAL__INVALID_API_CREDENTIALS:"Die API-Zugangsdaten sind ungltig"},notifications:{save:{title:"PayPal-Einstellungen",webhookMessage:"Der Webhook konnte nicht gespeichert werden:<br>{message}",errorMessage:"Speicherung fehlgeschlagen:<br>{message}"},merchantInformation:{title:"PayPal Account",errorMessage:"Abrufen fehlgeschlagen:<br>{message}"},credentials:{title:"PayPal-Zugangsdaten",errorMessage:"Abrufen fehlgeschlagen:<br>{message}"},posError:{title:"Zettle POS"}}},"swag-paypal-onboarding-button":{sandbox:{title:"PayPal-Sandbox-Konto verbinden",changeTitle:"Anderes Sandbox-Konto verbinden",onboardingTitle:"PayPal Sandbox-Onboarding starten"},live:{title:"PayPal-Konto verbinden",changeTitle:"Anderes Konto verbinden",onboardingTitle:"PayPal Onboarding starten",restartOnboardingTitle:"PayPal Onboarding wiederholen"}},"swag-paypal-setting":{label:{clientId:"Client-ID",clientSecret:"Client-Secret",merchantPayerId:"PayPal-Hndler-ID",clientIdSandbox:"Sandbox-Client-ID",clientSecretSandbox:"Sandbox-Client-Secret",merchantPayerIdSandbox:"Sandbox-PayPal-Hndler-ID",sandbox:"Sandbox aktivieren",intent:"Zahlungsabschluss",submitCart:"Warenkorb bertragen",brandName:"Eigener Markenname auf der PayPal-Seite",landingPage:"PayPal-Landingpage",sendOrderNumber:"Bestellnummer bertragen",orderNumberPrefix:"Bestellnummer-Prfix",orderNumberSuffix:"Bestellnummer-Suffix",excludedProductIds:"Ausgeschlossene Produkte",excludedProductStreamIds:"Ausgeschlossene dynamische Produktgruppen",ecsDetailEnabled:"'Direkt zu PayPal' auf Detailseite",ecsCartEnabled:"'Direkt zu PayPal' im Warenkorb",ecsOffCanvasEnabled:"'Direkt zu PayPal' im Off-Canvas Warenkorb",ecsLoginEnabled:"'Direkt zu PayPal' auf Loginseite",ecsListingEnabled:"'Direkt zu PayPal' auf Listingseiten",ecsButtonColor:"Buttonfarbe",ecsButtonShape:"Buttonform",ecsSubmitCart:"Warenkorb bertragen",ecsButtonLanguageIso:"Buttonsprache",ecsShowPayLater:"'Spter Bezahlen' neben dem 'PayPal Checkout'-Button anzeigen",installmentBannerDetailPageEnabled:"'Spter Bezahlen'-Banner auf Detailseite",installmentBannerCartEnabled:"'Spter Bezahlen'-Banner im Warenkorb",installmentBannerOffCanvasCartEnabled:"'Spter Bezahlen'-Banner im Off-Canvas-Warenkorb",installmentBannerLoginPageEnabled:"'Spter Bezahlen'-Banner auf Loginseite",installmentBannerFooterEnabled:"'Spter Bezahlen'-Banner im Footer",acdcForce3DS:"Zahlungen aus Nicht-3DS-Lndern blockieren",puiCustomerServiceInstructions:"Kundenservice-Anweisungen fr Rechnungskauf",spbCheckoutEnabled:"Smart Payment Buttons aktivieren",spbButtonLanguageIso:"Buttonsprache",spbAlternativePaymentMethodsEnabled:"Aktiviert die alternativen Zahlungsarten der Smart Payment Buttons.",spbShowPayLater:"'Spter Bezahlen'-Button neben PayPal-Button anzeigen",spbButtonColor:"Buttonfarbe",spbButtonShape:"Buttonform",vaultingEnabledWallet:"Vaulting fr PayPal-Zahlungen aktivieren",vaultingEnabledACDC:"Vaulting fr Kredit- und Debitkarten-Zahlungen verwenden",vaultingEnabledVenmo:"Vaulting fr Venmo-Zahlungen verwenden",crossBorderMessagingEnabled:'Lnderbergreifende Lokalisierung der "Spter bezahlen"-Nachricht aktivieren',crossBorderBuyerCountry:"Lokalisierung",isLocalEnvironment:"Lokale Entwicklungsumgebung"},helpText:{clientId:"Die Client-ID der REST-API, die das Plugin dazu verwendet, sich mit der PayPal-API zu authentifizieren.",clientSecret:"Das Client-Secret der REST-API, das das Plugin dazu verwendet, sich mit der PayPal-API zu authentifizieren.",merchantPayerId:"Die PayPal-Hndler-ID, die dem PayPal-Konto zugeordnet ist (siehe Geschftsangaben in den PayPal-Kontoeinstellungen).",clientIdSandbox:"Die Client-ID der REST-API, die das Plugin im Testfall dazu verwendet, sich mit der PayPal-API zu authentifizieren.",clientSecretSandbox:"Das Client-Secret der REST-API, das das Plugin im Testfall dazu verwendet, sich mit der PayPal-API zu authentifizieren.",merchantPayerIdSandbox:"Die PayPal-Hndler-ID, die dem Sandbox-PayPal-Konto zugeordnet ist (siehe Geschftsangaben in den PayPal-Kontoeinstellungen).",sandbox:"Aktiviere diese Option, um die Integration zu testen.",submitCart:"Wenn diese Option aktiv ist, werden beim Checkout die Warenkorbdaten an PayPal bertragen.",brandName:"Dieser Text wird als Markenname auf der PayPal-Zahlungsseite angezeigt.",sendOrderNumber:"Wenn diese Option aktiv ist, wird beim Checkout die Bestellnummer an PayPal als Rechnungsnummer bertragen.",orderNumberPrefix:"Dieser Text wird vor die ursprngliche Bestellnummer gehngt (z.B. MeinShop_SW20001). Das hilft dabei der Identifizierung des Shops, in dem die Zahlung ausgefhrt wurde. Du findest diese als Rechnungsnummer in Deinem PayPal-Dashboard.",orderNumberSuffix:"Dieser Text wird an die ursprngliche Bestellnummer gehngt (z.B. SW20001_MeinShop). Das hilft dabei der Identifizierung des Shops, in dem die Zahlung ausgefhrt wurde. Du findest diese als Rechnungsnummer in Deinem PayPal-Dashboard.",excludedProductIds:"Hier ausgewhlte Produkte knnen nicht mit PayPal gekauft werden.",excludedProductStreamIds:"Hier ausgewhlte dynamische Produktgruppen knnen nicht mit PayPal gekauft werden.",ecsDetailEnabled:"Wenn diese Option aktiv ist, wird der Express Checkout Button auf jeder Produktdetailseite angezeigt.",ecsCartEnabled:"Wenn diese Option aktiv ist, wird der Express Checkout Button auf der Warenkorbseite angezeigt.",ecsOffCanvasEnabled:"Wenn diese Option aktiv ist, wird der Express Checkout Button in dem Off-Canvas-Warenkorb angezeigt.",ecsLoginEnabled:"Wenn diese Option aktiv ist, wird der Express Checkout Button auf der Login- und Registrierungsseite angezeigt.",ecsListingEnabled:"Wenn diese Option aktiv ist, wird der Express Checkout Button auf Listingseiten angezeigt.",ecsSubmitCart:"Wenn diese Option aktiv ist, wird der Warenkorb bei Express-Bestellungen an PayPal bertragen.",ecsButtonLanguageIso:"Wenn nicht gesetzt, wird die Sprache des Verkaufskanals verwendet.",ecsShowPayLater:"Die Schaltflche 'Spter Bezahlen' wird auf denselben Seiten und im selben Design wie die Schaltflche 'Direkt zu PayPal' angezeigt.",installmentBannerDetailPageEnabled:"Wenn diese Option aktiv ist, wird der 'Spter Bezahlen'-Banner auf jeder Produktdetailseite angezeigt.",installmentBannerCartEnabled:"Wenn diese Option aktiv ist, wird der 'Spter Bezahlen'-Banner im Warenkorb angezeigt.",installmentBannerOffCanvasCartEnabled:"Wenn diese Option aktiv ist, wird der 'Spter Bezahlen'-Banner im Off-Canvas-Warenkorb angezeigt.",installmentBannerLoginPageEnabled:"Wenn diese Option aktiv ist, wird der 'Spter Bezahlen'-Banner auf der Login- und Registrierungsseite angezeigt.",installmentBannerFooterEnabled:"Wenn diese Option aktiv ist, wird der 'Spter Bezahlen'-Banner im Footer angezeigt.",acdcForce3DS:"PayPal prft auf Basis der prsentierten Kredit- oder Debitkarte, ob 3DS (Starke Kunden-Authentifizierung) erforderlich ist. Durch das Setzen dieser Option werden Zahlungsversuche ohne 3DS-Check abgelehnt.",puiCustomerServiceInstructions:"Diese Anweisungen werden an PayPal & RatePay bermittelt und in Kunden-E-Mails verwendet.",spbButtonLanguageIso:"Wenn nicht gesetzt, wird die Sprache des Verkaufskanals verwendet.",spbAlternativePaymentMethodsEnabled:"Die alternativen Zahlungsarten sind Kredit- und Debitkarten und weitere."},hintText:{landingPage:{LOGIN:"Anmeldung: Auf der PayPal-Seite wird der Login als Landingpage angezeigt.",GUEST_CHECKOUT:"Gast-Checkout: Auf der PayPal-Seite werden direkt Zahlungsdaten des Kunden abgefragt, ohne dass dieser sich bei PayPal einloggen muss.",NO_PREFERENCE:"Keine Prferenz: PayPal entscheidet auf Grundlage frherer Interaktionen des Kunden mit PayPal welche Seite angezeigt wird."}}},"sw-privileges":{permissions:{parents:{swag_paypal:"PayPal"},swag_paypal:{label:"PayPal-Einstellungen"},swag_paypal_disputes:{label:"PayPal-Konflikte"}}}},cI={"swag-paypal":{errors:{UNKNOWN:"An unknown error occurred",SWAG_PAYPAL__API_INVALID_CREDENTIALS:"The API credentials are invalid",SWAG_PAYPAL__API_NOT_AVAILABLE:"PayPal services are currently unavailable. Please try again later.",SWAG_PAYPAL__INVALID_API_CREDENTIALS:"The API credentials are invalid"},notifications:{save:{title:"PayPal Settings",webhookMessage:"The webhook could not be saved:<br>{message}",errorMessage:"Saving failed:<br>{message}"},merchantInformation:{title:"PayPal Account",errorMessage:"Retrieve failed:<br>{message}"},credentials:{title:"PayPal credentials",errorMessage:"Retrieve failed:<br>{message}"},posError:{title:"Zettle POS"}}},"swag-paypal-onboarding-button":{sandbox:{title:"Connect sandbox account",changeTitle:"Connect different sandbox account",onboardingTitle:"Start PayPal sandbox onboarding"},live:{title:"Connect PayPal account",changeTitle:"Connect different account",onboardingTitle:"Start PayPal onboarding",restartOnboardingTitle:"Restart PayPal onboarding"}},"swag-paypal-setting":{label:{clientId:"Client ID",clientSecret:"Client secret",merchantPayerId:"PayPal Merchant ID",clientIdSandbox:"Sandbox client ID",clientSecretSandbox:"Sandbox client secret",merchantPayerIdSandbox:"Sandbox PayPal Merchant ID",sandbox:"Enable sandbox",intent:"Payment acquisition",submitCart:"Submit cart",brandName:"Your own brand name on PayPal page",landingPage:"PayPal landing page",sendOrderNumber:"Submit order number",orderNumberPrefix:"Order number prefix",orderNumberSuffix:"Order number suffix",excludedProductIds:"Excluded products",excludedProductStreamIds:"Excluded dynamic product groups",ecsDetailEnabled:"'PayPal Checkout' on detail page",ecsCartEnabled:"'PayPal Checkout' on cart",ecsOffCanvasEnabled:"'PayPal Checkout' on off-canvas cart",ecsLoginEnabled:"'PayPal Checkout' on login page",ecsListingEnabled:"'PayPal Checkout' on listing pages",ecsButtonColor:"Button color",ecsButtonShape:"Button shape",ecsSubmitCart:"Submit cart",ecsButtonLanguageIso:"Button locale",ecsShowPayLater:"Display 'Pay Later' button next to the 'PayPal Checkout' button",installmentBannerDetailPageEnabled:"'Pay Later' banner on detail page",installmentBannerCartEnabled:"'Pay Later' banner on cart",installmentBannerOffCanvasCartEnabled:"'Pay Later' banner on off-canvas cart",installmentBannerLoginPageEnabled:"'Pay Later' banner on login page",installmentBannerFooterEnabled:"'Pay Later' banner on footer",acdcForce3DS:"Block payments from non-3DS countries",puiCustomerServiceInstructions:"Customer service instructions for Pay upon invoice",spbCheckoutEnabled:"Enable Smart Payment Buttons",spbButtonLanguageIso:"Button locale",spbAlternativePaymentMethodsEnabled:"Enable the alternative payment methods for the Smart Payment Buttons.",spbShowPayLater:"Display 'Pay Later' button next to PayPal button",spbButtonColor:"Button color",spbButtonShape:"Button shape",vaultingEnabledWallet:"Enable Vaulting for PayPal payments",vaultingEnabledACDC:"Enable Vaulting for credit and debit cards",vaultingEnabledVenmo:"Enable Vaulting for Venmo payments",crossBorderMessagingEnabled:"Enable cross-border localization of Pay Later message",crossBorderBuyerCountry:"Localization",isLocalEnvironment:"Local development environment"},helpText:{clientId:"The REST API client ID is used to authenticate this plugin with the PayPal API.",clientSecret:"The REST API client secret is used to authenticate this plugin with the PayPal API.",merchantPayerId:"The PayPal Merchant ID assigned to your PayPal account (see Business Information in PayPal account settings).",clientIdSandbox:"The REST API client ID is used while testing to authenticate this plugin with the PayPal API.",clientSecretSandbox:"The REST API client secret is used while testing to authenticate this plugin with the PayPal API.",merchantPayerIdSandbox:"The PayPal Merchant ID assigned to your PayPal sandbox account (see Business Information in PayPal account settings).",sandbox:"Enable, if you want to test the PayPal integration.",submitCart:"If this option is active, cart data will be submitted to PayPal at checkout.",brandName:"This text will be displayed as the brand name on the PayPal payment page.",sendOrderNumber:"If this option is active, the order number will be submitted to PayPal as invoice ID at checkout.",orderNumberPrefix:"This text is placed before the original order number (e.g MyShop_SW20001). This helps to identify the shop where the payment was made. You can find it as invoice ID in your PayPal dashboard.",orderNumberSuffix:"This text is placed after the original order number (e.g SW20001_MyShop). This helps to identify the shop where the payment was made. You can find it as invoice ID in your PayPal dashboard.",excludedProductIds:"Products selected here cannot be purchased with PayPal.",excludedProductStreamIds:"Products included in the dynamic product groups selected here cannot be purchased with PayPal.",ecsDetailEnabled:"If this option is active, the Express Checkout button will be shown on each product detail page.",ecsCartEnabled:"If this option is active, the Express Checkout button will be shown on the cart.",ecsOffCanvasEnabled:"If this option is active, the Express Checkout button will be shown on the off-canvas cart.",ecsLoginEnabled:"If this option is active, the Express Checkout button will be shown on the login and register page.",ecsListingEnabled:"If this option is active, the Express Checkout button will be shown on listing pages.",ecsSubmitCart:"If this option is active, the cart will be submitted to PayPal for Express orders.",ecsButtonLanguageIso:"If not set, the sales channel language will be used.",ecsShowPayLater:"The 'Pay Later' button will be displayed on the same pages and in the same design as the 'PayPal Checkout' button.",installmentBannerDetailPageEnabled:"If this option is active, the 'Pay Later' banner will be shown on each product detail page.",installmentBannerCartEnabled:"If this option is active, the 'Pay Later' banner will be shown on the cart.",installmentBannerOffCanvasCartEnabled:"If this option is active, the 'Pay Later' banner will be shown on the off-canvas cart.",installmentBannerLoginPageEnabled:"If this option is active, the 'Pay Later' banner will be shown on the login and register page.",installmentBannerFooterEnabled:"If this option is active, the 'Pay Later' banner will be shown on the footer.",acdcForce3DS:"PayPal checks whether 3DS (Strong Customer Authentication) is required based on the credit or debit card presented. Setting this option will reject payment attempts without a 3DS check.",puiCustomerServiceInstructions:"These instructions will be submitted to PayPal & RatePay and shown in emails for the customer.",spbButtonLanguageIso:"If not set, the sales channel language will be used.",spbAlternativePaymentMethodsEnabled:"Alternative payment methods are credit- and debit cards and more."},hintText:{landingPage:{LOGIN:"Login: The PayPal site displays a login screen as landing page.",GUEST_CHECKOUT:"Guest Checkout: The PayPal site displays a form for payment information, the customer does not need to log in.",NO_PREFERENCE:"No preference: PayPal decides which page is shown, depending on the previous interaction of the customer with PayPal."}}},"sw-privileges":{permissions:{parents:{swag_paypal:"PayPal"},swag_paypal:{label:"PayPal settings"},swag_paypal_disputes:{label:"PayPal disputes"}}}},uI={"swag-paypal":{"extension-card-base":{reportIssue:"Problem melden"}}},pI={"swag-paypal":{"extension-card-base":{reportIssue:"Report Issue"}}},dI={"swag-paypal-frw-credentials":{buttonGetCredentials:"Hole API-Zugangsdaten",buttonGetSandboxCredentials:"Hole Sandbox-API-Zugangsdaten",textIntroPayPal:"Um PayPal zu nutzen mssen nur die API-Zugangsdaten eingegeben werden.",labelClientId:"Client-ID",labelClientSecret:"Client-Secret",labelMerchantPayerId:"PayPal-Hndler-ID",labelClientIdSandbox:"Sandbox-Client-ID",labelClientSecretSandbox:"Sandbox-Client-Secret",labelMerchantPayerIdSandbox:"Sandbox-PayPal-Hndler-ID",labelSandbox:"Sandbox verwenden",tooltipSandbox:"Je nach Aktivierung der Sandbox werden unterschiedliche Zugangsdaten hinterlegt.",labelSetDefault:"Als Standard-Zahlungsmethode festlegen",tooltipSetDefault:"PayPal wird als Standard-Zahlungsmethode fr alle Verkaufskanle festgelegt. Sie knnen individuelle Standard-Zahlungsmethoden pro Verkaufskanal im Einstellungsmodul festlegen.",messageFetchedError:"Bitte versuche es erneut oder nutze die erweiterten Einstellungen um die Zugangsdaten direkt einzugeben.",textFetchedSuccessful:"Die Zugangsdaten wurden erfolgreich abgerufen.",messageNoCredentials:"Es wurden keine Zugangsdaten hinterlegt.",messageInvalidCredentials:"Die Zugangsdaten sind ungltig.",messageTestSuccess:"Die Zugangsdaten sind gltig."}},hI={"swag-paypal-frw-credentials":{buttonGetCredentials:"Get API credentials",buttonGetSandboxCredentials:"Get sandbox API credentials",textIntroPayPal:"To get PayPal up and running you only need to provide your PayPal API credentials.",labelClientId:"Client ID",labelClientSecret:"Client secret",labelMerchantPayerId:"PayPal Merchant ID",labelClientIdSandbox:"Sandbox client ID",labelClientSecretSandbox:"Sandbox client secret",labelMerchantPayerIdSandbox:"Sandbox PayPal Merchant ID",labelSandbox:"Use sandbox",tooltipSandbox:"Depending on activation of the sandbox, separate credentials are saved.",labelSetDefault:"Set as default payment method",tooltipSetDefault:"PayPal will be set as default payment method of all Sales Channels. You can set individual default payment methods per Sales Channel in the settings module.",messageFetchedError:"Try again or use the advanced settings to provide your credentials.",textFetchedSuccessful:"Credentials have been fetched.",messageNoCredentials:"No credentials provided.",messageInvalidCredentials:"Credentials are invalid.",messageTestSuccess:"Credentials are valid."}},fI={"swag-paypal-settings-shipping-carrier":{cardTitle:"Standard-Versanddienstleister",cardHelpText:"Sendungsverfolgungsinformationen werden an PayPal bermittelt",description:'PayPal bietet eine Sendungsverfolgung fr Bestellungen an, die ber PayPal abgewickelt werden. Um diese zu nutzen, geben Sie einen Standard-Versanddienstleister an, der in den Bestellungen berschrieben werden kann. Eine Liste aller Versanddienstleister finden Sie <a target="_blank" href="https://developer.paypal.com/docs/tracking/reference/carriers/">hier</a>',inputLabel:"Versanddienstleister",inputPlaceholder:"PayPal-Versanddienstleister auswhlen (z.B. DE_DHL) ...",inputHelpText:'Whle "Other", um einen benutzerdefinierten Versanddienstleister einzugeben.',inputLabelOther:"Versanddienstleister Name",inputPlaceholderOther:"Name des Versanddienstleisters eingeben ...",inputHelpTextOther:"Wenn Dein Versanddienstleister nicht in der Liste enthalten ist, geben Sie hier den Namen ein. Leer lassen um den Namen der Versandart zu verwenden.",invalid:'Der angegebene Versanddienstleister ist ungltig. Bitte whle einen aus der Liste aus oder whle "Other".',commonCarrierBadge:"Hufig verwendet"}},gI={"swag-paypal-settings-shipping-carrier":{cardTitle:"Standard shipping carrier",cardHelpText:"Tracking information will be sent to PayPal",description:'PayPal offers tracking for orders processed through PayPal. To use this, specify a default shipping carrier, which can be overwritten in the orders. Find a list of all shipping providers <a target="_blank" href="https://developer.paypal.com/docs/tracking/reference/carriers/">here</a>',inputLabel:"Carrier code",inputPlaceholder:"Select a PayPal carrier code (e.g. DHL)...",inputHelpText:'Select "Other" to enter a custom carrier name.',inputLabelOther:"Carrier name",inputPlaceholderOther:"Enter a carrier name...",inputHelpTextOther:"If your carrier is not included in the list, enter the name here. Leave empty to use the name of the shipping method.",invalid:'The provided carrier code is invalid. Please choose one from the list or select "Other".',commonCarrierBadge:"Commonly used"}},_I={"swag-paypal-disputes":{general:{mainMenuItemGeneral:"PayPal Konflikte",descriptionTextModule:"Verwaltung von PayPal Konflikten"},common:{dispute_id:"ID",update_time:"Update-Zeitpunkt",response_due_date:{label:"Antwortflligkeit",seller:"Verkufer",buyer:"Kufer"},status:"Status",dispute_life_cycle_stage:"Stadium",dispute_amount:"Betrag"},list:{title:"Konflikte",titleSidebarItemRefresh:"Neu Laden",titleSidebarItemFilter:"Filter",errorTitle:"Fehler beim Abrufen der Konflikte von PayPal",emptyState:{title:"Es wurden keine Konflikte gefunden",subline:"ndere den Filter, um alle Konflikte anzuzeigen."},emptyStateNotAuthorized:{title:"PayPal nicht eingerichtet",subline:"Gehe zu den {link}, um PayPal einzurichten.",link:"Zahlungsarten"}},detail:{title:"PayPal Konflikt:",titleAddition:"(Technische Details)",mainFieldsCardTitle:"Details",externalLinkText:"Konflikt im PayPal Lsungs-Center ffnen",orderModuleLinkText:"Bestellung ffnen",rawDataCardTitle:"Rohdaten",copyButtonLabel:"Kopiere Rohdaten"}}},yI={"swag-paypal-disputes":{general:{mainMenuItemGeneral:"PayPal disputes",descriptionTextModule:"Manage PayPal disputes here"},common:{dispute_id:"ID",update_time:"Update time",response_due_date:{label:"Response due date",seller:"Seller",buyer:"Buyer"},status:"Status",dispute_life_cycle_stage:"Stage",dispute_amount:"Amount"},list:{title:"Disputes",titleSidebarItemRefresh:"Refresh",titleSidebarItemFilter:"Filter",errorTitle:"Error fetching disputes from PayPal",emptyState:{title:"No disputes found",subline:"Change the filter to show all disputes."},emptyStateNotAuthorized:{title:"No PayPal account setup",subline:"Go to the {link} for PayPal setup.",link:"Payment methods"}},detail:{title:"PayPal dispute:",titleAddition:"(Technical details)",mainFieldsCardTitle:"Details",externalLinkText:"Open dispute in PayPal resolution center",orderModuleLinkText:"Open order",rawDataCardTitle:"Raw data",copyButtonLabel:"Copy raw data"}}},mI={"swag-paypal-method":{cardTitle:"PayPal Checkout",settingsLink:"Einstellungen",header:"Mehr Zahlungsmglichkeiten in einer Lsung von PayPal",description:"PayPal Checkout ist die neue All-in-One-Lsung, mit der Sie leistungsstarke und flexible Funktionen zur Zahlungsabwicklung auf Marktpltzen und anderen Handelsplattformen anbieten knnen.",banner:"Mit PayPal Checkout Kannst Du Deinen Kunden die Bezahlung per Rechnung, Kreditkarte und viele andere lokale Zahlungsmethoden anbieten. PayPal Checkout untersttzt Dich mit der neuesten Technologie und bringt Dir hchste Flexibilitt. Du behltst Deine bisherigen Zahlungsarten und die Gebhren bleiben gleich! Aktiviere PayPal Checkout und deaktiviere PayPal PLUS, um doppelte Zahlungsmethoden in Deinem Shop zu vermeiden.",bannerLink:"Mehr Informationen",sandbox:{label:"Sandbox",onlySandboxTooltip:"Du bist bisher nur mit einem PayPal-Sandbox-Konto verbunden.",onlyLiveTooltip:"Du bist bisher nur mit einem PayPal-Live-Konto verbunden.",helpText:"Aktiviere diese Option, um die Integration zu testen."},switch:{label:"Aktiv",active:'Zahlungsart "{name}" ist jetzt aktiv.',inactive:'Zahlungsart "{name}" ist jetzt inaktiv.'},domainAssociation:{title:"Bitte vergewissere dich, dass die Domain korrekt eingestellt ist, damit Apple Pay funktioniert. Die Domain-Zuordnungsdatei ist bereits hinterlegt.",link:"Domain-Einstellungen ffnen"},paymentMethodText:"Zahlungsmglichkeiten",appImageAlt:"PayPal",ratePayLabel:"von Ratepay",editDetail:"Details bearbeiten",availabilityToolTip:{bancontactapmhandler:"Bancontact ist fr die folgenden Lnder verfgbar: Belgien",blikapmhandler:"BLIK ist fr die folgenden Lnder verfgbar: Polen",boletobancarioapmhandler:"Boleto Bancrio ist fr die folgenden Lnder verfgbar: Brasilien",epsapmhandler:"eps ist fr die folgenden Lnder verfgbar: sterreich",idealapmhandler:"iDEAL ist fr die folgenden Lnder verfgbar: Niederlande",multibancoapmhandler:"Multibanco ist fr die folgenden Lnder verfgbar: Portugal",mybankapmhandler:"MyBank ist fr die folgenden Lnder verfgbar: Italien",oxxoapmhandler:"OXXO ist fr die folgenden Lnder verfgbar: Mexiko",p24apmhandler:"Przelewy24 ist fr die folgenden Lnder verfgbar: Polen",paylaterhandler:"Spter Bezahlen ist fr die folgenden Lnder verfgbar: Australien, Deutschland, Frankreich, Italien, Spanien, Vereinigte Staaten, Vereinigtes Knigreich",puihandler:"Rechnungskauf ist fr die folgenden Lnder verfgbar: Deutschland",sepahandler:"SEPA Lastschrift ist fr die folgenden Lnder verfgbar: Deutschland",venmohandler:"Venmo ist fr die folgenden Lnder verfgbar: USA",trustlyapmhandler:"Trustly ist fr die folgenden Lnder verfgbar: Estland, Finnland, Niederlande, Schweden"},onboardingStatusText:{active:"Autorisiert",limited:"Limitiert",pending:"Authorisierung ausstehend",ineligible:"Gesperrt",inactive:"Onboarding bentigt",mybank:"Limitiert",test:"Test Modus"},onboardingStatusTooltip:{ineligible:"PayPal hat uns informiert, dass diese Zahlungsmethode aktuell fr Ihren Account nicht freigeschaltet ist.",limited:"PayPal hat uns informiert, dass Einschrnkugen dieser Zahlungsart fr Ihren Account bestehen.",mybank:"Hndler, die MyBank nach Februar 2023 aktivieren, bentigen eine manuelle Genehmigung von PayPal. Wenden Sie sich an den PayPal-Support, um weitere Informationen zu erhalten."},merchantStatusText:{emailUnconfirmed:"E-Mail unbesttigt",paymentsUnreceivable:"Zahlungen nicht empfangbar",onboardingNeeded:"Erneutes Onboarding bentigt",connected:"Verbunden",notConnected:"Nicht verbunden"},paymentActivateSwitchTooltip:'Gehen Sie zu den <a class="swag-paypal-go-to-settings-link" href="#/swag/paypal/index">Einstellungen der PayPal-Erweiterung </a> und aktivieren Sie PayPal Commerce Platform, um diese Zahlungsmethode zu aktivieren.'}},wI={"swag-paypal-method":{cardTitle:"PayPal Checkout",settingsLink:"Settings",header:"More payment methods with one solution from PayPal",description:"PayPal Checkout is the new all-in-one solution that lets you offer powerful flexibile payment processing features on the marketplaces and other commerce platforms.",banner:"With PayPal Checkout, you can offer your customers payment by invoice, credit card and other local payment methods. PayPal Checkout supports you with the latest technology and brings you the highest flexibility. You keep your existing payment methods, and the fees remain the same! Activate PayPal Checkout and deactivate PayPal PLUS to avoid duplicate payment methods in your shop.",bannerLink:"More information",sandbox:{label:"Sandbox",onlySandboxTooltip:"You are only connected a sandbox PayPal account so far.",onlyLiveTooltip:"You are only connected a live PayPal account so far.",helpText:"Enable, if you want to test the PayPal integration."},switch:{label:"Active",active:'Payment method "{name}" is now active.',inactive:'Payment method "{name}" is now inactive.'},domainAssociation:{title:"Please make sure your domain is set correctly for Apple Pay to work properly. The domain association file is already present.",link:"Open domains settings"},paymentMethodText:"Payment methods",appImageAlt:"PayPal",ratePayLabel:"by Ratepay",editDetail:"Edit details",availabilityToolTip:{bancontactapmhandler:"Bancontact is available for the following countries: Belgium",blikapmhandler:"BLIK is available for the following countries: Poland",boletobancarioapmhandler:"Boleto Bancrio is available for the following countries: Brazil",epsapmhandler:"eps is available for the following countries: Austria",idealapmhandler:"iDEAL is available for the following countries: Netherlands",multibancoapmhandler:"Multibanco is available for the following countries: Portugal",mybankapmhandler:"MyBank is available for the following countries: Italy",oxxoapmhandler:"OXXO is available for the following countries: Mexico",p24apmhandler:"Przelewy24 is available for the following countries: Poland",paylaterhandler:"Pay Later is available for the following countries: Australia, France, Germany, Italy, Spain, United Kingdom, United States",puihandler:"Pay upon invoice is available for the following countries: Germany",sepahandler:"SEPA Lastschrift is available for the following countries: Germany",venmohandler:"Venmo is available for the following countries: United States",trustlyapmhandler:"Trustly is available for the following countries: Estonia, Finland, Netherlands, Sweden"},onboardingStatusText:{active:"Authorized",limited:"Limited",pending:"Authorization pending",ineligible:"Ineligible",inactive:"Onboarding needed",mybank:"Limited",test:"Test mode"},onboardingStatusTooltip:{ineligible:"PayPal informed us, that this payment method is currently ineligible for your account.",limited:"PayPal informed us, that this payment method has some limitations for your account.",mybank:"Merchants enabling MyBank after February 2023 will need manual approval by PayPal. Reach out to PayPal support for further information on this."},merchantStatusText:{emailUnconfirmed:"Email unconfirmed",paymentsUnreceivable:"Payments unreceivable",onboardingNeeded:"Re-onboarding needed",connected:"Connected",notConnected:"Not connected"},paymentActivateSwitchTooltip:'Go to the <a class="swag-paypal-go-to-settings-link" href="#/swag/paypal/index">PayPal extension settings </a> and activate PayPal Commerce Platform to activate this payment method.'}},bI={"swag-paypal-payment":{general:{title:"Bestellungen"},tabs:{order:"PayPal",overview:"bersicht"},paymentDetails:{cardTitle:"Zahlung",invoice:{heading:"Rechnungsbetrag",totalAmount:"Gesamtbetrag:",subTotal:"Zwischensumme:",shipping:"Versandkosten:",discount:"Rabatt:",handling:"Bearbeitungsgebhr:",insurance:"Versicherung:",shipping_discount:"Versandkostenrabatt:"},payment:{heading:"Zahlungsdetails",intent:"Zahlungsabschluss:",paymentId:"Zahlungs-ID:",cartId:"Warenkorb-ID:",state:"Status:",createTime:"Erstellt:",updateTime:"Zuletzt aktualisiert:"},customer:{heading:"Kunde",payerId:"Kunden-ID:"},error:{title:"Fehler beim Abrufen der Zahlungsdaten von PayPal"}},puiDetails:{cardTitle:"Zahlungsdaten fr Rechnungskauf",buttonCopy:"Kopieren",bank:"Bank:",iban:"IBAN:",bic:"BIC:",accountHolder:"Kontoinhaber:",amount:"Betrag:",reference:"Verwendungszweck:"},transactionHistory:{cardTitle:"Zahlungsverlauf",states:{authorization:"Autorisierung",sale:"Verkauf",refund:"Rckerstattung",capture:"Einzug",order:"Bestellung"},types:{type:"Typ",amount:"Betrag",createTime:"Erstellt",updateTime:"Aktualisiert",state:"Status",trackingId:"Tracking-ID",transactionFee:"Aufschlag",paymentMode:"Zahlungsmodus"}},buttons:{label:{refund:"Rckerstattung",capture:"Einziehen",void:"Autorisierung abbrechen"}},modal:{title:{refund:"Rckerstattung",capture:"Zahlung einziehen",void:"Autorisierung abbrechen"}},refundAction:{successMessage:"Die Rckerstattung war erfolgreich.",invoiceSelect:{label:"Einzug whlen"},refundAmount:{label:"Betrag",helpText:"Ein Betrag von '0' sorgt fr die Erstattung der kompletten Zahlung."},refundDescription:{label:"Beschreibung",placeholder:"Beschreibung eintragen"},refundReason:{label:"Begrndung",placeholder:"Begrndung eintragen"},refundNoteToPayer:{label:"Verwendungszweck",placeholder:"Verwendungszweck eintragen"},refundInvoiceNumber:{label:"Rechnungsnummer",placeholder:"Rechnungsnummer eintragen"},confirmButton:{text:"Ausfhren"}},captureAction:{successMessage:"Die Autorisierung war erfolgreich.",maxAmount:"Maximalbetrag",currentAmount:"Betrag",captureInvoiceNumber:{label:"Rechnungsnummer",placeholder:"Rechnungsnummer eintragen"},captureNoteToPayer:{label:"Verwendungszweck",placeholder:"Verwendungszweck eintragen"},isFinal:"Kein erneuter Einzug mglich",isFinalHint:"Hinweis: Als letzter Einzug markiert, obwohl nicht der ganze Betrag eingezogen werden soll.",button:{text:"Zahlung einziehen"}},voidAction:{successMessage:"Die Autorisierung wurde erfolgreich abgebrochen.",confirm:{message:"Mchtest du diese Zahlung wirklich abbrechen?",button:{confirm:"Autorisierung abbrechen"}}},errorPage:{title:"Zahlungsdetails nicht verfgbar",canceledPaymentContent:"Wenn du diese Nachricht siehst, handelt es sich vermutlich um eine Zahlung, die vom Kunden abgebrochen wurde. Abgebrochene Zahlungen werden nach einiger Zeit von PayPal gelscht und sind dann nicht lnger abrufbar.",other:"Es ist wahrscheinlich, dass die Zahlung vom Kunden nicht abgeschlossen oder mit aktivierter Sandbox erstellt und jetzt mit Live-Daten angefordert wurde. Die Details fr nicht abgeschlossene Zahlungen sind auf der PayPal-Seite nur fr etwa 6 Stunden verfgbar."}},"sw-order-detail":{payPalCarrierLabel:"Standardversanddienstleister",payPalCarrierPlaceholder:"nicht festgelegt",payPalCarrierHelpText:'Du kannst den Standardversanddienstleister unter <a class="sw-internal-link sw-internal-link--inline" href="#/sw/settings/shipping/index">Versand<sw-icon name="regular-long-arrow-right" small /></a> festlegen und ndern. Dies hat jedoch keine Auswirkungen auf bereits gettigte Bestellungen.',payPalCarrierDescription:'Wenn du den Versanddienstleister fr diese PayPal Bestellung ndern willst, <a target="_blank" href="{orderLink}">klicke hier</a>.'}},vI={"swag-paypal-payment":{general:{title:"Orders"},tabs:{order:"PayPal",overview:"Overview"},paymentDetails:{cardTitle:"Payment",invoice:{heading:"Invoice amount",totalAmount:"Total amount:",subTotal:"Subtotal:",shipping:"Shipping:",discount:"Discount:",handling:"Handling fee:",insurance:"Insurance:",shipping_discount:"Shipping discount:"},payment:{heading:"Payment details",intent:"Intent:",paymentId:"Payment ID:",cartId:"Cart ID:",state:"State:",createTime:"Create time:",updateTime:"Update time:"},customer:{heading:"Customer",payerId:"Payer ID:"},error:{title:"Error fetching payment details from PayPal"}},puiDetails:{cardTitle:"Invoice payment data",buttonCopy:"Copy",bank:"Bank:",iban:"IBAN:",bic:"BIC:",accountHolder:"Account holder:",amount:"Amount:",reference:"Reference:"},transactionHistory:{cardTitle:"Payment History",states:{authorization:"Authorization",sale:"Sale",refund:"Refund",capture:"Capture",order:"Order"},types:{type:"Type",amount:"Amount",createTime:"Created",updateTime:"Updated",state:"State",trackingId:"Tracking ID",transactionFee:"Transaction fee",paymentMode:"Payment mode"}},buttons:{label:{refund:"Create a new refund",capture:"Capture",void:"Cancel authorization"}},modal:{title:{refund:"New refund",capture:"Capture",void:"Cancel authorization"}},refundAction:{successMessage:"Your refund was successful.",invoiceSelect:{label:"Select capture"},refundAmount:{label:"Amount",helpText:"An amount of '0' will cause the refund of the complete payment"},refundDescription:{label:"Description",placeholder:"Enter a description"},refundReason:{label:"Reason",placeholder:"Enter a reason"},refundNoteToPayer:{label:"Note to payer",placeholder:"Enter a note to payer"},refundInvoiceNumber:{label:"Invoice number",placeholder:"Enter an invoice number"},confirmButton:{text:"Execute"}},captureAction:{successMessage:"Your capture was successful.",maxAmount:"Maximum amount",currentAmount:"Amount",captureInvoiceNumber:{label:"Invoice number",placeholder:"Enter an invoice number"},captureNoteToPayer:{label:"Note to payer",placeholder:"Enter a note to payer"},isFinal:"This is the final capture",isFinalHint:"Hint: Marked as final capture, although not the entire amount is to be captured.",button:{text:"Capture payment"}},voidAction:{successMessage:"The payment was successfully voided.",confirm:{message:"Do you really want to cancel this payment?",button:{confirm:"Cancel authorization"}}},errorPage:{title:"Payment details not available",canceledPaymentContent:"If you see this message, it was probably a payment that was cancelled by the customer. Cancelled payments will be deleted by PayPal after a while and are then no longer available.",other:"It is likely that the payment was not completed by the customer, or was created with sandbox enabled and has now been requested with live data. Details for uncompleted payments are only available for about 6 hours on the PayPal side."}},"sw-order-detail":{payPalCarrierLabel:"Default shipping carrier",payPalCarrierPlaceholder:"not set",payPalCarrierHelpText:'You can set and change the default shipping carrier for PayPal in the <a class="sw-internal-link sw-internal-link--inline" href="#/sw/settings/shipping/index">shipping methods<sw-icon name="regular-long-arrow-right" small /></a>. However, this will have no effect on orders that have already been placed.',payPalCarrierDescription:'If you want to change the carrier for this PayPal order, <a target="_blank" href="{orderLink}">click here</a>'}},SI={"swag-paypal":{errors:{SWAG_PAYPAL_POS__EXISTING_POS_ACCOUNT:"Dieser Zettle-Account wurde bereits in einem anderen Verkaufskanal verwendet"}},"swag-paypal-pos":JSON.parse('{"general":{"moduleTitle":"Zettle by PayPal","salesChannelDetailDescription":{"title":"Lasse Dein Geschft mit Shopware und Zettle by PayPal wachsen","manufacturer":"Zettle by PayPal"}},"header":"Zettle-Verkaufskanal","tabTitle":{"overview":"bersicht","syncedProducts":"Synchronisierte Produkte","settings":"Einstellungen","runs":"Protokoll","help":"Hilfe"},"detail":{"disclaimer":{"headline":"Zettle ist ein PayPal-Service","subheadline":"Steigere Deinen Umsatz durch die Mglichkeiten von PayPal. Erstelle jetzt ein kostenloses Konto.","linkTarget":"https://www.paypal.com/de/webapps/mpp/merchant","linkText":"Hole Dir PayPal fr Deinen Shop"},"overview":{"titleSync":"Synchronisation","buttonSync":"Jetzt synchronisieren","buttonSyncProducts":"Produkt-Details synchronisieren","buttonSyncImages":"Bilder hochladen","buttonSyncInventory":"Bestand synchronisieren","buttonSyncAbort":"Synchronisation abbrechen","syncErrorTitle":"Synchronisations-Fehler","status":{"disabled":"Die Synchronisation ist nicht aktiv, da dieser Verkaufskanal deaktiviert ist.","message":{"syncing":"Synchronisation luft","noRunYet":"Noch keine Synchronisation durchgefhrt","success":"Synchronisation erfolgreich","warning":"Die letzte Synchronisation wurde mit Warnmeldungen abgeschlossen","error":"Die letzte Synchronisation wurde mit Fehlern abgeschlossen","aborted":"Die letzte Synchronisation wurde vom Benutzer abgebrochen"},"task":{"complete":"Vollstndig","product":"Produkte","image":"Bilder","inventory":"Bestand"},"lastSynced":"Zuletzt synchronisiert","lastSyncedComplete":"Zuletzt vollstndig synchronisiert","syncingDetail":"Dies knnte einige Minuten dauern. Der Prozess luft im Hintergrund weiter. Du kannst Deinen Shop whrendessen wie gewohnt weiterverwenden."},"continueSetup":{"cardTitle":"Einrichtung","content":{"headline":"Produkt-Synchronisation einrichten","firstLine":"Dein Zettle- und Dein Shopware-Konto sind nun miteinander verbunden! Richte zum Abschluss noch die Produktsynchronisierung ein.","secondLine":"Nach der Aktivierung werden alle nderungen, die Du an Deinen Shopware-Produkten vornimmst, automatisch in Zettle aktualisiert. Wenn ein Verkauf auf einem der beiden Systeme gettigt wird, wird der Lagerbestand aktualisiert und Du kannst alle Deine Verkufe bei Shopware einsehen."}}},"syncedProducts":{"title":"Synchronisierte Produkte","notSyncedYet":"Noch nicht synchronisiert","columns":{"name":"Name","state":"Status","date":"Datum"},"emptyState":{"title":"Keine Produkte gewhlt","message":"Es existieren keine Produkte in dem gewhlten Verkaufskanal bzw. der dynamischen Produktgruppe."},"actions":{"productDetails":"Produktdetails"}},"settings":{"titleGeneralSettings":"Allgemein","domain":"Deine Shop-Domain","domainHelpText":"Zettle wird diese Domain nutzen, um Mediendaten Deiner synchronisierten Produkte herunterzuladen.","domainError":"Die angegebene Domain muss gltig sein","productStream":"Dynamische Produktgruppe","titleCredentials":"Zugangsdaten","titleSync":"Synchronisation","titlePrices":"Preise","syncPrices":"Preise bertragen","replace":"Existierende Produkte in Zettle ersetzen","activeHelpText":"Wenn der Verkaufskanal aktiv ist, erfolgt die Zettle-Synchronisierung automatisch im Hintergrund.","saveAlert":"nderungen werden erst nach der aktuell laufenden Synchronsiation zwischen Shopware und Zettle aktiv.","optionsTitle":"Optionen","reset":{"buttonTitle":"Synchronisation zurcksetzen","descriptionText":"Wenn Probleme auftreten, hast du hier die Mglichkeit, alle Produkte & Bilder neu hochzuladen.","modalConfirmText":"Diese Aktion wird die Synchronisations-Historie des folgenden Verkaufskanals zurcksetzen","modalTextInfo":"Alle Produkte & Bilder werden bei der nchsten Synchronisation neu hochgeladen. Dies kann etwas Zeit in Anspruch nehmen. Du wirst keine Daten in Shopware verlieren, einige Daten werden mglicherweise in Zettle berschrieben.","modalTitle":"Synchronisation zurcksetzen","modalButtonConfirm":"Synchronisation zurcksetzen"}},"logs":{"columnLastSync":"Details","noEntry":"Noch nicht synchronisiert","states":{"success":"Aktualisiert","failed":"Fehlgeschlagen","aborted":"Abgebrochen"}},"runs":{"title":"Synchronisations-Historie","toolbarText":"Mit \\"Protokolle aufrumen\\" kannst Du jederzeit alle Protokolle lschen. Protokolle die lter als 30 Tage sind, werden automatisch entfernt.","completeTask":"Vollstndig","productTask":"Produkt","inventoryTask":"Inventar","imageTask":"Bilder","cloneVisibilityTask":"Produktsichtbarkeit","states":{"withWarnings":"Mit Warnungen abgeschlossen","successful":"Abgeschlossen","aborted":"Durch Benutzer abgebrochen","failed":"Fehlgeschlagen"},"actions":{"showDetails":"Details anzeigen"},"emptyState":{"title":"Keine beendeten Synchronisationen","message":"Synchronisiere jetzt um Eintrge zu erhalten."},"columns":{"task":"Typ","state":"Status","date":"Datum"}},"cleanLog":"Protokolle aufrumen"},"wizard":{"salesChannelPrototypeName":"Zettle POS","stepItemTitle":{"connection":"Benutzerkonto-Einrichtung","connectionSuccess":"Verbindung","customization":"Benutzerdefinierte Einstellungen","productSelection":"Produktauswahl","syncLibrary":"Product synchronisation","syncPrices":"Preis-Synchronsiation","finish":"Abschluss"},"connection":{"modalTitle":"Benutzerkonto-Einrichtung","headerConnect":"Verbinde Deinen Zettle-Account","headerNewCustomer":"Neu bei Zettle?","buttonCreateAccount":"Zettle-Account anlegen","buttonCreateAccountLink":"https://www.zettle.com/de/integrationen/shopware?utm_source=local_partnership&utm_medium=ecommerce&utm_campaign=shopware"},"connectionSuccess":{"modalTitle":"Verbindung hergestellt","headline":"Deine Zettle- und Shopware-Konten sind jetzt miteinander verbunden!","info":"Befolge zum Abschluss die nchsten Schritte zur Einrichtung der Produktsynchronisation.","disconnectButton":"Verbindung trennen","disclaimer":"Alle nderungen, die Du an Deinen Shopware-Produkten vornimmst, werden jetzt automatisch in Deinem verbundenen Zettle-Konto aktualisiert.","fakeFirstName":"Wird","fakeLastName":"geladen ...","fakeMail":"pos@example.com"},"connectionDisconnect":{"modalTitle":"Zettle-Konto trennen","headline":"Du bist dabei, die Verbindung zu Zettle zu trennen","info":"Produkte werden nicht weiter mit dem angezeigten Zettle-Account synchronisiert, wenn die Verbindung getrennt wurde.","disconnectButton":"Konto trennen","disconnectErrorMessage":"Ein Fehler ist beim Trennen aufgetreten."},"customization":{"salesChannelLabel":"Name des Verkaufskanals","modalTitle":"Verkaufskanal-Details","labelDomain":"Deine Shop-Domain","subtitle":"Zettle wird diese Domain nutzen, um Mediendaten Deiner synchronisierten Produkte herunterzuladen. Zettle akzeptiert ausschlielich gesicherte URLs (https).","placeholderDomain":"www.mein-store.shopware.com"},"productSelection":{"modalTitle":"Produkte von einem existierenden Verkaufskanal bertragen","labelSelect":"Verkaufskanal","labelToggle":"Produktauswahl bertragen","info":"Um direkt durchzustarten kannst Du nun Produkte eines bestehenden Verkaufskanals Deinem neuen Verkaufskanal zuweisen. Alle zugewiesenen Produkte werden dann zur Synchronisation mit Zettle POS zur Verfgung stehen."},"syncLibrary":{"modalTitle":"Produktsynchronisation einrichten","header":"Wir haben {shopwareProducts} und {posProducts} gefunden","shopwareProducts":"keine Shopware-Produkte | ein Shopware-Produkt | {n} Shopware-Produkte","posProducts":"keine Zettle-Produkte | ein Zettle-Produkt | {n} Zettle-Produkte","description":"Alle Produkte werden aus dem neuen Shopware-Verkaufskanal synchronisiert. Wie mchtest Du Deine Zettle-Produktbibliothek einrichten?","optionReplacePermanentlyLabel":"Nur Shopware-Produkte verwenden","optionReplacePermanentlyDescription":"In Deiner Zettle-Produktbibliothek werden ausschlielich Deine Shopware-Produkte und -Bestnde gepflegt.","optionReplaceOneTimeLabel":"Zettle-Produktbibliothek ersetzen","optionReplaceOneTimeDescription":"Ersetze die bestehende Zettle-Produktbibliothek einmalig mit den Produkten und Bestnden aus Shopware.","optionReplaceNotLabel":"Shopware-Produkte hinzufgen","optionReplaceNotDescription":"Deine Shopware-Produkte und -Bestnde werden Deiner Zettle-Produktbibliothek neben bereits bestehenden Produkten hinzugefgt.","disclaimer":"Du kannst diese Einstellung jederzeit ndern."},"syncPrices":{"modalTitle":"Preis-Synchronisation","header":"Wie mchtest Du die Produktpreise nach Zettle synchronisieren?","description":"Die Preise Deiner Produkte enthalten die Mehrwertsteuer, wenn sie mit Zettle synchronisiert werden.","disclaimer":"Du kannst die Mehrwertsteuer manuell in der Zettle-Produktbibliothek pflegen.","optionTrueLabel":"Preise mit Mehrwertsteuer synchronisieren","optionTrueDescription":"Die mit Zettle synchronisierten Preise enthalten die Mehrwertsteuer.","optionFalseLabel":"Preise werden nicht synchronisiert.","optionFalseDescription":"Produktpreise werden bei der Synchronisation nicht bertragen. Du kannst diese in Deiner Zettle-Produktbibliothek anpassen."},"finish":{"modalTitle":"Fertiggestellt","header":"Einrichtung der Produkt-Synchronisation abgeschlossen!","firstParagraph":"Dein Zettle-Konto ist jetzt mit Deinem Verkaufskanal verknpft und bertrgt Deine Produkte zu Zettle. Wenn Du in Zukunft einen Verkauf ttigst, wird der Bestand bei Zettle und Shopware automatisch aktualisiert.","secondParagraph":"Wenn Du Deine Produkte aktualisieren mchtest, empfehlen wir Dir, dies in Shopware zu tun, um sie automatisch mit Deiner Zettle-Anwendung zu synchronisieren."}},"authentication":{"messageTestError":"Die Zugangsdaten konnten nicht validiert werden","messageDuplicateError":"Dieser Zettle-Account wurde bereits in einem anderen Verkaufskanal verwendet","labelApiKey":"API-Schlssel","placeholderApiKey":"API-Schssel eingeben ...","apiKeyDescription":"Ein API-Schlssel funktioniert wie ein Passwort. Shopware verwendet Deinen Zettle-API-Schlssel, um eine sichere Verbindung zu Deinem Zettle-Konto herzustellen.","buttonGenerateKey":"API-Key generieren"},"account":{"loadingName":"Wird geladen ...","loadingEmail":"pos@example.com","errorName":"Fehler bei der Authentifikation","errorEmail":"Dein API-Key konnte nicht verifiziert werden","connectedStatus":"Verbunden","noConnectionStatus":"Keine Verbindung","manageAccount":"Zettle-Konto verwalten","editConnection":"Verbindung bearbeiten","lastUpdated":"Zuletzt aktualisiert"},"gettingStarted":{"cardTitle":"Erste Schritte mit Zettle by PayPal","readerHeadline":"Melde Dich bei Zettle an und bestelle jetzt Dein Zettle-Kartenlesegert!","readerText":"Mehr Infos zum Kartenlesegert findest Du auf der Bestellseite:","readerLinkTarget":"https://shop.zettle.com","readerLinkText":"shop.zettle.com","readerImageAlt":"Zettle-Kartenlesegert","appHeadline":"Zettle-Go-App herunterladen","appText":"Verfgbar fr iOS- und Android-Gerte.<br>Verbinde Dein Zettle-Konto mit dem Kartenlesegert, um sofort loszulegen.","appImageAlt":"Zettle app"},"messageCloneError":"Konnte die Produktzuordnung nicht von anderem Verkaufskanal bertragen.","messageWebhookRegisterError":"Der Webhook konnte nicht bei Zettle registriert werden"}')},PI={"swag-paypal":{errors:{SWAG_PAYPAL_POS__EXISTING_POS_ACCOUNT:"This Zettle account has already been configured in another Sales Channel"}},"swag-paypal-pos":JSON.parse(`{"general":{"moduleTitle":"Zettle by PayPal","salesChannelDetailDescription":{"title":"Grow your business with Shopware and Zettle by PayPal","manufacturer":"Zettle by PayPal"}},"header":"Zettle Sales Channel","tabTitle":{"overview":"Overview","syncedProducts":"Synchronised Products","settings":"Settings","runs":"Logs","help":"Help"},"detail":{"disclaimer":{"headline":"Zettle is a PayPal service","subheadline":"Help increase sales through the power of PayPal. Get started for free.","linkTarget":"https://www.paypal.com/en/webapps/mpp/merchant","linkText":"Get PayPal for your shop"},"overview":{"titleSync":"Synchronisation","buttonSync":"Synchronise now","buttonSyncProducts":"Synchronise product details","buttonSyncImages":"Upload images","buttonSyncInventory":"Synchronise inventory","buttonSyncAbort":"Abort synchronisation","syncErrorTitle":"Synchronisation error","status":{"disabled":"Synchronisation is not enabled, because your Sales Channel is disabled.","message":{"syncing":"Synchronisation in progress","noRunYet":"No recent run found","success":"Synchronised successfully","warning":"Last synchronisation finished with warnings","error":"Last synchronisation finished with errors","aborted":"Last synchronisation was aborted by the user"},"task":{"complete":"complete","product":"products","image":"images","inventory":"inventory"},"lastSynced":"Last synchronisation","lastSyncedComplete":"Last complete synchronisation","syncingDetail":"This could take a few minutes. This process runs in the background, meanwhile you can use your shop as usual."},"continueSetup":{"cardTitle":"Setup","content":{"headline":"Setup product synchronisation","firstLine":"Your Zettle and Shopware accounts are now connected! You may now setup product synchronisation.","secondLine":"Once activated, Zettle will automatically be kept in sync with your Shopware products. Sales made through Zettle are also synchronised with Shopware and you can use the Administration to keep yourself up to date on Zettle and Shopware sales as well."}}},"syncedProducts":{"title":"Synchronised Products","notSyncedYet":"Not synchronised yet","columns":{"name":"Name","state":"Status","date":"Date"},"emptyState":{"title":"No products selected","message":"There are no products in your Sales Channel or dynamic product group."},"actions":{"productDetails":"Product details"}},"settings":{"titleGeneralSettings":"General settings","domain":"Your Shop-Domain","domainHelpText":"Zettle will use this domain to download media associated with your synchronised products. Zettle will only accept secure URLs (https).","domainError":"The provided domain must be valid","productStream":"Dynamic product group","titleCredentials":"Credentials","titleSync":"Synchronisation","titlePrices":"Prices","syncPrices":"Synchronise prices","replace":"Replace existing products in Zettle","activeHelpText":"If active, the Zettle synchronisation will happen automatically in the background.","saveAlert":"Saved changes are available after the currently running synchronisation between Shopware and Zettle ended.","optionsTitle":"Options","reset":{"buttonTitle":"Reset synchronisation","descriptionText":"If you are experiencing issues, you may re-upload all products and images.","modalConfirmText":"This will reset the synchronisation history for the Sales Channel","modalTextInfo":"All items will be re-uploaded on the next synchronisation. This may take a while. You will not lose any data in Shopware, some data may be overwritten at Zettle.","modalTitle":"Resetting synchronisation history","modalButtonConfirm":"Reset synchronisation"}},"logs":{"columnLastSync":"Details","noEntry":"Not synchronised yet","states":{"success":"Updated","failed":"Failed","aborted":"Aborted"}},"runs":{"title":"Synchronisation history","toolbarText":"\\"Clean up logs\\" will delete all logs. Logs older than 30 days will be removed automatically.","completeTask":"Complete","productTask":"Product","inventoryTask":"Inventory","imageTask":"Image","cloneVisibilityTask":"Product visibility","states":{"withWarnings":"Completed with warnings","successful":"Completed","aborted":"Aborted by user","failed":"Failed"},"actions":{"showDetails":"Show details"},"emptyState":{"title":"No finished synchronisations","message":"Synchronise now to generate logs."},"columns":{"task":"Type","state":"State","date":"Date"}},"cleanLog":"Clean up log"},"wizard":{"salesChannelPrototypeName":"Zettle POS","stepItemTitle":{"connection":"Account setup","connectionSuccess":"Connection","customization":"Customisation","productSelection":"Product selection","syncLibrary":"Product synchronisation","syncPrices":"Price synchronisation","finish":"Finish"},"connection":{"modalTitle":"Account setup","headerConnect":"Connect your Zettle account","headerNewCustomer":"New to Zettle?","buttonCreateAccount":"Create Zettle account","buttonCreateAccountLink":"https://www.zettle.com/gb/integrations/e-commerce/shopware?utm_source=local_partnership&utm_medium=ecommerce&utm_campaign=shopware"},"connectionSuccess":{"modalTitle":"Connection established","headline":"Your Zettle and Shopware accounts are now connected!","info":"Follow the next steps to finish setting up product synchronisation.","disconnectButton":"Disconnect","disclaimer":"Any changes you make to your Shopware products will now automatically be updated in your connected Zettle account.","fakeFirstName":"Currently","fakeLastName":"loading...","fakeMail":"pos@example.com"},"connectionDisconnect":{"modalTitle":"Disconnect Zettle account","headline":"You are about to disconnect Zettle","info":"Products will no longer be updated and synchronised with your shown Zettle account when disconnecting your account.","disconnectButton":"Disconnect account","disconnectErrorMessage":"An error occured while disconnecting."},"customization":{"salesChannelLabel":"Name of Sales Channel","modalTitle":"Sales Channel details","labelDomain":"Your Shop-Domain","subtitle":"Zettle will use this domain to download media associated with your synchronised products.","placeholderDomain":"www.my-store.shopware.com"},"productSelection":{"modalTitle":"Transfer products from existing Sales Channel","labelSelect":"Sales Channel","labelToggle":"Transfer product selection","info":"To get started quicker you now have the option to assign products from an existing Sales Channel to your newly created one. All assigned products will then be available for synchronisation in Zettle POS. No manual work needed."},"syncLibrary":{"modalTitle":"Setup product synchronisation","header":"We found {shopwareProducts} and {posProducts}","shopwareProducts":"no Shopware products | one Shopware product | {n} Shopware products","posProducts":"no Zettle products | one Zettle product | {n} Zettle products","description":"All products are synchronised from your newly created Sales Channel in Shopware. How would you like to setup your Zettle library?","optionReplacePermanentlyLabel":"Use only Shopware products","optionReplacePermanentlyDescription":"Only your Shopware products and stock quantities will exist in your Zettle library.","optionReplaceOneTimeLabel":"Replace Zettle library","optionReplaceOneTimeDescription":"Replace your existing Zettle library with products and stock quantities from Shopware once.","optionReplaceNotLabel":"Add Shopware products","optionReplaceNotDescription":"Your Shopware products and stock quantities will be added to your existing Zettle library.","disclaimer":"You can change these settings later at any time."},"syncPrices":{"modalTitle":"Setup product synchronisation","header":"How would you like to synchronise product prices with Zettle?","description":"Your products prices will include VAT when synchronised to Zettle.","disclaimer":"You can edit your VAT manually in the Zettle product library.","optionTrueLabel":"Synchronise prices with VAT","optionTrueDescription":"Prices synchronised to Zettle will include VAT.","optionFalseLabel":"Don't synchronise prices","optionFalseDescription":"Product prices will not be transferred on synchronisation. You can set them in your Zettle product library."},"finish":{"modalTitle":"Finish","header":"Product synchronisation setup completed!","firstParagraph":"Your Zettle account is now linked to your Sales Channel and your products will be transferred to Zettle. In the future, when you make a sale, we will update your stock in Zettle and Shopware.","secondParagraph":"If you need to update your products, we recommend you do this in Shopware and they'll synchronise to your Zettle app automatically."}},"authentication":{"messageTestError":"The credentials could not be validated","messageDuplicateError":"This Zettle account has already been configured in another Sales Channel","labelApiKey":"API key","placeholderApiKey":"Enter API key...","apiKeyDescription":"API keys function like passwords. Shopware will use your Zettle API key to establish a secure connection to your Zettle account.","buttonGenerateKey":"Generate API key"},"account":{"loadingName":"Currently loading...","loadingEmail":"pos@example.com","errorName":"Error during authentication","errorEmail":"Your API key could not be verified","connectedStatus":"Connected","noConnectionStatus":"No connection","manageAccount":"Manage account","editConnection":"Edit connection","lastUpdated":"Last updated"},"gettingStarted":{"cardTitle":"Get started with Zettle by PayPal","readerHeadline":"Login to Zettle to order your Zettle card reader","readerText":"Learn more about the card reader and order one right here:","readerLinkTarget":"https://shop.zettle.com","readerLinkText":"shop.zettle.com","readerImageAlt":"Zettle card reader","appHeadline":"Download the Zettle Go app","appText":"Available for iOS and Android tablets and phones.<br>Connect your Zettle account and your card reader to start making sales.","appImageAlt":"Zettle app"},"messageCloneError":"Could not transfer product visibility from another Sales Channel.","messageWebhookRegisterError":"The webhook could not be registered at Zettle"}`)},CI={"swag-paypal":{notifications:{test:{title:"PayPal-API-Zugangsdaten",errorMessage:"Die Validation ist fehlgeschlagen:<br>{message}",successMessage:"Die Zugangsdaten sind gltig."},webhook:{title:"PayPal Webhook",errorMessage:"Der Webhook konnte nicht aktualisiert werden:<br>{message}",successMessage:"Die Aktualisierung war erfolgreich."}}},"swag-paypal-settings":{header:"PayPal",module:{title:"PayPal",description:"Einstellungen fr PayPal"},tabs:{general:"Allgemein",storefront:"Storefront-Darstellung",advanced:"Fortgeschritten"},options:{intent:{CAPTURE:"Automatischer Zahlungseinzug (Intent CAPTURE)",AUTHORIZE:"Manueller Zahlungseinzug (Intent AUTHORIZE)"},landingPage:{LOGIN:"Anmeldung",GUEST_CHECKOUT:"Gast-Checkout",NO_PREFERENCE:"Keine Prferenz"},buttonColor:{blue:"Blau",black:"Schwarz",gold:"Gold (empfohlen)",silver:"Silber",white:"Wei"},buttonShape:{sharp:"Rechteckig mit spitzen Ecken",pill:"Rund",rect:"Rechteckig mit abgerundeten Ecken"}},credentialsLive:{title:"Live-API-Zugangsdaten",test:"Testen"},credentialsSandbox:{title:"Sandbox-API-Zugangsdaten",test:"Testen"},behavior:{title:"Verhalten"},vaulting:{title:"Vaulting",descriptionTitle:"Einmal-Paypal-Checkout",descriptionText:"PayPal-Kontos mit aktiviertem 'Vaulting' knnen kontinuierlich belastet werden, ohne dass Deine Kunden whrend der Transaktionen anwesend sein mssen. Auch weitere Transaktionen knnen durchgefhrt werden, ohne dass sich Deine Kunden erneut bei PayPal authentifizieren mssen.",activeButtonLabel:"Vaulting freischalten"},acdc:{title:"Kredit- oder Debitkarte"},pui:{title:"Rechnungskauf"},express:{title:"Express Checkout Shortcut",subtitle:"Express Checkouts erhhen die Konversionsrate in Deinem Shop und stellen fr Dich als Hndler kein finanzielles Risiko dar, daher sollten sie immer aktiv sein.",alertMessage:"Double Opt-In fr Gast-Bestellungen ist in einem Deiner Verkaufskanle aktiviert. Diese Funktion ist nicht mit dem PayPal Express Checkout Shortcut kompatibel. Kunden, die sich ber den Express Checkout Shortcut anmelden, erhalten keine Double-Opt-In-Verifizierungs-E-Mails.",alertMessagePhone:'Telefonnummern von Kundenadressen sind bei einem Deiner Verkaufskanle aktiviert. Bitte stell sicher, dass "Kontakttelefonnummern" von PayPal bertragen werden, um Fehler im Checkout zu vermeiden. Sie knnen diese Einstellung {url} finden.',alertMessagePhoneLink:"hier"},installment:{title:"'Spter Bezahlen'-Banner",subtitle:"Banner erhhen die Konversionsrate in Deinem Shop und stellen fr Dich als Hndler kein finanzielles Risiko dar, daher sollten sie immer aktiv sein."},spb:{title:"Smart Payment Buttons"},webhook:{title:"Webhook",info:"Der Webhook dient dazu, den Status einer Transaktion asynchron zu aktualisieren. Falsch registrierte Webhooks, z.B. auf einem anderen oder nicht ffentlich zugnglichen Server, knnen zu unbesttigten Transaktionen fhren, unabhngig davon, ob die Transaktion von PayPal verarbeitet wurde.",buttonRefresh:"Webhook aktualisieren",refreshFailed:"Aktualisierung des Webhooks ist fehlgeschlagen",fetchFailed:"Prfen des Webhooks ist fehlgeschlagen",status:{unknown:"Laden ...",missing:"Fehlend",invalid:"Registriert, aber mit abweichender Domain",valid:"Gltig"}},crossBorder:{title:"Spter bezahlen - Lnderbergreifende Nachrichten",warning:"Bitte wenden Sie sich an Ihren PayPal-Vertreter, um diese Funktion fr Ihr Konto zu aktivieren.",info:'Mit lnderbergreifende Nachrichten fr "Spter bezahlen" wird die "Spter bezahlen"-Nachricht in der Sprache des Kunden anzeigt. Diese Funktion ist nur fr bestimmte Lnder verfgbar. {0}',buyerCountryAuto:"Automatische Bestimmung",buyerCountryOverride:"Lokalisierung"},environment:{title:"Umgebung",info:`PayPal sendet Bestellstatus-Updates ber Webhooks an den Shop und fordert auerdem eine Neuberechnung des Warenkorbs an, wenn Kunden nderungen in der PayPal Express Checkout-Benutzeroberflche vornehmen. Wenn der Shop nicht ffentlich zugnglich ist (z. B. wenn es sich um eine Entwicklungs-/Staging-Umgebung handelt oder eine Authentifizierung erfordert), kannst du diese Instanz als "lokale Umgebung" kennzeichnen, um Verbindungsfehler zu vermeiden.
Bitte beachte, dass alle Webhook-Listener beim Speichern deregistriert werden.`}},"swag-paypal-settings-sales-channel-switch":{description:"Klicken, um PayPal im ausgewhlten Sales Channel zu aktivieren und als Standardzahlungsart zu setzen",label:"Setze PayPal als Standard"},"swag-paypal-settings-locale-select":{invalid:"Die angegebene Sprache ist ungltig. Bitte whle eine aus der Liste aus.",automatic:"Automatisch (empfohlen)"}},kI={"swag-paypal":{notifications:{test:{title:"PayPal API credentials",errorMessage:"The validation failed:<br>{message}",successMessage:"The credentials are valid."},webhook:{title:"PayPal Webhook",errorMessage:"Failed to refresh webhook:<br>{message}",successMessage:"The webhook has been refreshed."}}},"swag-paypal-settings":{header:"PayPal",module:{title:"PayPal",description:"PayPal settings"},tabs:{general:"General",storefront:"Storefront presentation",advanced:"Advanced"},options:{intent:{CAPTURE:"Automatic payment collection (intent CAPTURE)",AUTHORIZE:"Manual payment collection (intent AUTHORIZE)"},landingPage:{LOGIN:"Login",GUEST_CHECKOUT:"Guest Checkout",NO_PREFERENCE:"No preference"},buttonShape:{sharp:"Rectangular with sharp corners",pill:"Round",rect:"Rectangular with rounded corners"},buttonColor:{blue:"Blue",black:"Black",gold:"Gold (recommended)",silver:"Silver",white:"White"}},credentialsLive:{title:"Live API credentials",test:"Test"},credentialsSandbox:{title:"Sandbox API credentials",test:"Test"},behavior:{title:"Behaviour"},vaulting:{title:"Vaulting",descriptionTitle:"One-time Paypal checkout",descriptionText:"Vaulting a PayPal account will allow you to charge the account in the future without requiring your customer to be present during the transaction or re-authenticate with PayPal when they are present during the transaction.",activeButtonLabel:"Activate Vaulting"},acdc:{title:"Credit- or debit card"},pui:{title:"Pay upon invoice"},express:{title:"Express Checkout Shortcut",subtitle:"Express Checkouts increase the conversion rate in your shop and pose no financial risk to you as a merchant. It is recommended to keep them activated. ",alertMessage:"Double opt-in for guests is activated in one of your Sales Channels. This feature is not compatible with PayPal Express Shortcut buttons. Customers who sign up via the Express Checkout Shortcut buttons won't receive double opt-in verification emails.",alertMessagePhone:'Phone numbers are required for one of your Sales Channels. Please ensure that you have enabled the transmission for "contact phone number" in the PayPal account settings to avoid checkout issues. You can find this setting {url}.',alertMessagePhoneLink:"here"},installment:{title:"'Pay Later' banner",subtitle:"Banners increase the conversion rate in your shop and pose no financial risk to you as a merchant. It is recommended to keep them activated."},spb:{title:"Smart Payment Buttons"},webhook:{title:"Webhook",info:"The webhook is used for updating the status of a transaction asynchronously. Incorrectly registered webhooks, e.g. on a different or not publicly available server, may result in unconfirmed transactions, regardless whether the transaction has been processed by PayPal.",buttonRefresh:"Refresh webhook",refreshFailed:"Failed to refresh webhook",fetchFailed:"Failed to fetch webhook status",status:{unknown:"Loading...",missing:"Not registered",invalid:"Registered, but possible domain mismatch",valid:"Registered"}},crossBorder:{title:"Pay Later cross-border messaging",warning:"Please contact your PayPal representative to enable this feature for your account.",info:"Pay Later messaging is a feature that allows you to display a Pay Later message in the language of the customer. This feature is only available for certain countries. {0}",buyerCountryAuto:"Automatic determination",buyerCountryOverride:"Localization"},environment:{title:"Environment",info:`PayPal will send order status updates to the shop via webhooks, and will also request cart recalculations when customers make changes in the PayPal Express Checkout UI. If the shop is not publicly accessible (e.g. if it is in a development/staging environment, or if it requires authentication), you can mark this instance as a "local environment" to prevent connection errors.
Please note that any webhook listener will be deregistered when saving.`}},"swag-paypal-settings-sales-channel-switch":{description:"Click this button to enable PayPal and select it as default in the selected Sales Channel",label:"Set PayPal as default"},"swag-paypal-settings-locale-select":{invalid:"The provided locale is invalid. Please choose one from the list.",automatic:"Automatic (recommended)"}};Shopware.Locale.extend("de-DE",dI);Shopware.Locale.extend("en-GB",hI);Shopware.Locale.extend("de-DE",uI);Shopware.Locale.extend("en-GB",pI);Shopware.Locale.extend("de-DE",lI);Shopware.Locale.extend("en-GB",cI);Shopware.Locale.extend("de-DE",fI);Shopware.Locale.extend("en-GB",gI);Shopware.Locale.extend("de-DE",_I);Shopware.Locale.extend("en-GB",yI);Shopware.Locale.extend("de-DE",mI);Shopware.Locale.extend("en-GB",wI);Shopware.Locale.extend("de-DE",bI);Shopware.Locale.extend("en-GB",vI);Shopware.Locale.extend("de-DE",SI);Shopware.Locale.extend("en-GB",PI);Shopware.Locale.extend("de-DE",CI);Shopware.Locale.extend("en-GB",kI);export{Gc as P};
